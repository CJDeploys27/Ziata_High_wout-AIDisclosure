(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sl={exports:{}},Oo={},ll={exports:{}},le={};var wd;function Dm(){if(wd)return le;wd=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function U(A,x,se){this.props=A,this.context=x,this.refs=M,this.updater=se||w}U.prototype.isReactComponent={},U.prototype.setState=function(A,x){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,x,"setState")},U.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=U.prototype;function Y(A,x,se){this.props=A,this.context=x,this.refs=M,this.updater=se||w}var G=Y.prototype=new O;G.constructor=Y,L(G,U.prototype),G.isPureReactComponent=!0;var K=Array.isArray,j=Object.prototype.hasOwnProperty,H={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ue(A,x,se){var ae,fe={},pe=null,Ce=null;if(x!=null)for(ae in x.ref!==void 0&&(Ce=x.ref),x.key!==void 0&&(pe=""+x.key),x)j.call(x,ae)&&!Q.hasOwnProperty(ae)&&(fe[ae]=x[ae]);var ye=arguments.length-2;if(ye===1)fe.children=se;else if(1<ye){for(var Re=Array(ye),rn=0;rn<ye;rn++)Re[rn]=arguments[rn+2];fe.children=Re}if(A&&A.defaultProps)for(ae in ye=A.defaultProps,ye)fe[ae]===void 0&&(fe[ae]=ye[ae]);return{$$typeof:t,type:A,key:pe,ref:Ce,props:fe,_owner:H.current}}function Z(A,x){return{$$typeof:t,type:A.type,key:x,ref:A.ref,props:A.props,_owner:A._owner}}function oe(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ge(A){var x={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(se){return x[se]})}var de=/\/+/g;function Ee(A,x){return typeof A=="object"&&A!==null&&A.key!=null?ge(""+A.key):x.toString(36)}function Xe(A,x,se,ae,fe){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var Ce=!1;if(A===null)Ce=!0;else switch(pe){case"string":case"number":Ce=!0;break;case"object":switch(A.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=A,fe=fe(Ce),A=ae===""?"."+Ee(Ce,0):ae,K(fe)?(se="",A!=null&&(se=A.replace(de,"$&/")+"/"),Xe(fe,x,se,"",function(rn){return rn})):fe!=null&&(oe(fe)&&(fe=Z(fe,se+(!fe.key||Ce&&Ce.key===fe.key?"":(""+fe.key).replace(de,"$&/")+"/")+A)),x.push(fe)),1;if(Ce=0,ae=ae===""?".":ae+":",K(A))for(var ye=0;ye<A.length;ye++){pe=A[ye];var Re=ae+Ee(pe,ye);Ce+=Xe(pe,x,se,Re,fe)}else if(Re=C(A),typeof Re=="function")for(A=Re.call(A),ye=0;!(pe=A.next()).done;)pe=pe.value,Re=ae+Ee(pe,ye++),Ce+=Xe(pe,x,se,Re,fe);else if(pe==="object")throw x=String(A),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return Ce}function on(A,x,se){if(A==null)return A;var ae=[],fe=0;return Xe(A,ae,"","",function(pe){return x.call(se,pe,fe++)}),ae}function Ae(A){if(A._status===-1){var x=A._result;x=x(),x.then(function(se){(A._status===0||A._status===-1)&&(A._status=1,A._result=se)},function(se){(A._status===0||A._status===-1)&&(A._status=2,A._result=se)}),A._status===-1&&(A._status=0,A._result=x)}if(A._status===1)return A._result.default;throw A._result}var Te={current:null},B={transition:null},te={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:B,ReactCurrentOwner:H};function W(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:on,forEach:function(A,x,se){on(A,function(){x.apply(this,arguments)},se)},count:function(A){var x=0;return on(A,function(){x++}),x},toArray:function(A){return on(A,function(x){return x})||[]},only:function(A){if(!oe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},le.Component=U,le.Fragment=i,le.Profiler=u,le.PureComponent=Y,le.StrictMode=r,le.Suspense=y,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,le.act=W,le.cloneElement=function(A,x,se){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ae=L({},A.props),fe=A.key,pe=A.ref,Ce=A._owner;if(x!=null){if(x.ref!==void 0&&(pe=x.ref,Ce=H.current),x.key!==void 0&&(fe=""+x.key),A.type&&A.type.defaultProps)var ye=A.type.defaultProps;for(Re in x)j.call(x,Re)&&!Q.hasOwnProperty(Re)&&(ae[Re]=x[Re]===void 0&&ye!==void 0?ye[Re]:x[Re])}var Re=arguments.length-2;if(Re===1)ae.children=se;else if(1<Re){ye=Array(Re);for(var rn=0;rn<Re;rn++)ye[rn]=arguments[rn+2];ae.children=ye}return{$$typeof:t,type:A.type,key:fe,ref:pe,props:ae,_owner:Ce}},le.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},le.createElement=ue,le.createFactory=function(A){var x=ue.bind(null,A);return x.type=A,x},le.createRef=function(){return{current:null}},le.forwardRef=function(A){return{$$typeof:m,render:A}},le.isValidElement=oe,le.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Ae}},le.memo=function(A,x){return{$$typeof:h,type:A,compare:x===void 0?null:x}},le.startTransition=function(A){var x=B.transition;B.transition={};try{A()}finally{B.transition=x}},le.unstable_act=W,le.useCallback=function(A,x){return Te.current.useCallback(A,x)},le.useContext=function(A){return Te.current.useContext(A)},le.useDebugValue=function(){},le.useDeferredValue=function(A){return Te.current.useDeferredValue(A)},le.useEffect=function(A,x){return Te.current.useEffect(A,x)},le.useId=function(){return Te.current.useId()},le.useImperativeHandle=function(A,x,se){return Te.current.useImperativeHandle(A,x,se)},le.useInsertionEffect=function(A,x){return Te.current.useInsertionEffect(A,x)},le.useLayoutEffect=function(A,x){return Te.current.useLayoutEffect(A,x)},le.useMemo=function(A,x){return Te.current.useMemo(A,x)},le.useReducer=function(A,x,se){return Te.current.useReducer(A,x,se)},le.useRef=function(A){return Te.current.useRef(A)},le.useState=function(A){return Te.current.useState(A)},le.useSyncExternalStore=function(A,x,se){return Te.current.useSyncExternalStore(A,x,se)},le.useTransition=function(){return Te.current.useTransition()},le.version="18.3.1",le}var Ad;function Cl(){return Ad||(Ad=1,ll.exports=Dm()),ll.exports}var Rd;function Lm(){if(Rd)return Oo;Rd=1;var t=Cl(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,h){var v,T={},C=null,w=null;h!==void 0&&(C=""+h),y.key!==void 0&&(C=""+y.key),y.ref!==void 0&&(w=y.ref);for(v in y)r.call(y,v)&&!c.hasOwnProperty(v)&&(T[v]=y[v]);if(m&&m.defaultProps)for(v in y=m.defaultProps,y)T[v]===void 0&&(T[v]=y[v]);return{$$typeof:e,type:m,key:C,ref:w,props:T,_owner:u.current}}return Oo.Fragment=i,Oo.jsx=f,Oo.jsxs=f,Oo}var Nd;function Um(){return Nd||(Nd=1,sl.exports=Lm()),sl.exports}var re=Um(),Qe=Cl();const Fm=lf(Qe);var tr={},al={exports:{}},tn={},ul={exports:{}},dl={};var Pd;function Vm(){return Pd||(Pd=1,(function(t){function e(B,te){var W=B.length;B.push(te);e:for(;0<W;){var A=W-1>>>1,x=B[A];if(0<u(x,te))B[A]=te,B[W]=x,W=A;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var te=B[0],W=B.pop();if(W!==te){B[0]=W;e:for(var A=0,x=B.length,se=x>>>1;A<se;){var ae=2*(A+1)-1,fe=B[ae],pe=ae+1,Ce=B[pe];if(0>u(fe,W))pe<x&&0>u(Ce,fe)?(B[A]=Ce,B[pe]=W,A=pe):(B[A]=fe,B[ae]=W,A=ae);else if(pe<x&&0>u(Ce,W))B[A]=Ce,B[pe]=W,A=pe;else break e}}return te}function u(B,te){var W=B.sortIndex-te.sortIndex;return W!==0?W:B.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var y=[],h=[],v=1,T=null,C=3,w=!1,L=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(B){for(var te=i(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=B)r(h),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(h)}}function K(B){if(M=!1,G(B),!L)if(i(y)!==null)L=!0,Ae(j);else{var te=i(h);te!==null&&Te(K,te.startTime-B)}}function j(B,te){L=!1,M&&(M=!1,O(ue),ue=-1),w=!0;var W=C;try{for(G(te),T=i(y);T!==null&&(!(T.expirationTime>te)||B&&!ge());){var A=T.callback;if(typeof A=="function"){T.callback=null,C=T.priorityLevel;var x=A(T.expirationTime<=te);te=t.unstable_now(),typeof x=="function"?T.callback=x:T===i(y)&&r(y),G(te)}else r(y);T=i(y)}if(T!==null)var se=!0;else{var ae=i(h);ae!==null&&Te(K,ae.startTime-te),se=!1}return se}finally{T=null,C=W,w=!1}}var H=!1,Q=null,ue=-1,Z=5,oe=-1;function ge(){return!(t.unstable_now()-oe<Z)}function de(){if(Q!==null){var B=t.unstable_now();oe=B;var te=!0;try{te=Q(!0,B)}finally{te?Ee():(H=!1,Q=null)}}else H=!1}var Ee;if(typeof Y=="function")Ee=function(){Y(de)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,on=Xe.port2;Xe.port1.onmessage=de,Ee=function(){on.postMessage(null)}}else Ee=function(){U(de,0)};function Ae(B){Q=B,H||(H=!0,Ee())}function Te(B,te){ue=U(function(){B(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){L||w||(L=!0,Ae(j))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return i(y)},t.unstable_next=function(B){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var W=C;C=te;try{return B()}finally{C=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=C;C=B;try{return te()}finally{C=W}},t.unstable_scheduleCallback=function(B,te,W){var A=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,B){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=W+x,B={id:v++,callback:te,priorityLevel:B,startTime:W,expirationTime:x,sortIndex:-1},W>A?(B.sortIndex=W,e(h,B),i(y)===null&&B===i(h)&&(M?(O(ue),ue=-1):M=!0,Te(K,W-A))):(B.sortIndex=x,e(y,B),L||w||(L=!0,Ae(j))),B},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(B){var te=C;return function(){var W=C;C=te;try{return B.apply(this,arguments)}finally{C=W}}}})(dl)),dl}var Md;function Gm(){return Md||(Md=1,ul.exports=Vm()),ul.exports}var kd;function Hm(){if(kd)return tn;kd=1;var t=Cl(),e=Gm();function i(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,u={};function c(n,o){f(n,o),f(n+"Capture",o)}function f(n,o){for(u[n]=o,n=0;n<o.length;n++)r.add(o[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function C(n){return y.call(T,n)?!0:y.call(v,n)?!1:h.test(n)?T[n]=!0:(v[n]=!0,!1)}function w(n,o,s,d){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function L(n,o,s,d){if(o===null||typeof o>"u"||w(n,o,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(n,o,s,d,p,g,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=n,this.type=o,this.sanitizeURL=g,this.removeEmptyString=E}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];U[o]=new M(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function Y(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(O,Y);U[o]=new M(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(O,Y);U[o]=new M(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(O,Y);U[o]=new M(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function G(n,o,s,d){var p=U.hasOwnProperty(o)?U[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(L(o,s,p,d)&&(s=null),d||p===null?C(o)&&(s===null?n.removeAttribute(o):n.setAttribute(o,""+s)):p.mustUseProperty?n[p.propertyName]=s===null?p.type===3?!1:"":s:(o=p.attributeName,d=p.attributeNamespace,s===null?n.removeAttribute(o):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,d?n.setAttributeNS(d,o,s):n.setAttribute(o,s))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),H=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),ge=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),on=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),B=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,A;function x(n){if(A===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+n}var se=!1;function ae(n,o){if(!n||se)return"";se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(P){var d=P}Reflect.construct(n,[],o)}else{try{o.call()}catch(P){d=P}n.call(o.prototype)}else{try{throw Error()}catch(P){d=P}n()}}catch(P){if(P&&d&&typeof P.stack=="string"){for(var p=P.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,_=g.length-1;1<=E&&0<=_&&p[E]!==g[_];)_--;for(;1<=E&&0<=_;E--,_--)if(p[E]!==g[_]){if(E!==1||_!==1)do if(E--,_--,0>_||p[E]!==g[_]){var S=`
`+p[E].replace(" at new "," at ");return n.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",n.displayName)),S}while(1<=E&&0<=_);break}}}finally{se=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?x(n):""}function fe(n){switch(n.tag){case 5:return x(n.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return n=ae(n.type,!1),n;case 11:return n=ae(n.type.render,!1),n;case 1:return n=ae(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case H:return"Portal";case Z:return"Profiler";case ue:return"StrictMode";case Ee:return"Suspense";case Xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ge:return(n.displayName||"Context")+".Consumer";case oe:return(n._context.displayName||"Context")+".Provider";case de:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case on:return o=n.displayName||null,o!==null?o:pe(n.type)||"Memo";case Ae:o=n._payload,n=n._init;try{return pe(n(o))}catch{}}return null}function Ce(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ye(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function rn(n){var o=Re(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),d=""+n[o];if(!n.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,g=s.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(n,o,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Wo(n){n._valueTracker||(n._valueTracker=rn(n))}function kl(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var s=o.getValue(),d="";return n&&(d=Re(n)?n.checked?"true":"false":n.value),n=d,n!==s?(o.setValue(n),!0):!1}function $o(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pr(n,o){var s=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??n._wrapperState.initialChecked})}function xl(n,o){var s=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;s=ye(o.value!=null?o.value:s),n._wrapperState={initialChecked:d,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Dl(n,o){o=o.checked,o!=null&&G(n,"checked",o,!1)}function mr(n,o){Dl(n,o);var s=ye(o.value),d=o.type;if(s!=null)d==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+s):n.value!==""+s&&(n.value=""+s);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?hr(n,o.type,s):o.hasOwnProperty("defaultValue")&&hr(n,o.type,ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Ll(n,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,s||o===n.value||(n.value=o),n.defaultValue=o}s=n.name,s!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,s!==""&&(n.name=s)}function hr(n,o,s){(o!=="number"||$o(n.ownerDocument)!==n)&&(s==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+s&&(n.defaultValue=""+s))}var oo=Array.isArray;function wt(n,o,s,d){if(n=n.options,o){o={};for(var p=0;p<s.length;p++)o["$"+s[p]]=!0;for(s=0;s<n.length;s++)p=o.hasOwnProperty("$"+n[s].value),n[s].selected!==p&&(n[s].selected=p),p&&d&&(n[s].defaultSelected=!0)}else{for(s=""+ye(s),o=null,p=0;p<n.length;p++){if(n[p].value===s){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}o!==null||n[p].disabled||(o=n[p])}o!==null&&(o.selected=!0)}}function gr(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(i(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ul(n,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(i(92));if(oo(s)){if(1<s.length)throw Error(i(93));s=s[0]}o=s}o==null&&(o=""),s=o}n._wrapperState={initialValue:ye(s)}}function Fl(n,o){var s=ye(o.value),d=ye(o.defaultValue);s!=null&&(s=""+s,s!==n.value&&(n.value=s),o.defaultValue==null&&n.defaultValue!==s&&(n.defaultValue=s)),d!=null&&(n.defaultValue=""+d)}function Vl(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Gl(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Gl(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ko,Hl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,d,p){MSApp.execUnsafeLocalFunction(function(){return n(o,s,d,p)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ko.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function io(n,o){if(o){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=o;return}}n.textContent=o}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vf=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(n){Vf.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),ro[o]=ro[n]})});function ql(n,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||ro.hasOwnProperty(n)&&ro[n]?(""+o).trim():o+"px"}function Bl(n,o){n=n.style;for(var s in o)if(o.hasOwnProperty(s)){var d=s.indexOf("--")===0,p=ql(s,o[s],d);s==="float"&&(s="cssFloat"),d?n.setProperty(s,p):n[s]=p}}var Gf=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vr(n,o){if(o){if(Gf[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(i(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(i(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(i(61))}if(o.style!=null&&typeof o.style!="object")throw Error(i(62))}}function Er(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function Cr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _r=null,At=null,Rt=null;function zl(n){if(n=No(n)){if(typeof _r!="function")throw Error(i(280));var o=n.stateNode;o&&(o=yi(o),_r(n.stateNode,n.type,o))}}function Ol(n){At?Rt?Rt.push(n):Rt=[n]:At=n}function Jl(){if(At){var n=At,o=Rt;if(Rt=At=null,zl(n),o)for(n=0;n<o.length;n++)zl(o[n])}}function Yl(n,o){return n(o)}function Wl(){}var Sr=!1;function $l(n,o,s){if(Sr)return n(o,s);Sr=!0;try{return Yl(n,o,s)}finally{Sr=!1,(At!==null||Rt!==null)&&(Wl(),Jl())}}function so(n,o){var s=n.stateNode;if(s===null)return null;var d=yi(s);if(d===null)return null;s=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(i(231,o,typeof s));return s}var Ir=!1;if(m)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Ir=!1}function Hf(n,o,s,d,p,g,E,_,S){var P=Array.prototype.slice.call(arguments,3);try{o.apply(s,P)}catch(D){this.onError(D)}}var ao=!1,Qo=null,Xo=!1,wr=null,qf={onError:function(n){ao=!0,Qo=n}};function Bf(n,o,s,d,p,g,E,_,S){ao=!1,Qo=null,Hf.apply(qf,arguments)}function zf(n,o,s,d,p,g,E,_,S){if(Bf.apply(this,arguments),ao){if(ao){var P=Qo;ao=!1,Qo=null}else throw Error(i(198));Xo||(Xo=!0,wr=P)}}function ct(n){var o=n,s=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(s=o.return),n=o.return;while(n)}return o.tag===3?s:null}function Kl(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Ql(n){if(ct(n)!==n)throw Error(i(188))}function Of(n){var o=n.alternate;if(!o){if(o=ct(n),o===null)throw Error(i(188));return o!==n?null:n}for(var s=n,d=o;;){var p=s.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===s)return Ql(p),n;if(g===d)return Ql(p),o;g=g.sibling}throw Error(i(188))}if(s.return!==d.return)s=p,d=g;else{for(var E=!1,_=p.child;_;){if(_===s){E=!0,s=p,d=g;break}if(_===d){E=!0,d=p,s=g;break}_=_.sibling}if(!E){for(_=g.child;_;){if(_===s){E=!0,s=g,d=p;break}if(_===d){E=!0,d=g,s=p;break}_=_.sibling}if(!E)throw Error(i(189))}}if(s.alternate!==d)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?n:o}function Xl(n){return n=Of(n),n!==null?Zl(n):null}function Zl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Zl(n);if(o!==null)return o;n=n.sibling}return null}var bl=e.unstable_scheduleCallback,jl=e.unstable_cancelCallback,Jf=e.unstable_shouldYield,Yf=e.unstable_requestPaint,xe=e.unstable_now,Wf=e.unstable_getCurrentPriorityLevel,Ar=e.unstable_ImmediatePriority,ea=e.unstable_UserBlockingPriority,Zo=e.unstable_NormalPriority,$f=e.unstable_LowPriority,na=e.unstable_IdlePriority,bo=null,Rn=null;function Kf(n){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(bo,n,void 0,(n.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Zf,Qf=Math.log,Xf=Math.LN2;function Zf(n){return n>>>=0,n===0?32:31-(Qf(n)/Xf|0)|0}var jo=64,ei=4194304;function uo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ni(n,o){var s=n.pendingLanes;if(s===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes,E=s&268435455;if(E!==0){var _=E&~p;_!==0?d=uo(_):(g&=E,g!==0&&(d=uo(g)))}else E=s&~p,E!==0?d=uo(E):g!==0&&(d=uo(g));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,g=o&-o,p>=g||p===16&&(g&4194240)!==0))return o;if((d&4)!==0&&(d|=s&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=d;0<o;)s=31-vn(o),p=1<<s,d|=n[s],o&=~p;return d}function bf(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(n,o){for(var s=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-vn(g),_=1<<E,S=p[E];S===-1?((_&s)===0||(_&d)!==0)&&(p[E]=bf(_,o)):S<=o&&(n.expiredLanes|=_),g&=~_}}function Rr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ta(){var n=jo;return jo<<=1,(jo&4194240)===0&&(jo=64),n}function Nr(n){for(var o=[],s=0;31>s;s++)o.push(n);return o}function co(n,o,s){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-vn(o),n[o]=s}function ep(n,o){var s=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<s;){var p=31-vn(s),g=1<<p;o[p]=0,d[p]=-1,n[p]=-1,s&=~g}}function Pr(n,o){var s=n.entangledLanes|=o;for(n=n.entanglements;s;){var d=31-vn(s),p=1<<d;p&o|n[d]&o&&(n[d]|=o),s&=~p}}var ve=0;function oa(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ia,Mr,ra,sa,la,kr=!1,ti=[],Yn=null,Wn=null,$n=null,fo=new Map,po=new Map,Kn=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(n,o){switch(n){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":fo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(o.pointerId)}}function mo(n,o,s,d,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:o,domEventName:s,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},o!==null&&(o=No(o),o!==null&&Mr(o)),n):(n.eventSystemFlags|=d,o=n.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),n)}function tp(n,o,s,d,p){switch(o){case"focusin":return Yn=mo(Yn,n,o,s,d,p),!0;case"dragenter":return Wn=mo(Wn,n,o,s,d,p),!0;case"mouseover":return $n=mo($n,n,o,s,d,p),!0;case"pointerover":var g=p.pointerId;return fo.set(g,mo(fo.get(g)||null,n,o,s,d,p)),!0;case"gotpointercapture":return g=p.pointerId,po.set(g,mo(po.get(g)||null,n,o,s,d,p)),!0}return!1}function ua(n){var o=ft(n.target);if(o!==null){var s=ct(o);if(s!==null){if(o=s.tag,o===13){if(o=Kl(s),o!==null){n.blockedOn=o,la(n.priority,function(){ra(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oi(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var s=Dr(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(s===null){s=n.nativeEvent;var d=new s.constructor(s.type,s);Tr=d,s.target.dispatchEvent(d),Tr=null}else return o=No(s),o!==null&&Mr(o),n.blockedOn=s,!1;o.shift()}return!0}function da(n,o,s){oi(n)&&s.delete(o)}function op(){kr=!1,Yn!==null&&oi(Yn)&&(Yn=null),Wn!==null&&oi(Wn)&&(Wn=null),$n!==null&&oi($n)&&($n=null),fo.forEach(da),po.forEach(da)}function ho(n,o){n.blockedOn===o&&(n.blockedOn=null,kr||(kr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,op)))}function go(n){function o(p){return ho(p,n)}if(0<ti.length){ho(ti[0],n);for(var s=1;s<ti.length;s++){var d=ti[s];d.blockedOn===n&&(d.blockedOn=null)}}for(Yn!==null&&ho(Yn,n),Wn!==null&&ho(Wn,n),$n!==null&&ho($n,n),fo.forEach(o),po.forEach(o),s=0;s<Kn.length;s++)d=Kn[s],d.blockedOn===n&&(d.blockedOn=null);for(;0<Kn.length&&(s=Kn[0],s.blockedOn===null);)ua(s),s.blockedOn===null&&Kn.shift()}var Nt=K.ReactCurrentBatchConfig,ii=!0;function ip(n,o,s,d){var p=ve,g=Nt.transition;Nt.transition=null;try{ve=1,xr(n,o,s,d)}finally{ve=p,Nt.transition=g}}function rp(n,o,s,d){var p=ve,g=Nt.transition;Nt.transition=null;try{ve=4,xr(n,o,s,d)}finally{ve=p,Nt.transition=g}}function xr(n,o,s,d){if(ii){var p=Dr(n,o,s,d);if(p===null)Xr(n,o,d,ri,s),aa(n,d);else if(tp(p,n,o,s,d))d.stopPropagation();else if(aa(n,d),o&4&&-1<np.indexOf(n)){for(;p!==null;){var g=No(p);if(g!==null&&ia(g),g=Dr(n,o,s,d),g===null&&Xr(n,o,d,ri,s),g===p)break;p=g}p!==null&&d.stopPropagation()}else Xr(n,o,d,null,s)}}var ri=null;function Dr(n,o,s,d){if(ri=null,n=Cr(d),n=ft(n),n!==null)if(o=ct(n),o===null)n=null;else if(s=o.tag,s===13){if(n=Kl(o),n!==null)return n;n=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return ri=n,null}function ca(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case Ar:return 1;case ea:return 4;case Zo:case $f:return 16;case na:return 536870912;default:return 16}default:return 16}}var Qn=null,Lr=null,si=null;function fa(){if(si)return si;var n,o=Lr,s=o.length,d,p="value"in Qn?Qn.value:Qn.textContent,g=p.length;for(n=0;n<s&&o[n]===p[n];n++);var E=s-n;for(d=1;d<=E&&o[s-d]===p[g-d];d++);return si=p.slice(n,1<d?1-d:void 0)}function li(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function ai(){return!0}function pa(){return!1}function sn(n){function o(s,d,p,g,E){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(s=n[_],this[_]=s?s(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ai:pa,this.isPropagationStopped=pa,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),o}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=sn(Pt),yo=W({},Pt,{view:0,detail:0}),sp=sn(yo),Fr,Vr,vo,ui=W({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vo&&(vo&&n.type==="mousemove"?(Fr=n.screenX-vo.screenX,Vr=n.screenY-vo.screenY):Vr=Fr=0,vo=n),Fr)},movementY:function(n){return"movementY"in n?n.movementY:Vr}}),ma=sn(ui),lp=W({},ui,{dataTransfer:0}),ap=sn(lp),up=W({},yo,{relatedTarget:0}),Gr=sn(up),dp=W({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),cp=sn(dp),fp=W({},Pt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pp=sn(fp),mp=W({},Pt,{data:0}),ha=sn(mp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vp(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=yp[n])?!!o[n]:!1}function Hr(){return vp}var Ep=W({},yo,{key:function(n){if(n.key){var o=hp[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=li(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gp[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(n){return n.type==="keypress"?li(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?li(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tp=sn(Ep),Cp=W({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=sn(Cp),_p=W({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Sp=sn(_p),Ip=W({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=sn(Ip),Ap=W({},ui,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rp=sn(Ap),Np=[9,13,27,32],qr=m&&"CompositionEvent"in window,Eo=null;m&&"documentMode"in document&&(Eo=document.documentMode);var Pp=m&&"TextEvent"in window&&!Eo,ya=m&&(!qr||Eo&&8<Eo&&11>=Eo),va=" ",Ea=!1;function Ta(n,o){switch(n){case"keyup":return Np.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mt=!1;function Mp(n,o){switch(n){case"compositionend":return Ca(o);case"keypress":return o.which!==32?null:(Ea=!0,va);case"textInput":return n=o.data,n===va&&Ea?null:n;default:return null}}function kp(n,o){if(Mt)return n==="compositionend"||!qr&&Ta(n,o)?(n=fa(),si=Lr=Qn=null,Mt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ya&&o.locale!=="ko"?null:o.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _a(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!xp[n.type]:o==="textarea"}function Sa(n,o,s,d){Ol(d),o=mi(o,"onChange"),0<o.length&&(s=new Ur("onChange","change",null,s,d),n.push({event:s,listeners:o}))}var To=null,Co=null;function Dp(n){Ba(n,0)}function di(n){var o=Ut(n);if(kl(o))return n}function Lp(n,o){if(n==="change")return o}var Ia=!1;if(m){var Br;if(m){var zr="oninput"in document;if(!zr){var wa=document.createElement("div");wa.setAttribute("oninput","return;"),zr=typeof wa.oninput=="function"}Br=zr}else Br=!1;Ia=Br&&(!document.documentMode||9<document.documentMode)}function Aa(){To&&(To.detachEvent("onpropertychange",Ra),Co=To=null)}function Ra(n){if(n.propertyName==="value"&&di(Co)){var o=[];Sa(o,Co,n,Cr(n)),$l(Dp,o)}}function Up(n,o,s){n==="focusin"?(Aa(),To=o,Co=s,To.attachEvent("onpropertychange",Ra)):n==="focusout"&&Aa()}function Fp(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return di(Co)}function Vp(n,o){if(n==="click")return di(o)}function Gp(n,o){if(n==="input"||n==="change")return di(o)}function Hp(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var En=typeof Object.is=="function"?Object.is:Hp;function _o(n,o){if(En(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var s=Object.keys(n),d=Object.keys(o);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!y.call(o,p)||!En(n[p],o[p]))return!1}return!0}function Na(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pa(n,o){var s=Na(n);n=0;for(var d;s;){if(s.nodeType===3){if(d=n+s.textContent.length,n<=o&&d>=o)return{node:s,offset:o-n};n=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Na(s)}}function Ma(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ma(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function ka(){for(var n=window,o=$o();o instanceof n.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)n=o.contentWindow;else break;o=$o(n.document)}return o}function Or(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function qp(n){var o=ka(),s=n.focusedElem,d=n.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ma(s.ownerDocument.documentElement,s)){if(d!==null&&Or(s)){if(o=d.start,n=d.end,n===void 0&&(n=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(n,s.value.length);else if(n=(o=s.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var p=s.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!n.extend&&g>d&&(p=d,d=g,g=p),p=Pa(s,g);var E=Pa(s,d);p&&E&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),n.removeAllRanges(),g>d?(n.addRange(o),n.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),n.addRange(o)))}}for(o=[],n=s;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)n=o[s],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Bp=m&&"documentMode"in document&&11>=document.documentMode,kt=null,Jr=null,So=null,Yr=!1;function xa(n,o,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yr||kt==null||kt!==$o(d)||(d=kt,"selectionStart"in d&&Or(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),So&&_o(So,d)||(So=d,d=mi(Jr,"onSelect"),0<d.length&&(o=new Ur("onSelect","select",null,o,s),n.push({event:o,listeners:d}),o.target=kt)))}function ci(n,o){var s={};return s[n.toLowerCase()]=o.toLowerCase(),s["Webkit"+n]="webkit"+o,s["Moz"+n]="moz"+o,s}var xt={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Wr={},Da={};m&&(Da=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);function fi(n){if(Wr[n])return Wr[n];if(!xt[n])return n;var o=xt[n],s;for(s in o)if(o.hasOwnProperty(s)&&s in Da)return Wr[n]=o[s];return n}var La=fi("animationend"),Ua=fi("animationiteration"),Fa=fi("animationstart"),Va=fi("transitionend"),Ga=new Map,Ha="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(n,o){Ga.set(n,o),c(o,[n])}for(var $r=0;$r<Ha.length;$r++){var Kr=Ha[$r],zp=Kr.toLowerCase(),Op=Kr[0].toUpperCase()+Kr.slice(1);Xn(zp,"on"+Op)}Xn(La,"onAnimationEnd"),Xn(Ua,"onAnimationIteration"),Xn(Fa,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Va,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function qa(n,o,s){var d=n.type||"unknown-event";n.currentTarget=s,zf(d,o,void 0,n),n.currentTarget=null}function Ba(n,o){o=(o&4)!==0;for(var s=0;s<n.length;s++){var d=n[s],p=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var E=d.length-1;0<=E;E--){var _=d[E],S=_.instance,P=_.currentTarget;if(_=_.listener,S!==g&&p.isPropagationStopped())break e;qa(p,_,P),g=S}else for(E=0;E<d.length;E++){if(_=d[E],S=_.instance,P=_.currentTarget,_=_.listener,S!==g&&p.isPropagationStopped())break e;qa(p,_,P),g=S}}}if(Xo)throw n=wr,Xo=!1,wr=null,n}function Se(n,o){var s=o[ts];s===void 0&&(s=o[ts]=new Set);var d=n+"__bubble";s.has(d)||(za(o,n,2,!1),s.add(d))}function Qr(n,o,s){var d=0;o&&(d|=4),za(s,n,d,o)}var pi="_reactListening"+Math.random().toString(36).slice(2);function wo(n){if(!n[pi]){n[pi]=!0,r.forEach(function(s){s!=="selectionchange"&&(Jp.has(s)||Qr(s,!1,n),Qr(s,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[pi]||(o[pi]=!0,Qr("selectionchange",!1,o))}}function za(n,o,s,d){switch(ca(o)){case 1:var p=ip;break;case 4:p=rp;break;default:p=xr}s=p.bind(null,o,s,n),p=void 0,!Ir||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(o,s,{capture:!0,passive:p}):n.addEventListener(o,s,!0):p!==void 0?n.addEventListener(o,s,{passive:p}):n.addEventListener(o,s,!1)}function Xr(n,o,s,d,p){var g=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var _=d.stateNode.containerInfo;if(_===p||_.nodeType===8&&_.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var S=E.tag;if((S===3||S===4)&&(S=E.stateNode.containerInfo,S===p||S.nodeType===8&&S.parentNode===p))return;E=E.return}for(;_!==null;){if(E=ft(_),E===null)return;if(S=E.tag,S===5||S===6){d=g=E;continue e}_=_.parentNode}}d=d.return}$l(function(){var P=g,D=Cr(s),F=[];e:{var k=Ga.get(n);if(k!==void 0){var z=Ur,$=n;switch(n){case"keypress":if(li(s)===0)break e;case"keydown":case"keyup":z=Tp;break;case"focusin":$="focus",z=Gr;break;case"focusout":$="blur",z=Gr;break;case"beforeblur":case"afterblur":z=Gr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Sp;break;case La:case Ua:case Fa:z=cp;break;case Va:z=wp;break;case"scroll":z=sp;break;case"wheel":z=Rp;break;case"copy":case"cut":case"paste":z=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=ga}var X=(o&4)!==0,De=!X&&n==="scroll",R=X?k!==null?k+"Capture":null:k;X=[];for(var I=P,N;I!==null;){N=I;var V=N.stateNode;if(N.tag===5&&V!==null&&(N=V,R!==null&&(V=so(I,R),V!=null&&X.push(Ao(I,V,N)))),De)break;I=I.return}0<X.length&&(k=new z(k,$,null,s,D),F.push({event:k,listeners:X}))}}if((o&7)===0){e:{if(k=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",k&&s!==Tr&&($=s.relatedTarget||s.fromElement)&&(ft($)||$[xn]))break e;if((z||k)&&(k=D.window===D?D:(k=D.ownerDocument)?k.defaultView||k.parentWindow:window,z?($=s.relatedTarget||s.toElement,z=P,$=$?ft($):null,$!==null&&(De=ct($),$!==De||$.tag!==5&&$.tag!==6)&&($=null)):(z=null,$=P),z!==$)){if(X=ma,V="onMouseLeave",R="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(X=ga,V="onPointerLeave",R="onPointerEnter",I="pointer"),De=z==null?k:Ut(z),N=$==null?k:Ut($),k=new X(V,I+"leave",z,s,D),k.target=De,k.relatedTarget=N,V=null,ft(D)===P&&(X=new X(R,I+"enter",$,s,D),X.target=N,X.relatedTarget=De,V=X),De=V,z&&$)n:{for(X=z,R=$,I=0,N=X;N;N=Dt(N))I++;for(N=0,V=R;V;V=Dt(V))N++;for(;0<I-N;)X=Dt(X),I--;for(;0<N-I;)R=Dt(R),N--;for(;I--;){if(X===R||R!==null&&X===R.alternate)break n;X=Dt(X),R=Dt(R)}X=null}else X=null;z!==null&&Oa(F,k,z,X,!1),$!==null&&De!==null&&Oa(F,De,$,X,!0)}}e:{if(k=P?Ut(P):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var b=Lp;else if(_a(k))if(Ia)b=Gp;else{b=Fp;var ee=Up}else(z=k.nodeName)&&z.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(b=Vp);if(b&&(b=b(n,P))){Sa(F,b,s,D);break e}ee&&ee(n,k,P),n==="focusout"&&(ee=k._wrapperState)&&ee.controlled&&k.type==="number"&&hr(k,"number",k.value)}switch(ee=P?Ut(P):window,n){case"focusin":(_a(ee)||ee.contentEditable==="true")&&(kt=ee,Jr=P,So=null);break;case"focusout":So=Jr=kt=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":Yr=!1,xa(F,s,D);break;case"selectionchange":if(Bp)break;case"keydown":case"keyup":xa(F,s,D)}var ne;if(qr)e:{switch(n){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Mt?Ta(n,s)&&(ie="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(ie="onCompositionStart");ie&&(ya&&s.locale!=="ko"&&(Mt||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Mt&&(ne=fa()):(Qn=D,Lr="value"in Qn?Qn.value:Qn.textContent,Mt=!0)),ee=mi(P,ie),0<ee.length&&(ie=new ha(ie,n,null,s,D),F.push({event:ie,listeners:ee}),ne?ie.data=ne:(ne=Ca(s),ne!==null&&(ie.data=ne)))),(ne=Pp?Mp(n,s):kp(n,s))&&(P=mi(P,"onBeforeInput"),0<P.length&&(D=new ha("onBeforeInput","beforeinput",null,s,D),F.push({event:D,listeners:P}),D.data=ne))}Ba(F,o)})}function Ao(n,o,s){return{instance:n,listener:o,currentTarget:s}}function mi(n,o){for(var s=o+"Capture",d=[];n!==null;){var p=n,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=so(n,s),g!=null&&d.unshift(Ao(n,g,p)),g=so(n,o),g!=null&&d.push(Ao(n,g,p))),n=n.return}return d}function Dt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Oa(n,o,s,d,p){for(var g=o._reactName,E=[];s!==null&&s!==d;){var _=s,S=_.alternate,P=_.stateNode;if(S!==null&&S===d)break;_.tag===5&&P!==null&&(_=P,p?(S=so(s,g),S!=null&&E.unshift(Ao(s,S,_))):p||(S=so(s,g),S!=null&&E.push(Ao(s,S,_)))),s=s.return}E.length!==0&&n.push({event:o,listeners:E})}var Yp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Ja(n){return(typeof n=="string"?n:""+n).replace(Yp,`
`).replace(Wp,"")}function hi(n,o,s){if(o=Ja(o),Ja(n)!==o&&s)throw Error(i(425))}function gi(){}var Zr=null,br=null;function jr(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var es=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(n){return Ya.resolve(null).then(n).catch(Qp)}:es;function Qp(n){setTimeout(function(){throw n})}function ns(n,o){var s=o,d=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(d===0){n.removeChild(p),go(o);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=p}while(s);go(o)}function Zn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Wa(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return n;o--}else s==="/$"&&o++}n=n.previousSibling}return null}var Lt=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Lt,Ro="__reactProps$"+Lt,xn="__reactContainer$"+Lt,ts="__reactEvents$"+Lt,Xp="__reactListeners$"+Lt,Zp="__reactHandles$"+Lt;function ft(n){var o=n[Nn];if(o)return o;for(var s=n.parentNode;s;){if(o=s[xn]||s[Nn]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(n=Wa(n);n!==null;){if(s=n[Nn])return s;n=Wa(n)}return o}n=s,s=n.parentNode}return null}function No(n){return n=n[Nn]||n[xn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ut(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(i(33))}function yi(n){return n[Ro]||null}var os=[],Ft=-1;function bn(n){return{current:n}}function Ie(n){0>Ft||(n.current=os[Ft],os[Ft]=null,Ft--)}function _e(n,o){Ft++,os[Ft]=n.current,n.current=o}var jn={},ze=bn(jn),Ze=bn(!1),pt=jn;function Vt(n,o){var s=n.type.contextTypes;if(!s)return jn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in s)p[g]=o[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=p),p}function be(n){return n=n.childContextTypes,n!=null}function vi(){Ie(Ze),Ie(ze)}function $a(n,o,s){if(ze.current!==jn)throw Error(i(168));_e(ze,o),_e(Ze,s)}function Ka(n,o,s){var d=n.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(i(108,Ce(n)||"Unknown",p));return W({},s,d)}function Ei(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||jn,pt=ze.current,_e(ze,n),_e(Ze,Ze.current),!0}function Qa(n,o,s){var d=n.stateNode;if(!d)throw Error(i(169));s?(n=Ka(n,o,pt),d.__reactInternalMemoizedMergedChildContext=n,Ie(Ze),Ie(ze),_e(ze,n)):Ie(Ze),_e(Ze,s)}var Dn=null,Ti=!1,is=!1;function Xa(n){Dn===null?Dn=[n]:Dn.push(n)}function bp(n){Ti=!0,Xa(n)}function et(){if(!is&&Dn!==null){is=!0;var n=0,o=ve;try{var s=Dn;for(ve=1;n<s.length;n++){var d=s[n];do d=d(!0);while(d!==null)}Dn=null,Ti=!1}catch(p){throw Dn!==null&&(Dn=Dn.slice(n+1)),bl(Ar,et),p}finally{ve=o,is=!1}}return null}var Gt=[],Ht=0,Ci=null,_i=0,cn=[],fn=0,mt=null,Ln=1,Un="";function ht(n,o){Gt[Ht++]=_i,Gt[Ht++]=Ci,Ci=n,_i=o}function Za(n,o,s){cn[fn++]=Ln,cn[fn++]=Un,cn[fn++]=mt,mt=n;var d=Ln;n=Un;var p=32-vn(d)-1;d&=~(1<<p),s+=1;var g=32-vn(o)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Ln=1<<32-vn(o)+p|s<<p|d,Un=g+n}else Ln=1<<g|s<<p|d,Un=n}function rs(n){n.return!==null&&(ht(n,1),Za(n,1,0))}function ss(n){for(;n===Ci;)Ci=Gt[--Ht],Gt[Ht]=null,_i=Gt[--Ht],Gt[Ht]=null;for(;n===mt;)mt=cn[--fn],cn[fn]=null,Un=cn[--fn],cn[fn]=null,Ln=cn[--fn],cn[fn]=null}var ln=null,an=null,Ne=!1,Tn=null;function ba(n,o){var s=gn(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=n,o=n.deletions,o===null?(n.deletions=[s],n.flags|=16):o.push(s)}function ja(n,o){switch(n.tag){case 5:var s=n.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,ln=n,an=Zn(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,ln=n,an=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=mt!==null?{id:Ln,overflow:Un}:null,n.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=gn(18,null,null,0),s.stateNode=o,s.return=n,n.child=s,ln=n,an=null,!0):!1;default:return!1}}function ls(n){return(n.mode&1)!==0&&(n.flags&128)===0}function as(n){if(Ne){var o=an;if(o){var s=o;if(!ja(n,o)){if(ls(n))throw Error(i(418));o=Zn(s.nextSibling);var d=ln;o&&ja(n,o)?ba(d,s):(n.flags=n.flags&-4097|2,Ne=!1,ln=n)}}else{if(ls(n))throw Error(i(418));n.flags=n.flags&-4097|2,Ne=!1,ln=n}}}function eu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Si(n){if(n!==ln)return!1;if(!Ne)return eu(n),Ne=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!jr(n.type,n.memoizedProps)),o&&(o=an)){if(ls(n))throw nu(),Error(i(418));for(;o;)ba(n,o),o=Zn(o.nextSibling)}if(eu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"){if(o===0){an=Zn(n.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}n=n.nextSibling}an=null}}else an=ln?Zn(n.stateNode.nextSibling):null;return!0}function nu(){for(var n=an;n;)n=Zn(n.nextSibling)}function qt(){an=ln=null,Ne=!1}function us(n){Tn===null?Tn=[n]:Tn.push(n)}var jp=K.ReactCurrentBatchConfig;function Po(n,o,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var d=s.stateNode}if(!d)throw Error(i(147,n));var p=d,g=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(E){var _=p.refs;E===null?delete _[g]:_[g]=E},o._stringRef=g,o)}if(typeof n!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,n))}return n}function Ii(n,o){throw n=Object.prototype.toString.call(o),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function tu(n){var o=n._init;return o(n._payload)}function ou(n){function o(R,I){if(n){var N=R.deletions;N===null?(R.deletions=[I],R.flags|=16):N.push(I)}}function s(R,I){if(!n)return null;for(;I!==null;)o(R,I),I=I.sibling;return null}function d(R,I){for(R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function p(R,I){return R=at(R,I),R.index=0,R.sibling=null,R}function g(R,I,N){return R.index=N,n?(N=R.alternate,N!==null?(N=N.index,N<I?(R.flags|=2,I):N):(R.flags|=2,I)):(R.flags|=1048576,I)}function E(R){return n&&R.alternate===null&&(R.flags|=2),R}function _(R,I,N,V){return I===null||I.tag!==6?(I=el(N,R.mode,V),I.return=R,I):(I=p(I,N),I.return=R,I)}function S(R,I,N,V){var b=N.type;return b===Q?D(R,I,N.props.children,V,N.key):I!==null&&(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ae&&tu(b)===I.type)?(V=p(I,N.props),V.ref=Po(R,I,N),V.return=R,V):(V=Ki(N.type,N.key,N.props,null,R.mode,V),V.ref=Po(R,I,N),V.return=R,V)}function P(R,I,N,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==N.containerInfo||I.stateNode.implementation!==N.implementation?(I=nl(N,R.mode,V),I.return=R,I):(I=p(I,N.children||[]),I.return=R,I)}function D(R,I,N,V,b){return I===null||I.tag!==7?(I=St(N,R.mode,V,b),I.return=R,I):(I=p(I,N),I.return=R,I)}function F(R,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return I=el(""+I,R.mode,N),I.return=R,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return N=Ki(I.type,I.key,I.props,null,R.mode,N),N.ref=Po(R,null,I),N.return=R,N;case H:return I=nl(I,R.mode,N),I.return=R,I;case Ae:var V=I._init;return F(R,V(I._payload),N)}if(oo(I)||te(I))return I=St(I,R.mode,N,null),I.return=R,I;Ii(R,I)}return null}function k(R,I,N,V){var b=I!==null?I.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return b!==null?null:_(R,I,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return N.key===b?S(R,I,N,V):null;case H:return N.key===b?P(R,I,N,V):null;case Ae:return b=N._init,k(R,I,b(N._payload),V)}if(oo(N)||te(N))return b!==null?null:D(R,I,N,V,null);Ii(R,N)}return null}function z(R,I,N,V,b){if(typeof V=="string"&&V!==""||typeof V=="number")return R=R.get(N)||null,_(I,R,""+V,b);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return R=R.get(V.key===null?N:V.key)||null,S(I,R,V,b);case H:return R=R.get(V.key===null?N:V.key)||null,P(I,R,V,b);case Ae:var ee=V._init;return z(R,I,N,ee(V._payload),b)}if(oo(V)||te(V))return R=R.get(N)||null,D(I,R,V,b,null);Ii(I,V)}return null}function $(R,I,N,V){for(var b=null,ee=null,ne=I,ie=I=0,He=null;ne!==null&&ie<N.length;ie++){ne.index>ie?(He=ne,ne=null):He=ne.sibling;var me=k(R,ne,N[ie],V);if(me===null){ne===null&&(ne=He);break}n&&ne&&me.alternate===null&&o(R,ne),I=g(me,I,ie),ee===null?b=me:ee.sibling=me,ee=me,ne=He}if(ie===N.length)return s(R,ne),Ne&&ht(R,ie),b;if(ne===null){for(;ie<N.length;ie++)ne=F(R,N[ie],V),ne!==null&&(I=g(ne,I,ie),ee===null?b=ne:ee.sibling=ne,ee=ne);return Ne&&ht(R,ie),b}for(ne=d(R,ne);ie<N.length;ie++)He=z(ne,R,ie,N[ie],V),He!==null&&(n&&He.alternate!==null&&ne.delete(He.key===null?ie:He.key),I=g(He,I,ie),ee===null?b=He:ee.sibling=He,ee=He);return n&&ne.forEach(function(ut){return o(R,ut)}),Ne&&ht(R,ie),b}function X(R,I,N,V){var b=te(N);if(typeof b!="function")throw Error(i(150));if(N=b.call(N),N==null)throw Error(i(151));for(var ee=b=null,ne=I,ie=I=0,He=null,me=N.next();ne!==null&&!me.done;ie++,me=N.next()){ne.index>ie?(He=ne,ne=null):He=ne.sibling;var ut=k(R,ne,me.value,V);if(ut===null){ne===null&&(ne=He);break}n&&ne&&ut.alternate===null&&o(R,ne),I=g(ut,I,ie),ee===null?b=ut:ee.sibling=ut,ee=ut,ne=He}if(me.done)return s(R,ne),Ne&&ht(R,ie),b;if(ne===null){for(;!me.done;ie++,me=N.next())me=F(R,me.value,V),me!==null&&(I=g(me,I,ie),ee===null?b=me:ee.sibling=me,ee=me);return Ne&&ht(R,ie),b}for(ne=d(R,ne);!me.done;ie++,me=N.next())me=z(ne,R,ie,me.value,V),me!==null&&(n&&me.alternate!==null&&ne.delete(me.key===null?ie:me.key),I=g(me,I,ie),ee===null?b=me:ee.sibling=me,ee=me);return n&&ne.forEach(function(xm){return o(R,xm)}),Ne&&ht(R,ie),b}function De(R,I,N,V){if(typeof N=="object"&&N!==null&&N.type===Q&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case j:e:{for(var b=N.key,ee=I;ee!==null;){if(ee.key===b){if(b=N.type,b===Q){if(ee.tag===7){s(R,ee.sibling),I=p(ee,N.props.children),I.return=R,R=I;break e}}else if(ee.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ae&&tu(b)===ee.type){s(R,ee.sibling),I=p(ee,N.props),I.ref=Po(R,ee,N),I.return=R,R=I;break e}s(R,ee);break}else o(R,ee);ee=ee.sibling}N.type===Q?(I=St(N.props.children,R.mode,V,N.key),I.return=R,R=I):(V=Ki(N.type,N.key,N.props,null,R.mode,V),V.ref=Po(R,I,N),V.return=R,R=V)}return E(R);case H:e:{for(ee=N.key;I!==null;){if(I.key===ee)if(I.tag===4&&I.stateNode.containerInfo===N.containerInfo&&I.stateNode.implementation===N.implementation){s(R,I.sibling),I=p(I,N.children||[]),I.return=R,R=I;break e}else{s(R,I);break}else o(R,I);I=I.sibling}I=nl(N,R.mode,V),I.return=R,R=I}return E(R);case Ae:return ee=N._init,De(R,I,ee(N._payload),V)}if(oo(N))return $(R,I,N,V);if(te(N))return X(R,I,N,V);Ii(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,I!==null&&I.tag===6?(s(R,I.sibling),I=p(I,N),I.return=R,R=I):(s(R,I),I=el(N,R.mode,V),I.return=R,R=I),E(R)):s(R,I)}return De}var Bt=ou(!0),iu=ou(!1),wi=bn(null),Ai=null,zt=null,ds=null;function cs(){ds=zt=Ai=null}function fs(n){var o=wi.current;Ie(wi),n._currentValue=o}function ps(n,o,s){for(;n!==null;){var d=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),n===s)break;n=n.return}}function Ot(n,o){Ai=n,ds=zt=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(je=!0),n.firstContext=null)}function pn(n){var o=n._currentValue;if(ds!==n)if(n={context:n,memoizedValue:o,next:null},zt===null){if(Ai===null)throw Error(i(308));zt=n,Ai.dependencies={lanes:0,firstContext:n}}else zt=zt.next=n;return o}var gt=null;function ms(n){gt===null?gt=[n]:gt.push(n)}function ru(n,o,s,d){var p=o.interleaved;return p===null?(s.next=s,ms(o)):(s.next=p.next,p.next=s),o.interleaved=s,Fn(n,d)}function Fn(n,o){n.lanes|=o;var s=n.alternate;for(s!==null&&(s.lanes|=o),s=n,n=n.return;n!==null;)n.childLanes|=o,s=n.alternate,s!==null&&(s.childLanes|=o),s=n,n=n.return;return s.tag===3?s.stateNode:null}var nt=!1;function hs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function su(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function tt(n,o,s){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ce&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Fn(n,s)}return p=d.interleaved,p===null?(o.next=o,ms(d)):(o.next=p.next,p.next=o),d.interleaved=o,Fn(n,s)}function Ri(n,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var d=o.lanes;d&=n.pendingLanes,s|=d,o.lanes=s,Pr(n,s)}}function lu(n,o){var s=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var E={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?p=g=E:g=g.next=E,s=s.next}while(s!==null);g===null?p=g=o:g=g.next=o}else p=g=o;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=o:n.next=o,s.lastBaseUpdate=o}function Ni(n,o,s,d){var p=n.updateQueue;nt=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var S=_,P=S.next;S.next=null,E===null?g=P:E.next=P,E=S;var D=n.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==E&&(_===null?D.firstBaseUpdate=P:_.next=P,D.lastBaseUpdate=S))}if(g!==null){var F=p.baseState;E=0,D=P=S=null,_=g;do{var k=_.lane,z=_.eventTime;if((d&k)===k){D!==null&&(D=D.next={eventTime:z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var $=n,X=_;switch(k=o,z=s,X.tag){case 1:if($=X.payload,typeof $=="function"){F=$.call(z,F,k);break e}F=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=X.payload,k=typeof $=="function"?$.call(z,F,k):$,k==null)break e;F=W({},F,k);break e;case 2:nt=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,k=p.effects,k===null?p.effects=[_]:k.push(_))}else z={eventTime:z,lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(P=D=z,S=F):D=D.next=z,E|=k;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;k=_,_=k.next,k.next=null,p.lastBaseUpdate=k,p.shared.pending=null}}while(!0);if(D===null&&(S=F),p.baseState=S,p.firstBaseUpdate=P,p.lastBaseUpdate=D,o=p.shared.interleaved,o!==null){p=o;do E|=p.lane,p=p.next;while(p!==o)}else g===null&&(p.shared.lanes=0);Et|=E,n.lanes=E,n.memoizedState=F}}function au(n,o,s){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var d=n[o],p=d.callback;if(p!==null){if(d.callback=null,d=s,typeof p!="function")throw Error(i(191,p));p.call(d)}}}var Mo={},Pn=bn(Mo),ko=bn(Mo),xo=bn(Mo);function yt(n){if(n===Mo)throw Error(i(174));return n}function gs(n,o){switch(_e(xo,o),_e(ko,n),_e(Pn,Mo),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yr(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=yr(o,n)}Ie(Pn),_e(Pn,o)}function Jt(){Ie(Pn),Ie(ko),Ie(xo)}function uu(n){yt(xo.current);var o=yt(Pn.current),s=yr(o,n.type);o!==s&&(_e(ko,n),_e(Pn,s))}function ys(n){ko.current===n&&(Ie(Pn),Ie(ko))}var Pe=bn(0);function Pi(n){for(var o=n;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var vs=[];function Es(){for(var n=0;n<vs.length;n++)vs[n]._workInProgressVersionPrimary=null;vs.length=0}var Mi=K.ReactCurrentDispatcher,Ts=K.ReactCurrentBatchConfig,vt=0,Me=null,Ue=null,Ve=null,ki=!1,Do=!1,Lo=0,em=0;function Oe(){throw Error(i(321))}function Cs(n,o){if(o===null)return!1;for(var s=0;s<o.length&&s<n.length;s++)if(!En(n[s],o[s]))return!1;return!0}function _s(n,o,s,d,p,g){if(vt=g,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mi.current=n===null||n.memoizedState===null?im:rm,n=s(d,p),Do){g=0;do{if(Do=!1,Lo=0,25<=g)throw Error(i(301));g+=1,Ve=Ue=null,o.updateQueue=null,Mi.current=sm,n=s(d,p)}while(Do)}if(Mi.current=Li,o=Ue!==null&&Ue.next!==null,vt=0,Ve=Ue=Me=null,ki=!1,o)throw Error(i(300));return n}function Ss(){var n=Lo!==0;return Lo=0,n}function Mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Me.memoizedState=Ve=n:Ve=Ve.next=n,Ve}function mn(){if(Ue===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=Ue.next;var o=Ve===null?Me.memoizedState:Ve.next;if(o!==null)Ve=o,Ue=n;else{if(n===null)throw Error(i(310));Ue=n,n={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Me.memoizedState=Ve=n:Ve=Ve.next=n}return Ve}function Uo(n,o){return typeof o=="function"?o(n):o}function Is(n){var o=mn(),s=o.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var d=Ue,p=d.baseQueue,g=s.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,s.pending=null}if(p!==null){g=p.next,d=d.baseState;var _=E=null,S=null,P=g;do{var D=P.lane;if((vt&D)===D)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),d=P.hasEagerState?P.eagerState:n(d,P.action);else{var F={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(_=S=F,E=d):S=S.next=F,Me.lanes|=D,Et|=D}P=P.next}while(P!==null&&P!==g);S===null?E=d:S.next=_,En(d,o.memoizedState)||(je=!0),o.memoizedState=d,o.baseState=E,o.baseQueue=S,s.lastRenderedState=d}if(n=s.interleaved,n!==null){p=n;do g=p.lane,Me.lanes|=g,Et|=g,p=p.next;while(p!==n)}else p===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function ws(n){var o=mn(),s=o.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var d=s.dispatch,p=s.pending,g=o.memoizedState;if(p!==null){s.pending=null;var E=p=p.next;do g=n(g,E.action),E=E.next;while(E!==p);En(g,o.memoizedState)||(je=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),s.lastRenderedState=g}return[g,d]}function du(){}function cu(n,o){var s=Me,d=mn(),p=o(),g=!En(d.memoizedState,p);if(g&&(d.memoizedState=p,je=!0),d=d.queue,As(mu.bind(null,s,d,n),[n]),d.getSnapshot!==o||g||Ve!==null&&Ve.memoizedState.tag&1){if(s.flags|=2048,Fo(9,pu.bind(null,s,d,p,o),void 0,null),Ge===null)throw Error(i(349));(vt&30)!==0||fu(s,o,p)}return p}function fu(n,o,s){n.flags|=16384,n={getSnapshot:o,value:s},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.stores=[n]):(s=o.stores,s===null?o.stores=[n]:s.push(n))}function pu(n,o,s,d){o.value=s,o.getSnapshot=d,hu(o)&&gu(n)}function mu(n,o,s){return s(function(){hu(o)&&gu(n)})}function hu(n){var o=n.getSnapshot;n=n.value;try{var s=o();return!En(n,s)}catch{return!0}}function gu(n){var o=Fn(n,1);o!==null&&In(o,n,1,-1)}function yu(n){var o=Mn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:n},o.queue=n,n=n.dispatch=om.bind(null,Me,n),[o.memoizedState,n]}function Fo(n,o,s,d){return n={tag:n,create:o,destroy:s,deps:d,next:null},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.lastEffect=n.next=n):(s=o.lastEffect,s===null?o.lastEffect=n.next=n:(d=s.next,s.next=n,n.next=d,o.lastEffect=n)),n}function vu(){return mn().memoizedState}function xi(n,o,s,d){var p=Mn();Me.flags|=n,p.memoizedState=Fo(1|o,s,void 0,d===void 0?null:d)}function Di(n,o,s,d){var p=mn();d=d===void 0?null:d;var g=void 0;if(Ue!==null){var E=Ue.memoizedState;if(g=E.destroy,d!==null&&Cs(d,E.deps)){p.memoizedState=Fo(o,s,g,d);return}}Me.flags|=n,p.memoizedState=Fo(1|o,s,g,d)}function Eu(n,o){return xi(8390656,8,n,o)}function As(n,o){return Di(2048,8,n,o)}function Tu(n,o){return Di(4,2,n,o)}function Cu(n,o){return Di(4,4,n,o)}function _u(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Su(n,o,s){return s=s!=null?s.concat([n]):null,Di(4,4,_u.bind(null,o,n),s)}function Rs(){}function Iu(n,o){var s=mn();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Cs(o,d[1])?d[0]:(s.memoizedState=[n,o],n)}function wu(n,o){var s=mn();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Cs(o,d[1])?d[0]:(n=n(),s.memoizedState=[n,o],n)}function Au(n,o,s){return(vt&21)===0?(n.baseState&&(n.baseState=!1,je=!0),n.memoizedState=s):(En(s,o)||(s=ta(),Me.lanes|=s,Et|=s,n.baseState=!0),o)}function nm(n,o){var s=ve;ve=s!==0&&4>s?s:4,n(!0);var d=Ts.transition;Ts.transition={};try{n(!1),o()}finally{ve=s,Ts.transition=d}}function Ru(){return mn().memoizedState}function tm(n,o,s){var d=st(n);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},Nu(n))Pu(o,s);else if(s=ru(n,o,s,d),s!==null){var p=Ke();In(s,n,d,p),Mu(s,o,d)}}function om(n,o,s){var d=st(n),p={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nu(n))Pu(o,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var E=o.lastRenderedState,_=g(E,s);if(p.hasEagerState=!0,p.eagerState=_,En(_,E)){var S=o.interleaved;S===null?(p.next=p,ms(o)):(p.next=S.next,S.next=p),o.interleaved=p;return}}catch{}finally{}s=ru(n,o,p,d),s!==null&&(p=Ke(),In(s,n,d,p),Mu(s,o,d))}}function Nu(n){var o=n.alternate;return n===Me||o!==null&&o===Me}function Pu(n,o){Do=ki=!0;var s=n.pending;s===null?o.next=o:(o.next=s.next,s.next=o),n.pending=o}function Mu(n,o,s){if((s&4194240)!==0){var d=o.lanes;d&=n.pendingLanes,s|=d,o.lanes=s,Pr(n,s)}}var Li={readContext:pn,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},im={readContext:pn,useCallback:function(n,o){return Mn().memoizedState=[n,o===void 0?null:o],n},useContext:pn,useEffect:Eu,useImperativeHandle:function(n,o,s){return s=s!=null?s.concat([n]):null,xi(4194308,4,_u.bind(null,o,n),s)},useLayoutEffect:function(n,o){return xi(4194308,4,n,o)},useInsertionEffect:function(n,o){return xi(4,2,n,o)},useMemo:function(n,o){var s=Mn();return o=o===void 0?null:o,n=n(),s.memoizedState=[n,o],n},useReducer:function(n,o,s){var d=Mn();return o=s!==void 0?s(o):o,d.memoizedState=d.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},d.queue=n,n=n.dispatch=tm.bind(null,Me,n),[d.memoizedState,n]},useRef:function(n){var o=Mn();return n={current:n},o.memoizedState=n},useState:yu,useDebugValue:Rs,useDeferredValue:function(n){return Mn().memoizedState=n},useTransition:function(){var n=yu(!1),o=n[0];return n=nm.bind(null,n[1]),Mn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,s){var d=Me,p=Mn();if(Ne){if(s===void 0)throw Error(i(407));s=s()}else{if(s=o(),Ge===null)throw Error(i(349));(vt&30)!==0||fu(d,o,s)}p.memoizedState=s;var g={value:s,getSnapshot:o};return p.queue=g,Eu(mu.bind(null,d,g,n),[n]),d.flags|=2048,Fo(9,pu.bind(null,d,g,s,o),void 0,null),s},useId:function(){var n=Mn(),o=Ge.identifierPrefix;if(Ne){var s=Un,d=Ln;s=(d&~(1<<32-vn(d)-1)).toString(32)+s,o=":"+o+"R"+s,s=Lo++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=em++,o=":"+o+"r"+s.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},rm={readContext:pn,useCallback:Iu,useContext:pn,useEffect:As,useImperativeHandle:Su,useInsertionEffect:Tu,useLayoutEffect:Cu,useMemo:wu,useReducer:Is,useRef:vu,useState:function(){return Is(Uo)},useDebugValue:Rs,useDeferredValue:function(n){var o=mn();return Au(o,Ue.memoizedState,n)},useTransition:function(){var n=Is(Uo)[0],o=mn().memoizedState;return[n,o]},useMutableSource:du,useSyncExternalStore:cu,useId:Ru,unstable_isNewReconciler:!1},sm={readContext:pn,useCallback:Iu,useContext:pn,useEffect:As,useImperativeHandle:Su,useInsertionEffect:Tu,useLayoutEffect:Cu,useMemo:wu,useReducer:ws,useRef:vu,useState:function(){return ws(Uo)},useDebugValue:Rs,useDeferredValue:function(n){var o=mn();return Ue===null?o.memoizedState=n:Au(o,Ue.memoizedState,n)},useTransition:function(){var n=ws(Uo)[0],o=mn().memoizedState;return[n,o]},useMutableSource:du,useSyncExternalStore:cu,useId:Ru,unstable_isNewReconciler:!1};function Cn(n,o){if(n&&n.defaultProps){o=W({},o),n=n.defaultProps;for(var s in n)o[s]===void 0&&(o[s]=n[s]);return o}return o}function Ns(n,o,s,d){o=n.memoizedState,s=s(d,o),s=s==null?o:W({},o,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Ui={isMounted:function(n){return(n=n._reactInternals)?ct(n)===n:!1},enqueueSetState:function(n,o,s){n=n._reactInternals;var d=Ke(),p=st(n),g=Vn(d,p);g.payload=o,s!=null&&(g.callback=s),o=tt(n,g,p),o!==null&&(In(o,n,p,d),Ri(o,n,p))},enqueueReplaceState:function(n,o,s){n=n._reactInternals;var d=Ke(),p=st(n),g=Vn(d,p);g.tag=1,g.payload=o,s!=null&&(g.callback=s),o=tt(n,g,p),o!==null&&(In(o,n,p,d),Ri(o,n,p))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var s=Ke(),d=st(n),p=Vn(s,d);p.tag=2,o!=null&&(p.callback=o),o=tt(n,p,d),o!==null&&(In(o,n,d,s),Ri(o,n,d))}};function ku(n,o,s,d,p,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,E):o.prototype&&o.prototype.isPureReactComponent?!_o(s,d)||!_o(p,g):!0}function xu(n,o,s){var d=!1,p=jn,g=o.contextType;return typeof g=="object"&&g!==null?g=pn(g):(p=be(o)?pt:ze.current,d=o.contextTypes,g=(d=d!=null)?Vt(n,p):jn),o=new o(s,g),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ui,n.stateNode=o,o._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=g),o}function Du(n,o,s,d){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,d),o.state!==n&&Ui.enqueueReplaceState(o,o.state,null)}function Ps(n,o,s,d){var p=n.stateNode;p.props=s,p.state=n.memoizedState,p.refs={},hs(n);var g=o.contextType;typeof g=="object"&&g!==null?p.context=pn(g):(g=be(o)?pt:ze.current,p.context=Vt(n,g)),p.state=n.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Ns(n,o,g,s),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Ui.enqueueReplaceState(p,p.state,null),Ni(n,s,p,d),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Yt(n,o){try{var s="",d=o;do s+=fe(d),d=d.return;while(d);var p=s}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:o,stack:p,digest:null}}function Ms(n,o,s){return{value:n,source:null,stack:s??null,digest:o??null}}function ks(n,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var lm=typeof WeakMap=="function"?WeakMap:Map;function Lu(n,o,s){s=Vn(-1,s),s.tag=3,s.payload={element:null};var d=o.value;return s.callback=function(){zi||(zi=!0,Ws=d),ks(n,o)},s}function Uu(n,o,s){s=Vn(-1,s),s.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;s.payload=function(){return d(p)},s.callback=function(){ks(n,o)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){ks(n,o),typeof d!="function"&&(it===null?it=new Set([this]):it.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),s}function Fu(n,o,s){var d=n.pingCache;if(d===null){d=n.pingCache=new lm;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(s)||(p.add(s),n=Cm.bind(null,n,o,s),o.then(n,n))}function Vu(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Gu(n,o,s,d,p){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=Vn(-1,1),o.tag=2,tt(s,o,1))),s.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var am=K.ReactCurrentOwner,je=!1;function $e(n,o,s,d){o.child=n===null?iu(o,null,s,d):Bt(o,n.child,s,d)}function Hu(n,o,s,d,p){s=s.render;var g=o.ref;return Ot(o,p),d=_s(n,o,s,d,g,p),s=Ss(),n!==null&&!je?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,Gn(n,o,p)):(Ne&&s&&rs(o),o.flags|=1,$e(n,o,d,p),o.child)}function qu(n,o,s,d,p){if(n===null){var g=s.type;return typeof g=="function"&&!js(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=g,Bu(n,o,g,d,p)):(n=Ki(s.type,null,d,o,o.mode,p),n.ref=o.ref,n.return=o,o.child=n)}if(g=n.child,(n.lanes&p)===0){var E=g.memoizedProps;if(s=s.compare,s=s!==null?s:_o,s(E,d)&&n.ref===o.ref)return Gn(n,o,p)}return o.flags|=1,n=at(g,d),n.ref=o.ref,n.return=o,o.child=n}function Bu(n,o,s,d,p){if(n!==null){var g=n.memoizedProps;if(_o(g,d)&&n.ref===o.ref)if(je=!1,o.pendingProps=d=g,(n.lanes&p)!==0)(n.flags&131072)!==0&&(je=!0);else return o.lanes=n.lanes,Gn(n,o,p)}return xs(n,o,s,d,p)}function zu(n,o,s){var d=o.pendingProps,p=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e($t,un),un|=s;else{if((s&1073741824)===0)return n=g!==null?g.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,_e($t,un),un|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:s,_e($t,un),un|=d}else g!==null?(d=g.baseLanes|s,o.memoizedState=null):d=s,_e($t,un),un|=d;return $e(n,o,p,s),o.child}function Ou(n,o){var s=o.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function xs(n,o,s,d,p){var g=be(s)?pt:ze.current;return g=Vt(o,g),Ot(o,p),s=_s(n,o,s,d,g,p),d=Ss(),n!==null&&!je?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,Gn(n,o,p)):(Ne&&d&&rs(o),o.flags|=1,$e(n,o,s,p),o.child)}function Ju(n,o,s,d,p){if(be(s)){var g=!0;Ei(o)}else g=!1;if(Ot(o,p),o.stateNode===null)Vi(n,o),xu(o,s,d),Ps(o,s,d,p),d=!0;else if(n===null){var E=o.stateNode,_=o.memoizedProps;E.props=_;var S=E.context,P=s.contextType;typeof P=="object"&&P!==null?P=pn(P):(P=be(s)?pt:ze.current,P=Vt(o,P));var D=s.getDerivedStateFromProps,F=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function";F||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==d||S!==P)&&Du(o,E,d,P),nt=!1;var k=o.memoizedState;E.state=k,Ni(o,d,E,p),S=o.memoizedState,_!==d||k!==S||Ze.current||nt?(typeof D=="function"&&(Ns(o,s,D,d),S=o.memoizedState),(_=nt||ku(o,s,_,d,k,S,P))?(F||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=S),E.props=d,E.state=S,E.context=P,d=_):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{E=o.stateNode,su(n,o),_=o.memoizedProps,P=o.type===o.elementType?_:Cn(o.type,_),E.props=P,F=o.pendingProps,k=E.context,S=s.contextType,typeof S=="object"&&S!==null?S=pn(S):(S=be(s)?pt:ze.current,S=Vt(o,S));var z=s.getDerivedStateFromProps;(D=typeof z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==F||k!==S)&&Du(o,E,d,S),nt=!1,k=o.memoizedState,E.state=k,Ni(o,d,E,p);var $=o.memoizedState;_!==F||k!==$||Ze.current||nt?(typeof z=="function"&&(Ns(o,s,z,d),$=o.memoizedState),(P=nt||ku(o,s,P,d,k,$,S)||!1)?(D||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,$,S),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,$,S)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||_===n.memoizedProps&&k===n.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&k===n.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=$),E.props=d,E.state=$,E.context=S,d=P):(typeof E.componentDidUpdate!="function"||_===n.memoizedProps&&k===n.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&k===n.memoizedState||(o.flags|=1024),d=!1)}return Ds(n,o,s,d,g,p)}function Ds(n,o,s,d,p,g){Ou(n,o);var E=(o.flags&128)!==0;if(!d&&!E)return p&&Qa(o,s,!1),Gn(n,o,g);d=o.stateNode,am.current=o;var _=E&&typeof s.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,n!==null&&E?(o.child=Bt(o,n.child,null,g),o.child=Bt(o,null,_,g)):$e(n,o,_,g),o.memoizedState=d.state,p&&Qa(o,s,!0),o.child}function Yu(n){var o=n.stateNode;o.pendingContext?$a(n,o.pendingContext,o.pendingContext!==o.context):o.context&&$a(n,o.context,!1),gs(n,o.containerInfo)}function Wu(n,o,s,d,p){return qt(),us(p),o.flags|=256,$e(n,o,s,d),o.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Us(n){return{baseLanes:n,cachePool:null,transitions:null}}function $u(n,o,s){var d=o.pendingProps,p=Pe.current,g=!1,E=(o.flags&128)!==0,_;if((_=E)||(_=n!==null&&n.memoizedState===null?!1:(p&2)!==0),_?(g=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),_e(Pe,p&1),n===null)return as(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=d.children,n=d.fallback,g?(d=o.mode,g=o.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Qi(E,d,0,null),n=St(n,d,s,null),g.return=o,n.return=o,g.sibling=n,o.child=g,o.child.memoizedState=Us(s),o.memoizedState=Ls,n):Fs(o,E));if(p=n.memoizedState,p!==null&&(_=p.dehydrated,_!==null))return um(n,o,E,d,_,p,s);if(g){g=d.fallback,E=o.mode,p=n.child,_=p.sibling;var S={mode:"hidden",children:d.children};return(E&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=S,o.deletions=null):(d=at(p,S),d.subtreeFlags=p.subtreeFlags&14680064),_!==null?g=at(_,g):(g=St(g,E,s,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,E=n.child.memoizedState,E=E===null?Us(s):{baseLanes:E.baseLanes|s,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~s,o.memoizedState=Ls,d}return g=n.child,n=g.sibling,d=at(g,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=s),d.return=o,d.sibling=null,n!==null&&(s=o.deletions,s===null?(o.deletions=[n],o.flags|=16):s.push(n)),o.child=d,o.memoizedState=null,d}function Fs(n,o){return o=Qi({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Fi(n,o,s,d){return d!==null&&us(d),Bt(o,n.child,null,s),n=Fs(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function um(n,o,s,d,p,g,E){if(s)return o.flags&256?(o.flags&=-257,d=Ms(Error(i(422))),Fi(n,o,E,d)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(g=d.fallback,p=o.mode,d=Qi({mode:"visible",children:d.children},p,0,null),g=St(g,p,E,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,(o.mode&1)!==0&&Bt(o,n.child,null,E),o.child.memoizedState=Us(E),o.memoizedState=Ls,g);if((o.mode&1)===0)return Fi(n,o,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var _=d.dgst;return d=_,g=Error(i(419)),d=Ms(g,d,void 0),Fi(n,o,E,d)}if(_=(E&n.childLanes)!==0,je||_){if(d=Ge,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Fn(n,p),In(d,n,p,-1))}return bs(),d=Ms(Error(i(421))),Fi(n,o,E,d)}return p.data==="$?"?(o.flags|=128,o.child=n.child,o=_m.bind(null,n),p._reactRetry=o,null):(n=g.treeContext,an=Zn(p.nextSibling),ln=o,Ne=!0,Tn=null,n!==null&&(cn[fn++]=Ln,cn[fn++]=Un,cn[fn++]=mt,Ln=n.id,Un=n.overflow,mt=o),o=Fs(o,d.children),o.flags|=4096,o)}function Ku(n,o,s){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o),ps(n.return,o,s)}function Vs(n,o,s,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=s,g.tailMode=p)}function Qu(n,o,s){var d=o.pendingProps,p=d.revealOrder,g=d.tail;if($e(n,o,d.children,s),d=Pe.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ku(n,s,o);else if(n.tag===19)Ku(n,s,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(_e(Pe,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(s=o.child,p=null;s!==null;)n=s.alternate,n!==null&&Pi(n)===null&&(p=s),s=s.sibling;s=p,s===null?(p=o.child,o.child=null):(p=s.sibling,s.sibling=null),Vs(o,!1,p,s,g);break;case"backwards":for(s=null,p=o.child,o.child=null;p!==null;){if(n=p.alternate,n!==null&&Pi(n)===null){o.child=p;break}n=p.sibling,p.sibling=s,s=p,p=n}Vs(o,!0,s,null,g);break;case"together":Vs(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vi(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function Gn(n,o,s){if(n!==null&&(o.dependencies=n.dependencies),Et|=o.lanes,(s&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(i(153));if(o.child!==null){for(n=o.child,s=at(n,n.pendingProps),o.child=s,s.return=o;n.sibling!==null;)n=n.sibling,s=s.sibling=at(n,n.pendingProps),s.return=o;s.sibling=null}return o.child}function dm(n,o,s){switch(o.tag){case 3:Yu(o),qt();break;case 5:uu(o);break;case 1:be(o.type)&&Ei(o);break;case 4:gs(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;_e(wi,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(_e(Pe,Pe.current&1),o.flags|=128,null):(s&o.child.childLanes)!==0?$u(n,o,s):(_e(Pe,Pe.current&1),n=Gn(n,o,s),n!==null?n.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(d=(s&o.childLanes)!==0,(n.flags&128)!==0){if(d)return Qu(n,o,s);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(Pe,Pe.current),d)break;return null;case 22:case 23:return o.lanes=0,zu(n,o,s)}return Gn(n,o,s)}var Xu,Gs,Zu,bu;Xu=function(n,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Gs=function(){},Zu=function(n,o,s,d){var p=n.memoizedProps;if(p!==d){n=o.stateNode,yt(Pn.current);var g=null;switch(s){case"input":p=pr(n,p),d=pr(n,d),g=[];break;case"select":p=W({},p,{value:void 0}),d=W({},d,{value:void 0}),g=[];break;case"textarea":p=gr(n,p),d=gr(n,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=gi)}vr(s,d);var E;s=null;for(P in p)if(!d.hasOwnProperty(P)&&p.hasOwnProperty(P)&&p[P]!=null)if(P==="style"){var _=p[P];for(E in _)_.hasOwnProperty(E)&&(s||(s={}),s[E]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?g||(g=[]):(g=g||[]).push(P,null));for(P in d){var S=d[P];if(_=p?.[P],d.hasOwnProperty(P)&&S!==_&&(S!=null||_!=null))if(P==="style")if(_){for(E in _)!_.hasOwnProperty(E)||S&&S.hasOwnProperty(E)||(s||(s={}),s[E]="");for(E in S)S.hasOwnProperty(E)&&_[E]!==S[E]&&(s||(s={}),s[E]=S[E])}else s||(g||(g=[]),g.push(P,s)),s=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,_=_?_.__html:void 0,S!=null&&_!==S&&(g=g||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(g=g||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Se("scroll",n),g||_===S||(g=[])):(g=g||[]).push(P,S))}s&&(g=g||[]).push("style",s);var P=g;(o.updateQueue=P)&&(o.flags|=4)}},bu=function(n,o,s,d){s!==d&&(o.flags|=4)};function Vo(n,o){if(!Ne)switch(n.tailMode){case"hidden":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Je(n){var o=n.alternate!==null&&n.alternate.child===n.child,s=0,d=0;if(o)for(var p=n.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=s,o}function cm(n,o,s){var d=o.pendingProps;switch(ss(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(o),null;case 1:return be(o.type)&&vi(),Je(o),null;case 3:return d=o.stateNode,Jt(),Ie(Ze),Ie(ze),Es(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Si(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tn!==null&&(Qs(Tn),Tn=null))),Gs(n,o),Je(o),null;case 5:ys(o);var p=yt(xo.current);if(s=o.type,n!==null&&o.stateNode!=null)Zu(n,o,s,d,p),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Je(o),null}if(n=yt(Pn.current),Si(o)){d=o.stateNode,s=o.type;var g=o.memoizedProps;switch(d[Nn]=o,d[Ro]=g,n=(o.mode&1)!==0,s){case"dialog":Se("cancel",d),Se("close",d);break;case"iframe":case"object":case"embed":Se("load",d);break;case"video":case"audio":for(p=0;p<Io.length;p++)Se(Io[p],d);break;case"source":Se("error",d);break;case"img":case"image":case"link":Se("error",d),Se("load",d);break;case"details":Se("toggle",d);break;case"input":xl(d,g),Se("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Se("invalid",d);break;case"textarea":Ul(d,g),Se("invalid",d)}vr(s,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var _=g[E];E==="children"?typeof _=="string"?d.textContent!==_&&(g.suppressHydrationWarning!==!0&&hi(d.textContent,_,n),p=["children",_]):typeof _=="number"&&d.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&hi(d.textContent,_,n),p=["children",""+_]):u.hasOwnProperty(E)&&_!=null&&E==="onScroll"&&Se("scroll",d)}switch(s){case"input":Wo(d),Ll(d,g,!0);break;case"textarea":Wo(d),Vl(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=gi)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Gl(s)),n==="http://www.w3.org/1999/xhtml"?s==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=E.createElement(s,{is:d.is}):(n=E.createElement(s),s==="select"&&(E=n,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):n=E.createElementNS(n,s),n[Nn]=o,n[Ro]=d,Xu(n,o,!1,!1),o.stateNode=n;e:{switch(E=Er(s,d),s){case"dialog":Se("cancel",n),Se("close",n),p=d;break;case"iframe":case"object":case"embed":Se("load",n),p=d;break;case"video":case"audio":for(p=0;p<Io.length;p++)Se(Io[p],n);p=d;break;case"source":Se("error",n),p=d;break;case"img":case"image":case"link":Se("error",n),Se("load",n),p=d;break;case"details":Se("toggle",n),p=d;break;case"input":xl(n,d),p=pr(n,d),Se("invalid",n);break;case"option":p=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},p=W({},d,{value:void 0}),Se("invalid",n);break;case"textarea":Ul(n,d),p=gr(n,d),Se("invalid",n);break;default:p=d}vr(s,p),_=p;for(g in _)if(_.hasOwnProperty(g)){var S=_[g];g==="style"?Bl(n,S):g==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Hl(n,S)):g==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&io(n,S):typeof S=="number"&&io(n,""+S):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(u.hasOwnProperty(g)?S!=null&&g==="onScroll"&&Se("scroll",n):S!=null&&G(n,g,S,E))}switch(s){case"input":Wo(n),Ll(n,d,!1);break;case"textarea":Wo(n),Vl(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ye(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?wt(n,!!d.multiple,g,!1):d.defaultValue!=null&&wt(n,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=gi)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Je(o),null;case 6:if(n&&o.stateNode!=null)bu(n,o,n.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=yt(xo.current),yt(Pn.current),Si(o)){if(d=o.stateNode,s=o.memoizedProps,d[Nn]=o,(g=d.nodeValue!==s)&&(n=ln,n!==null))switch(n.tag){case 3:hi(d.nodeValue,s,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&hi(d.nodeValue,s,(n.mode&1)!==0)}g&&(o.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Nn]=o,o.stateNode=d}return Je(o),null;case 13:if(Ie(Pe),d=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ne&&an!==null&&(o.mode&1)!==0&&(o.flags&128)===0)nu(),qt(),o.flags|=98560,g=!1;else if(g=Si(o),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Nn]=o}else qt(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Je(o),g=!1}else Tn!==null&&(Qs(Tn),Tn=null),g=!0;if(!g)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=s,o):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(Pe.current&1)!==0?Fe===0&&(Fe=3):bs())),o.updateQueue!==null&&(o.flags|=4),Je(o),null);case 4:return Jt(),Gs(n,o),n===null&&wo(o.stateNode.containerInfo),Je(o),null;case 10:return fs(o.type._context),Je(o),null;case 17:return be(o.type)&&vi(),Je(o),null;case 19:if(Ie(Pe),g=o.memoizedState,g===null)return Je(o),null;if(d=(o.flags&128)!==0,E=g.rendering,E===null)if(d)Vo(g,!1);else{if(Fe!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(E=Pi(n),E!==null){for(o.flags|=128,Vo(g,!1),d=E.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=s,s=o.child;s!==null;)g=s,n=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s=s.sibling;return _e(Pe,Pe.current&1|2),o.child}n=n.sibling}g.tail!==null&&xe()>Kt&&(o.flags|=128,d=!0,Vo(g,!1),o.lanes=4194304)}else{if(!d)if(n=Pi(E),n!==null){if(o.flags|=128,d=!0,s=n.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Vo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ne)return Je(o),null}else 2*xe()-g.renderingStartTime>Kt&&s!==1073741824&&(o.flags|=128,d=!0,Vo(g,!1),o.lanes=4194304);g.isBackwards?(E.sibling=o.child,o.child=E):(s=g.last,s!==null?s.sibling=E:o.child=E,g.last=E)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=xe(),o.sibling=null,s=Pe.current,_e(Pe,d?s&1|2:s&1),o):(Je(o),null);case 22:case 23:return Zs(),d=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(un&1073741824)!==0&&(Je(o),o.subtreeFlags&6&&(o.flags|=8192)):Je(o),null;case 24:return null;case 25:return null}throw Error(i(156,o.tag))}function fm(n,o){switch(ss(o),o.tag){case 1:return be(o.type)&&vi(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Jt(),Ie(Ze),Ie(ze),Es(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return ys(o),null;case 13:if(Ie(Pe),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(i(340));qt()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Ie(Pe),null;case 4:return Jt(),null;case 10:return fs(o.type._context),null;case 22:case 23:return Zs(),null;case 24:return null;default:return null}}var Gi=!1,Ye=!1,pm=typeof WeakSet=="function"?WeakSet:Set,J=null;function Wt(n,o){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){ke(n,o,d)}else s.current=null}function Hs(n,o,s){try{s()}catch(d){ke(n,o,d)}}var ju=!1;function mm(n,o){if(Zr=ii,n=ka(),Or(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var E=0,_=-1,S=-1,P=0,D=0,F=n,k=null;n:for(;;){for(var z;F!==s||p!==0&&F.nodeType!==3||(_=E+p),F!==g||d!==0&&F.nodeType!==3||(S=E+d),F.nodeType===3&&(E+=F.nodeValue.length),(z=F.firstChild)!==null;)k=F,F=z;for(;;){if(F===n)break n;if(k===s&&++P===p&&(_=E),k===g&&++D===d&&(S=E),(z=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=z}s=_===-1||S===-1?null:{start:_,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(br={focusedElem:n,selectionRange:s},ii=!1,J=o;J!==null;)if(o=J,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,J=n;else for(;J!==null;){o=J;try{var $=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if($!==null){var X=$.memoizedProps,De=$.memoizedState,R=o.stateNode,I=R.getSnapshotBeforeUpdate(o.elementType===o.type?X:Cn(o.type,X),De);R.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var N=o.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(V){ke(o,o.return,V)}if(n=o.sibling,n!==null){n.return=o.return,J=n;break}J=o.return}return $=ju,ju=!1,$}function Go(n,o,s){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&n)===n){var g=p.destroy;p.destroy=void 0,g!==void 0&&Hs(o,s,g)}p=p.next}while(p!==d)}}function Hi(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&n)===n){var d=s.create;s.destroy=d()}s=s.next}while(s!==o)}}function qs(n){var o=n.ref;if(o!==null){var s=n.stateNode;switch(n.tag){case 5:n=s;break;default:n=s}typeof o=="function"?o(n):o.current=n}}function ed(n){var o=n.alternate;o!==null&&(n.alternate=null,ed(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Nn],delete o[Ro],delete o[ts],delete o[Xp],delete o[Zp])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nd(n){return n.tag===5||n.tag===3||n.tag===4}function td(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bs(n,o,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(n,o):s.insertBefore(n,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(n,s)):(o=s,o.appendChild(n)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=gi));else if(d!==4&&(n=n.child,n!==null))for(Bs(n,o,s),n=n.sibling;n!==null;)Bs(n,o,s),n=n.sibling}function zs(n,o,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?s.insertBefore(n,o):s.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(zs(n,o,s),n=n.sibling;n!==null;)zs(n,o,s),n=n.sibling}var qe=null,_n=!1;function ot(n,o,s){for(s=s.child;s!==null;)od(n,o,s),s=s.sibling}function od(n,o,s){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(bo,s)}catch{}switch(s.tag){case 5:Ye||Wt(s,o);case 6:var d=qe,p=_n;qe=null,ot(n,o,s),qe=d,_n=p,qe!==null&&(_n?(n=qe,s=s.stateNode,n.nodeType===8?n.parentNode.removeChild(s):n.removeChild(s)):qe.removeChild(s.stateNode));break;case 18:qe!==null&&(_n?(n=qe,s=s.stateNode,n.nodeType===8?ns(n.parentNode,s):n.nodeType===1&&ns(n,s),go(n)):ns(qe,s.stateNode));break;case 4:d=qe,p=_n,qe=s.stateNode.containerInfo,_n=!0,ot(n,o,s),qe=d,_n=p;break;case 0:case 11:case 14:case 15:if(!Ye&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Hs(s,o,E),p=p.next}while(p!==d)}ot(n,o,s);break;case 1:if(!Ye&&(Wt(s,o),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(_){ke(s,o,_)}ot(n,o,s);break;case 21:ot(n,o,s);break;case 22:s.mode&1?(Ye=(d=Ye)||s.memoizedState!==null,ot(n,o,s),Ye=d):ot(n,o,s);break;default:ot(n,o,s)}}function id(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new pm),o.forEach(function(d){var p=Sm.bind(null,n,d);s.has(d)||(s.add(d),d.then(p,p))})}}function Sn(n,o){var s=o.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];try{var g=n,E=o,_=E;e:for(;_!==null;){switch(_.tag){case 5:qe=_.stateNode,_n=!1;break e;case 3:qe=_.stateNode.containerInfo,_n=!0;break e;case 4:qe=_.stateNode.containerInfo,_n=!0;break e}_=_.return}if(qe===null)throw Error(i(160));od(g,E,p),qe=null,_n=!1;var S=p.alternate;S!==null&&(S.return=null),p.return=null}catch(P){ke(p,o,P)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)rd(o,n),o=o.sibling}function rd(n,o){var s=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Sn(o,n),kn(n),d&4){try{Go(3,n,n.return),Hi(3,n)}catch(X){ke(n,n.return,X)}try{Go(5,n,n.return)}catch(X){ke(n,n.return,X)}}break;case 1:Sn(o,n),kn(n),d&512&&s!==null&&Wt(s,s.return);break;case 5:if(Sn(o,n),kn(n),d&512&&s!==null&&Wt(s,s.return),n.flags&32){var p=n.stateNode;try{io(p,"")}catch(X){ke(n,n.return,X)}}if(d&4&&(p=n.stateNode,p!=null)){var g=n.memoizedProps,E=s!==null?s.memoizedProps:g,_=n.type,S=n.updateQueue;if(n.updateQueue=null,S!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&Dl(p,g),Er(_,E);var P=Er(_,g);for(E=0;E<S.length;E+=2){var D=S[E],F=S[E+1];D==="style"?Bl(p,F):D==="dangerouslySetInnerHTML"?Hl(p,F):D==="children"?io(p,F):G(p,D,F,P)}switch(_){case"input":mr(p,g);break;case"textarea":Fl(p,g);break;case"select":var k=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var z=g.value;z!=null?wt(p,!!g.multiple,z,!1):k!==!!g.multiple&&(g.defaultValue!=null?wt(p,!!g.multiple,g.defaultValue,!0):wt(p,!!g.multiple,g.multiple?[]:"",!1))}p[Ro]=g}catch(X){ke(n,n.return,X)}}break;case 6:if(Sn(o,n),kn(n),d&4){if(n.stateNode===null)throw Error(i(162));p=n.stateNode,g=n.memoizedProps;try{p.nodeValue=g}catch(X){ke(n,n.return,X)}}break;case 3:if(Sn(o,n),kn(n),d&4&&s!==null&&s.memoizedState.isDehydrated)try{go(o.containerInfo)}catch(X){ke(n,n.return,X)}break;case 4:Sn(o,n),kn(n);break;case 13:Sn(o,n),kn(n),p=n.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Ys=xe())),d&4&&id(n);break;case 22:if(D=s!==null&&s.memoizedState!==null,n.mode&1?(Ye=(P=Ye)||D,Sn(o,n),Ye=P):Sn(o,n),kn(n),d&8192){if(P=n.memoizedState!==null,(n.stateNode.isHidden=P)&&!D&&(n.mode&1)!==0)for(J=n,D=n.child;D!==null;){for(F=J=D;J!==null;){switch(k=J,z=k.child,k.tag){case 0:case 11:case 14:case 15:Go(4,k,k.return);break;case 1:Wt(k,k.return);var $=k.stateNode;if(typeof $.componentWillUnmount=="function"){d=k,s=k.return;try{o=d,$.props=o.memoizedProps,$.state=o.memoizedState,$.componentWillUnmount()}catch(X){ke(d,s,X)}}break;case 5:Wt(k,k.return);break;case 22:if(k.memoizedState!==null){ad(F);continue}}z!==null?(z.return=k,J=z):ad(F)}D=D.sibling}e:for(D=null,F=n;;){if(F.tag===5){if(D===null){D=F;try{p=F.stateNode,P?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=F.stateNode,S=F.memoizedProps.style,E=S!=null&&S.hasOwnProperty("display")?S.display:null,_.style.display=ql("display",E))}catch(X){ke(n,n.return,X)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=P?"":F.memoizedProps}catch(X){ke(n,n.return,X)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===n)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===n)break e;for(;F.sibling===null;){if(F.return===null||F.return===n)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Sn(o,n),kn(n),d&4&&id(n);break;case 21:break;default:Sn(o,n),kn(n)}}function kn(n){var o=n.flags;if(o&2){try{e:{for(var s=n.return;s!==null;){if(nd(s)){var d=s;break e}s=s.return}throw Error(i(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(io(p,""),d.flags&=-33);var g=td(n);zs(n,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,_=td(n);Bs(n,_,E);break;default:throw Error(i(161))}}catch(S){ke(n,n.return,S)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function hm(n,o,s){J=n,sd(n)}function sd(n,o,s){for(var d=(n.mode&1)!==0;J!==null;){var p=J,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Gi;if(!E){var _=p.alternate,S=_!==null&&_.memoizedState!==null||Ye;_=Gi;var P=Ye;if(Gi=E,(Ye=S)&&!P)for(J=p;J!==null;)E=J,S=E.child,E.tag===22&&E.memoizedState!==null?ud(p):S!==null?(S.return=E,J=S):ud(p);for(;g!==null;)J=g,sd(g),g=g.sibling;J=p,Gi=_,Ye=P}ld(n)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,J=g):ld(n)}}function ld(n){for(;J!==null;){var o=J;if((o.flags&8772)!==0){var s=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ye||Hi(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ye)if(s===null)d.componentDidMount();else{var p=o.elementType===o.type?s.memoizedProps:Cn(o.type,s.memoizedProps);d.componentDidUpdate(p,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&au(o,g,d);break;case 3:var E=o.updateQueue;if(E!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}au(o,E,s)}break;case 5:var _=o.stateNode;if(s===null&&o.flags&4){s=_;var S=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var P=o.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&go(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ye||o.flags&512&&qs(o)}catch(k){ke(o,o.return,k)}}if(o===n){J=null;break}if(s=o.sibling,s!==null){s.return=o.return,J=s;break}J=o.return}}function ad(n){for(;J!==null;){var o=J;if(o===n){J=null;break}var s=o.sibling;if(s!==null){s.return=o.return,J=s;break}J=o.return}}function ud(n){for(;J!==null;){var o=J;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Hi(4,o)}catch(S){ke(o,s,S)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(S){ke(o,p,S)}}var g=o.return;try{qs(o)}catch(S){ke(o,g,S)}break;case 5:var E=o.return;try{qs(o)}catch(S){ke(o,E,S)}}}catch(S){ke(o,o.return,S)}if(o===n){J=null;break}var _=o.sibling;if(_!==null){_.return=o.return,J=_;break}J=o.return}}var gm=Math.ceil,qi=K.ReactCurrentDispatcher,Os=K.ReactCurrentOwner,hn=K.ReactCurrentBatchConfig,ce=0,Ge=null,Le=null,Be=0,un=0,$t=bn(0),Fe=0,Ho=null,Et=0,Bi=0,Js=0,qo=null,en=null,Ys=0,Kt=1/0,Hn=null,zi=!1,Ws=null,it=null,Oi=!1,rt=null,Ji=0,Bo=0,$s=null,Yi=-1,Wi=0;function Ke(){return(ce&6)!==0?xe():Yi!==-1?Yi:Yi=xe()}function st(n){return(n.mode&1)===0?1:(ce&2)!==0&&Be!==0?Be&-Be:jp.transition!==null?(Wi===0&&(Wi=ta()),Wi):(n=ve,n!==0||(n=window.event,n=n===void 0?16:ca(n.type)),n)}function In(n,o,s,d){if(50<Bo)throw Bo=0,$s=null,Error(i(185));co(n,s,d),((ce&2)===0||n!==Ge)&&(n===Ge&&((ce&2)===0&&(Bi|=s),Fe===4&&lt(n,Be)),nn(n,d),s===1&&ce===0&&(o.mode&1)===0&&(Kt=xe()+500,Ti&&et()))}function nn(n,o){var s=n.callbackNode;jf(n,o);var d=ni(n,n===Ge?Be:0);if(d===0)s!==null&&jl(s),n.callbackNode=null,n.callbackPriority=0;else if(o=d&-d,n.callbackPriority!==o){if(s!=null&&jl(s),o===1)n.tag===0?bp(cd.bind(null,n)):Xa(cd.bind(null,n)),Kp(function(){(ce&6)===0&&et()}),s=null;else{switch(oa(d)){case 1:s=Ar;break;case 4:s=ea;break;case 16:s=Zo;break;case 536870912:s=na;break;default:s=Zo}s=Ed(s,dd.bind(null,n))}n.callbackPriority=o,n.callbackNode=s}}function dd(n,o){if(Yi=-1,Wi=0,(ce&6)!==0)throw Error(i(327));var s=n.callbackNode;if(Qt()&&n.callbackNode!==s)return null;var d=ni(n,n===Ge?Be:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||o)o=$i(n,d);else{o=d;var p=ce;ce|=2;var g=pd();(Ge!==n||Be!==o)&&(Hn=null,Kt=xe()+500,Ct(n,o));do try{Em();break}catch(_){fd(n,_)}while(!0);cs(),qi.current=g,ce=p,Le!==null?o=0:(Ge=null,Be=0,o=Fe)}if(o!==0){if(o===2&&(p=Rr(n),p!==0&&(d=p,o=Ks(n,p))),o===1)throw s=Ho,Ct(n,0),lt(n,d),nn(n,xe()),s;if(o===6)lt(n,d);else{if(p=n.current.alternate,(d&30)===0&&!ym(p)&&(o=$i(n,d),o===2&&(g=Rr(n),g!==0&&(d=g,o=Ks(n,g))),o===1))throw s=Ho,Ct(n,0),lt(n,d),nn(n,xe()),s;switch(n.finishedWork=p,n.finishedLanes=d,o){case 0:case 1:throw Error(i(345));case 2:_t(n,en,Hn);break;case 3:if(lt(n,d),(d&130023424)===d&&(o=Ys+500-xe(),10<o)){if(ni(n,0)!==0)break;if(p=n.suspendedLanes,(p&d)!==d){Ke(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=es(_t.bind(null,n,en,Hn),o);break}_t(n,en,Hn);break;case 4:if(lt(n,d),(d&4194240)===d)break;for(o=n.eventTimes,p=-1;0<d;){var E=31-vn(d);g=1<<E,E=o[E],E>p&&(p=E),d&=~g}if(d=p,d=xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*gm(d/1960))-d,10<d){n.timeoutHandle=es(_t.bind(null,n,en,Hn),d);break}_t(n,en,Hn);break;case 5:_t(n,en,Hn);break;default:throw Error(i(329))}}}return nn(n,xe()),n.callbackNode===s?dd.bind(null,n):null}function Ks(n,o){var s=qo;return n.current.memoizedState.isDehydrated&&(Ct(n,o).flags|=256),n=$i(n,o),n!==2&&(o=en,en=s,o!==null&&Qs(o)),n}function Qs(n){en===null?en=n:en.push.apply(en,n)}function ym(n){for(var o=n;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var p=s[d],g=p.getSnapshot;p=p.value;try{if(!En(g(),p))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lt(n,o){for(o&=~Js,o&=~Bi,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var s=31-vn(o),d=1<<s;n[s]=-1,o&=~d}}function cd(n){if((ce&6)!==0)throw Error(i(327));Qt();var o=ni(n,0);if((o&1)===0)return nn(n,xe()),null;var s=$i(n,o);if(n.tag!==0&&s===2){var d=Rr(n);d!==0&&(o=d,s=Ks(n,d))}if(s===1)throw s=Ho,Ct(n,0),lt(n,o),nn(n,xe()),s;if(s===6)throw Error(i(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,_t(n,en,Hn),nn(n,xe()),null}function Xs(n,o){var s=ce;ce|=1;try{return n(o)}finally{ce=s,ce===0&&(Kt=xe()+500,Ti&&et())}}function Tt(n){rt!==null&&rt.tag===0&&(ce&6)===0&&Qt();var o=ce;ce|=1;var s=hn.transition,d=ve;try{if(hn.transition=null,ve=1,n)return n()}finally{ve=d,hn.transition=s,ce=o,(ce&6)===0&&et()}}function Zs(){un=$t.current,Ie($t)}function Ct(n,o){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==-1&&(n.timeoutHandle=-1,$p(s)),Le!==null)for(s=Le.return;s!==null;){var d=s;switch(ss(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vi();break;case 3:Jt(),Ie(Ze),Ie(ze),Es();break;case 5:ys(d);break;case 4:Jt();break;case 13:Ie(Pe);break;case 19:Ie(Pe);break;case 10:fs(d.type._context);break;case 22:case 23:Zs()}s=s.return}if(Ge=n,Le=n=at(n.current,null),Be=un=o,Fe=0,Ho=null,Js=Bi=Et=0,en=qo=null,gt!==null){for(o=0;o<gt.length;o++)if(s=gt[o],d=s.interleaved,d!==null){s.interleaved=null;var p=d.next,g=s.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}s.pending=d}gt=null}return n}function fd(n,o){do{var s=Le;try{if(cs(),Mi.current=Li,ki){for(var d=Me.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}ki=!1}if(vt=0,Ve=Ue=Me=null,Do=!1,Lo=0,Os.current=null,s===null||s.return===null){Fe=1,Ho=o,Le=null;break}e:{var g=n,E=s.return,_=s,S=o;if(o=Be,_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,D=_,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var k=D.alternate;k?(D.updateQueue=k.updateQueue,D.memoizedState=k.memoizedState,D.lanes=k.lanes):(D.updateQueue=null,D.memoizedState=null)}var z=Vu(E);if(z!==null){z.flags&=-257,Gu(z,E,_,g,o),z.mode&1&&Fu(g,P,o),o=z,S=P;var $=o.updateQueue;if($===null){var X=new Set;X.add(S),o.updateQueue=X}else $.add(S);break e}else{if((o&1)===0){Fu(g,P,o),bs();break e}S=Error(i(426))}}else if(Ne&&_.mode&1){var De=Vu(E);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),Gu(De,E,_,g,o),us(Yt(S,_));break e}}g=S=Yt(S,_),Fe!==4&&(Fe=2),qo===null?qo=[g]:qo.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var R=Lu(g,S,o);lu(g,R);break e;case 1:_=S;var I=g.type,N=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(it===null||!it.has(N)))){g.flags|=65536,o&=-o,g.lanes|=o;var V=Uu(g,_,o);lu(g,V);break e}}g=g.return}while(g!==null)}hd(s)}catch(b){o=b,Le===s&&s!==null&&(Le=s=s.return);continue}break}while(!0)}function pd(){var n=qi.current;return qi.current=Li,n===null?Li:n}function bs(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ge===null||(Et&268435455)===0&&(Bi&268435455)===0||lt(Ge,Be)}function $i(n,o){var s=ce;ce|=2;var d=pd();(Ge!==n||Be!==o)&&(Hn=null,Ct(n,o));do try{vm();break}catch(p){fd(n,p)}while(!0);if(cs(),ce=s,qi.current=d,Le!==null)throw Error(i(261));return Ge=null,Be=0,Fe}function vm(){for(;Le!==null;)md(Le)}function Em(){for(;Le!==null&&!Jf();)md(Le)}function md(n){var o=vd(n.alternate,n,un);n.memoizedProps=n.pendingProps,o===null?hd(n):Le=o,Os.current=null}function hd(n){var o=n;do{var s=o.alternate;if(n=o.return,(o.flags&32768)===0){if(s=cm(s,o,un),s!==null){Le=s;return}}else{if(s=fm(s,o),s!==null){s.flags&=32767,Le=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Fe=6,Le=null;return}}if(o=o.sibling,o!==null){Le=o;return}Le=o=n}while(o!==null);Fe===0&&(Fe=5)}function _t(n,o,s){var d=ve,p=hn.transition;try{hn.transition=null,ve=1,Tm(n,o,s,d)}finally{hn.transition=p,ve=d}return null}function Tm(n,o,s,d){do Qt();while(rt!==null);if((ce&6)!==0)throw Error(i(327));s=n.finishedWork;var p=n.finishedLanes;if(s===null)return null;if(n.finishedWork=null,n.finishedLanes=0,s===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0;var g=s.lanes|s.childLanes;if(ep(n,g),n===Ge&&(Le=Ge=null,Be=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Oi||(Oi=!0,Ed(Zo,function(){return Qt(),null})),g=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||g){g=hn.transition,hn.transition=null;var E=ve;ve=1;var _=ce;ce|=4,Os.current=null,mm(n,s),rd(s,n),qp(br),ii=!!Zr,br=Zr=null,n.current=s,hm(s),Yf(),ce=_,ve=E,hn.transition=g}else n.current=s;if(Oi&&(Oi=!1,rt=n,Ji=p),g=n.pendingLanes,g===0&&(it=null),Kf(s.stateNode),nn(n,xe()),o!==null)for(d=n.onRecoverableError,s=0;s<o.length;s++)p=o[s],d(p.value,{componentStack:p.stack,digest:p.digest});if(zi)throw zi=!1,n=Ws,Ws=null,n;return(Ji&1)!==0&&n.tag!==0&&Qt(),g=n.pendingLanes,(g&1)!==0?n===$s?Bo++:(Bo=0,$s=n):Bo=0,et(),null}function Qt(){if(rt!==null){var n=oa(Ji),o=hn.transition,s=ve;try{if(hn.transition=null,ve=16>n?16:n,rt===null)var d=!1;else{if(n=rt,rt=null,Ji=0,(ce&6)!==0)throw Error(i(331));var p=ce;for(ce|=4,J=n.current;J!==null;){var g=J,E=g.child;if((J.flags&16)!==0){var _=g.deletions;if(_!==null){for(var S=0;S<_.length;S++){var P=_[S];for(J=P;J!==null;){var D=J;switch(D.tag){case 0:case 11:case 15:Go(8,D,g)}var F=D.child;if(F!==null)F.return=D,J=F;else for(;J!==null;){D=J;var k=D.sibling,z=D.return;if(ed(D),D===P){J=null;break}if(k!==null){k.return=z,J=k;break}J=z}}}var $=g.alternate;if($!==null){var X=$.child;if(X!==null){$.child=null;do{var De=X.sibling;X.sibling=null,X=De}while(X!==null)}}J=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,J=E;else e:for(;J!==null;){if(g=J,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Go(9,g,g.return)}var R=g.sibling;if(R!==null){R.return=g.return,J=R;break e}J=g.return}}var I=n.current;for(J=I;J!==null;){E=J;var N=E.child;if((E.subtreeFlags&2064)!==0&&N!==null)N.return=E,J=N;else e:for(E=I;J!==null;){if(_=J,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Hi(9,_)}}catch(b){ke(_,_.return,b)}if(_===E){J=null;break e}var V=_.sibling;if(V!==null){V.return=_.return,J=V;break e}J=_.return}}if(ce=p,et(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(bo,n)}catch{}d=!0}return d}finally{ve=s,hn.transition=o}}return!1}function gd(n,o,s){o=Yt(s,o),o=Lu(n,o,1),n=tt(n,o,1),o=Ke(),n!==null&&(co(n,1,o),nn(n,o))}function ke(n,o,s){if(n.tag===3)gd(n,n,s);else for(;o!==null;){if(o.tag===3){gd(o,n,s);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(it===null||!it.has(d))){n=Yt(s,n),n=Uu(o,n,1),o=tt(o,n,1),n=Ke(),o!==null&&(co(o,1,n),nn(o,n));break}}o=o.return}}function Cm(n,o,s){var d=n.pingCache;d!==null&&d.delete(o),o=Ke(),n.pingedLanes|=n.suspendedLanes&s,Ge===n&&(Be&s)===s&&(Fe===4||Fe===3&&(Be&130023424)===Be&&500>xe()-Ys?Ct(n,0):Js|=s),nn(n,o)}function yd(n,o){o===0&&((n.mode&1)===0?o=1:(o=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var s=Ke();n=Fn(n,o),n!==null&&(co(n,o,s),nn(n,s))}function _m(n){var o=n.memoizedState,s=0;o!==null&&(s=o.retryLane),yd(n,s)}function Sm(n,o){var s=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(i(314))}d!==null&&d.delete(o),yd(n,s)}var vd;vd=function(n,o,s){if(n!==null)if(n.memoizedProps!==o.pendingProps||Ze.current)je=!0;else{if((n.lanes&s)===0&&(o.flags&128)===0)return je=!1,dm(n,o,s);je=(n.flags&131072)!==0}else je=!1,Ne&&(o.flags&1048576)!==0&&Za(o,_i,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Vi(n,o),n=o.pendingProps;var p=Vt(o,ze.current);Ot(o,s),p=_s(null,o,d,n,p,s);var g=Ss();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,be(d)?(g=!0,Ei(o)):g=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,hs(o),p.updater=Ui,o.stateNode=p,p._reactInternals=o,Ps(o,d,n,s),o=Ds(null,o,d,!0,g,s)):(o.tag=0,Ne&&g&&rs(o),$e(null,o,p,s),o=o.child),o;case 16:d=o.elementType;e:{switch(Vi(n,o),n=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=wm(d),n=Cn(d,n),p){case 0:o=xs(null,o,d,n,s);break e;case 1:o=Ju(null,o,d,n,s);break e;case 11:o=Hu(null,o,d,n,s);break e;case 14:o=qu(null,o,d,Cn(d.type,n),s);break e}throw Error(i(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Cn(d,p),xs(n,o,d,p,s);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Cn(d,p),Ju(n,o,d,p,s);case 3:e:{if(Yu(o),n===null)throw Error(i(387));d=o.pendingProps,g=o.memoizedState,p=g.element,su(n,o),Ni(o,d,null,s);var E=o.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){p=Yt(Error(i(423)),o),o=Wu(n,o,d,s,p);break e}else if(d!==p){p=Yt(Error(i(424)),o),o=Wu(n,o,d,s,p);break e}else for(an=Zn(o.stateNode.containerInfo.firstChild),ln=o,Ne=!0,Tn=null,s=iu(o,null,d,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qt(),d===p){o=Gn(n,o,s);break e}$e(n,o,d,s)}o=o.child}return o;case 5:return uu(o),n===null&&as(o),d=o.type,p=o.pendingProps,g=n!==null?n.memoizedProps:null,E=p.children,jr(d,p)?E=null:g!==null&&jr(d,g)&&(o.flags|=32),Ou(n,o),$e(n,o,E,s),o.child;case 6:return n===null&&as(o),null;case 13:return $u(n,o,s);case 4:return gs(o,o.stateNode.containerInfo),d=o.pendingProps,n===null?o.child=Bt(o,null,d,s):$e(n,o,d,s),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Cn(d,p),Hu(n,o,d,p,s);case 7:return $e(n,o,o.pendingProps,s),o.child;case 8:return $e(n,o,o.pendingProps.children,s),o.child;case 12:return $e(n,o,o.pendingProps.children,s),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,g=o.memoizedProps,E=p.value,_e(wi,d._currentValue),d._currentValue=E,g!==null)if(En(g.value,E)){if(g.children===p.children&&!Ze.current){o=Gn(n,o,s);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var _=g.dependencies;if(_!==null){E=g.child;for(var S=_.firstContext;S!==null;){if(S.context===d){if(g.tag===1){S=Vn(-1,s&-s),S.tag=2;var P=g.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?S.next=S:(S.next=D.next,D.next=S),P.pending=S}}g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),ps(g.return,s,o),_.lanes|=s;break}S=S.next}}else if(g.tag===10)E=g.type===o.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=s,_=E.alternate,_!==null&&(_.lanes|=s),ps(E,s,o),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===o){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}$e(n,o,p.children,s),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Ot(o,s),p=pn(p),d=d(p),o.flags|=1,$e(n,o,d,s),o.child;case 14:return d=o.type,p=Cn(d,o.pendingProps),p=Cn(d.type,p),qu(n,o,d,p,s);case 15:return Bu(n,o,o.type,o.pendingProps,s);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:Cn(d,p),Vi(n,o),o.tag=1,be(d)?(n=!0,Ei(o)):n=!1,Ot(o,s),xu(o,d,p),Ps(o,d,p,s),Ds(null,o,d,!0,n,s);case 19:return Qu(n,o,s);case 22:return zu(n,o,s)}throw Error(i(156,o.tag))};function Ed(n,o){return bl(n,o)}function Im(n,o,s,d){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,o,s,d){return new Im(n,o,s,d)}function js(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wm(n){if(typeof n=="function")return js(n)?1:0;if(n!=null){if(n=n.$$typeof,n===de)return 11;if(n===on)return 14}return 2}function at(n,o){var s=n.alternate;return s===null?(s=gn(n.tag,o,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=o,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,o=n.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}function Ki(n,o,s,d,p,g){var E=2;if(d=n,typeof n=="function")js(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case Q:return St(s.children,p,g,o);case ue:E=8,p|=8;break;case Z:return n=gn(12,s,o,p|2),n.elementType=Z,n.lanes=g,n;case Ee:return n=gn(13,s,o,p),n.elementType=Ee,n.lanes=g,n;case Xe:return n=gn(19,s,o,p),n.elementType=Xe,n.lanes=g,n;case Te:return Qi(s,p,g,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oe:E=10;break e;case ge:E=9;break e;case de:E=11;break e;case on:E=14;break e;case Ae:E=16,d=null;break e}throw Error(i(130,n==null?n:typeof n,""))}return o=gn(E,s,o,p),o.elementType=n,o.type=d,o.lanes=g,o}function St(n,o,s,d){return n=gn(7,n,d,o),n.lanes=s,n}function Qi(n,o,s,d){return n=gn(22,n,d,o),n.elementType=Te,n.lanes=s,n.stateNode={isHidden:!1},n}function el(n,o,s){return n=gn(6,n,null,o),n.lanes=s,n}function nl(n,o,s){return o=gn(4,n.children!==null?n.children:[],n.key,o),o.lanes=s,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Am(n,o,s,d,p){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nr(0),this.expirationTimes=Nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function tl(n,o,s,d,p,g,E,_,S){return n=new Am(n,o,s,_,S),o===1?(o=1,g===!0&&(o|=8)):o=0,g=gn(3,null,null,o),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},hs(g),n}function Rm(n,o,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:d==null?null:""+d,children:n,containerInfo:o,implementation:s}}function Td(n){if(!n)return jn;n=n._reactInternals;e:{if(ct(n)!==n||n.tag!==1)throw Error(i(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(be(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(i(171))}if(n.tag===1){var s=n.type;if(be(s))return Ka(n,s,o)}return o}function Cd(n,o,s,d,p,g,E,_,S){return n=tl(s,d,!0,n,p,g,E,_,S),n.context=Td(null),s=n.current,d=Ke(),p=st(s),g=Vn(d,p),g.callback=o??null,tt(s,g,p),n.current.lanes=p,co(n,p,d),nn(n,d),n}function Xi(n,o,s,d){var p=o.current,g=Ke(),E=st(p);return s=Td(s),o.context===null?o.context=s:o.pendingContext=s,o=Vn(g,E),o.payload={element:n},d=d===void 0?null:d,d!==null&&(o.callback=d),n=tt(p,o,E),n!==null&&(In(n,p,E,g),Ri(n,p,E)),E}function Zi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function _d(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<o?s:o}}function ol(n,o){_d(n,o),(n=n.alternate)&&_d(n,o)}function Nm(){return null}var Sd=typeof reportError=="function"?reportError:function(n){console.error(n)};function il(n){this._internalRoot=n}bi.prototype.render=il.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(i(409));Xi(n,o,null,null)},bi.prototype.unmount=il.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Tt(function(){Xi(null,n,null,null)}),o[xn]=null}};function bi(n){this._internalRoot=n}bi.prototype.unstable_scheduleHydration=function(n){if(n){var o=sa();n={blockedOn:null,target:n,priority:o};for(var s=0;s<Kn.length&&o!==0&&o<Kn[s].priority;s++);Kn.splice(s,0,n),s===0&&ua(n)}};function rl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ji(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Id(){}function Pm(n,o,s,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var P=Zi(E);g.call(P)}}var E=Cd(o,d,n,0,null,!1,!1,"",Id);return n._reactRootContainer=E,n[xn]=E.current,wo(n.nodeType===8?n.parentNode:n),Tt(),E}for(;p=n.lastChild;)n.removeChild(p);if(typeof d=="function"){var _=d;d=function(){var P=Zi(S);_.call(P)}}var S=tl(n,0,!1,null,null,!1,!1,"",Id);return n._reactRootContainer=S,n[xn]=S.current,wo(n.nodeType===8?n.parentNode:n),Tt(function(){Xi(o,S,s,d)}),S}function er(n,o,s,d,p){var g=s._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var _=p;p=function(){var S=Zi(E);_.call(S)}}Xi(o,E,n,p)}else E=Pm(s,o,n,p,d);return Zi(E)}ia=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var s=uo(o.pendingLanes);s!==0&&(Pr(o,s|1),nn(o,xe()),(ce&6)===0&&(Kt=xe()+500,et()))}break;case 13:Tt(function(){var d=Fn(n,1);if(d!==null){var p=Ke();In(d,n,1,p)}}),ol(n,1)}},Mr=function(n){if(n.tag===13){var o=Fn(n,134217728);if(o!==null){var s=Ke();In(o,n,134217728,s)}ol(n,134217728)}},ra=function(n){if(n.tag===13){var o=st(n),s=Fn(n,o);if(s!==null){var d=Ke();In(s,n,o,d)}ol(n,o)}},sa=function(){return ve},la=function(n,o){var s=ve;try{return ve=n,o()}finally{ve=s}},_r=function(n,o,s){switch(o){case"input":if(mr(n,s),o=s.name,s.type==="radio"&&o!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var d=s[o];if(d!==n&&d.form===n.form){var p=yi(d);if(!p)throw Error(i(90));kl(d),mr(d,p)}}}break;case"textarea":Fl(n,s);break;case"select":o=s.value,o!=null&&wt(n,!!s.multiple,o,!1)}},Yl=Xs,Wl=Tt;var Mm={usingClientEntryPoint:!1,Events:[No,Ut,yi,Ol,Jl,Xs]},zo={findFiberByHostInstance:ft,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xl(n),n===null?null:n.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nr.isDisabled&&nr.supportsFiber)try{bo=nr.inject(km),Rn=nr}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm,tn.createPortal=function(n,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rl(o))throw Error(i(200));return Rm(n,o,null,s)},tn.createRoot=function(n,o){if(!rl(n))throw Error(i(299));var s=!1,d="",p=Sd;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=tl(n,1,!1,null,null,s,!1,d,p),n[xn]=o.current,wo(n.nodeType===8?n.parentNode:n),new il(o)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=Xl(o),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return Tt(n)},tn.hydrate=function(n,o,s){if(!ji(o))throw Error(i(200));return er(null,n,o,!0,s)},tn.hydrateRoot=function(n,o,s){if(!rl(n))throw Error(i(405));var d=s!=null&&s.hydratedSources||null,p=!1,g="",E=Sd;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),o=Cd(o,null,n,1,s??null,p,!1,g,E),n[xn]=o.current,wo(n),d)for(n=0;n<d.length;n++)s=d[n],p=s._getVersion,p=p(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,p]:o.mutableSourceEagerHydrationData.push(s,p);return new bi(o)},tn.render=function(n,o,s){if(!ji(o))throw Error(i(200));return er(null,n,o,!1,s)},tn.unmountComponentAtNode=function(n){if(!ji(n))throw Error(i(40));return n._reactRootContainer?(Tt(function(){er(null,null,n,!1,function(){n._reactRootContainer=null,n[xn]=null})}),!0):!1},tn.unstable_batchedUpdates=Xs,tn.unstable_renderSubtreeIntoContainer=function(n,o,s,d){if(!ji(s))throw Error(i(200));if(n==null||n._reactInternals===void 0)throw Error(i(38));return er(n,o,s,!1,d)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var xd;function qm(){if(xd)return al.exports;xd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),al.exports=Hm(),al.exports}var Dd;function Bm(){if(Dd)return tr;Dd=1;var t=qm();return tr.createRoot=t.createRoot,tr.hydrateRoot=t.hydrateRoot,tr}var zm=Bm();const Om=lf(zm);var qn=(t=>(t.User="user",t.Ziata="ziata",t))(qn||{}),Bn=(t=>(t.Sleep="SLEEP",t.Exercise="EXERCISE",t.Food="FOOD",t.Habit="HABIT",t))(Bn||{}),dn=(t=>(t[t.WELCOME=0]="WELCOME",t[t.TOPIC_SELECTION=1]="TOPIC_SELECTION",t[t.ASKING_QUESTIONS=2]="ASKING_QUESTIONS",t[t.ANALYZING=3]="ANALYZING",t[t.SHOWING_RESULTS=4]="SHOWING_RESULTS",t[t.ENDED=5]="ENDED",t))(dn||{});const Jm=[{id:1,text:"Welcome! I'm Ziata, your Lifestyle and Wellness Assistant. My goal is to help you improve your life with tiny, sustainable changes.",sender:qn.Ziata},{id:2,text:"Are you ready to talk to Ziata?",sender:qn.Ziata}],cl={[Bn.Sleep]:{questions:["How confident do you feel that you are getting enough quality sleep every night?","Which element of your sleep hygiene routine is most challenging for you to maintain?","How does a poor nights sleep typically affect your mood the following day?","How does it make you feel when you struggle to fall asleep?","How do you usually feel when you begin your nighttime routine?","Hypothetically, if a task required staying up an extra two hours, how much stress would that add to your evening?","If a friend told you they consistently wake up feeling fully restored, what would be your primary internal reaction?","What type of activities are you doing prior to bed?"],responses:{HIGH:{BIOLOGY:"Your sleep pattern suggests that biological timing cues (our bodys way of communicating with us) are not aligning with your actual schedule. The body relies on stable anchorslight exposure in the morning, reduced stimulation at night, and consistent eating windowsto synchronize the circadian clock (internal clock everyone is hardwired with). To improve alignment, establish a fixed wake time and treat it as non-negotiable. Maintain a minimum 12-hour gap between first and last caffeine intake. Avoid heavy meals within two hours of bedtime. These adjustments strengthen homeostatic sleep pressure and create clearer internal signals for sleep onset.",ENVIRONMENT:"Your responses indicate environmental overstimulation (too many things going on around you at once) that prevents proper downregulation (reducing the frequency of overstimulation). Light exposure, device use, and ambient noise all prolong alertness by suppressing melatonin release and maintaining cognitive activation. Begin reducing environmental input 6090 minutes before bed. Dim lights to the lowest practical level, eliminate screen-based activities, remove unnecessary auditory stimuli, and reduce room temperature by 23 degrees. These changes create a physiological context (an environment for your mind) where the body can transition into the pre-sleep state more reliably.",CONSISTENCY:"Your sleep challenges appear strongly linked to irregular timing and inconsistent pre-sleep patterns. Variability in bedtime and wake time disrupts circadian (internal body clock) predictability and weakens the sleep drive. Select a fixed wake time that you can realistically maintain every day, including weekends. Build a short, repeatable wind-down sequence lasting 1020 minutes and perform it in the same order each night. This establishes a behavioral rhythm that cues the brain toward sleep readiness through repetition rather than effortful intention.",EMOTIONAL:"Your responses reflect heightened emotional activation around sleep, such as frustration, worry, or rumination. These states increase sympathetic nervous system activity, making sleep onset less accessible. Introduce a brief decompression (period of relaxation)  interval 2030 minutes before your wind-down routine. Use this time to externalize concerns through writing or to reduce physiological tension through controlled breathing with extended exhales. The goal is not to force relaxation but to reduce cognitive load and physiological arousal before initiating the sleep-preparation sequence.",COGNITIVE:"Your sleep difficulties appear tied to a mental model that positions sleep as something that must be controlled or achieved through effort. This increases performance pressure, which undermines the natural sleep process. Reframe the objective from getting to sleep to creating conditions where sleep can occur. Avoid evaluating night-to-night outcomes, refrain from catastrophic interpretations of occasional disruptions, and limit reliance on sleep metrics. Reducing cognitive effort around sleep allows physiological mechanisms to operate without interference."},MODERATE:{BIOLOGY:"Your sleep is generally functional, but biological timing cues (our bodys way of communicating with us) could be strengthened. Focus on stabilizing your wake time and increasing natural light exposure early in the day. Light acts as the strongest signal for circadian alignment  (internal clock everyone is hardwired with). Maintain consistent meal timing, especially breakfast, to reinforce metabolic rhythms that support predictable energy patterns and nighttime tiredness.",ENVIRONMENT:"Your environment supports sleep adequately but shows specific friction points (elements that make your life difficult). Identify the element that disrupts you mostlight leakage, noise, temperature, or device proximityand adjust that single variable first. Small, targeted environmental refinements often produce disproportional benefits because they reduce micro-arousals that fragment sleep quality.",CONSISTENCY:"Your routine is mostly reliable, but minor variability weakens the continuity of your sleep cycles. Narrow the range of your bedtime and wake time to within a 3045 minute window. Retain a short pre-sleep ritual, performed consistently, to maintain predictability for your nervous system. Consistency reinforces both circadian (your internal body clock) timing and behavioral momentum.",EMOTIONAL:"You appear to experience occasional emotional activation that interferes with falling asleep. Introduce a brief transition activity that shifts your nervous system out of task mode. Light stretching, slow-paced reading, or controlled breathing with a steady rhythm can reduce internal tension. The goal is not to eliminate emotion but to reduce the carryover of daytime activation into the pre-sleep period.",COGNITIVE:"Your cognitive (mental) approach to sleep is generally functional but may include rigid expectations or over-attention to night-to-night variability. Treat fluctuations as normal rather than diagnostic. Adjust your mindset toward trend-based evaluation rather than judging isolated nights. This reduces unnecessary monitoring and supports a more stable psychological relationship with sleep."},LOW:{BIOLOGY:"Your sleep system is well-aligned biologically. To maintain stability, preserve consistent morning light exposure and maintain regular eating windows. Small shifts in caffeine timing or late-day stimulation are the primary factors to monitor. Maintaining predictable circadian (internal body clock) anchors protects the biological foundation of your sleep.",ENVIRONMENT:"Your sleep environment is already structured effectively. Consider optimizing minor elementssuch as blackout curtains, predictable temperature settings, or device distancingto maintain the low-disruption context you have established. Environmental refinement at this stage is about sustaining equilibrium rather than solving problems.",CONSISTENCY:"Your routine demonstrates strong consistency. Continue holding a stable wake time, even if bedtime varies slightly. Small deviations will not disrupt a well-established circadian pattern as long as the morning anchor remains intact. Focus on preserving your current rhythm rather than expanding or complicating it.",EMOTIONAL:"Your emotional state appears well-regulated around sleep. If occasional pre-sleep activation arises, apply the same strategies you already use during the daybrief decompression (period of relaxation), light mental offloading, or steady breathing. These simple mechanisms maintain emotional steadiness without requiring new routines.",COGNITIVE:"Your cognitive stance (mindframe) toward sleep is functional and adaptive. Maintain your current perspective by avoiding excessive attention to metrics or isolated disruptions. A flexible, non-evaluative mindset supports ongoing stability and prevents unnecessary cognitive load."}}},[Bn.Exercise]:{questions:["How often do you find yourself too tired for physical activity you genuinely want to do?","What is the single biggest mental hurdle that stops you from being as active as youd like to be?","When you feel physically tired, which emotion most often replaces your motivation to be active?","Which type of exercise or movement do you believe would bring you the most joy and benefit if you did it more consistently?","How interconnected do you believe exercise and energy levels are?","How does a middle of the day pick-me-up (like a snack or stretch) make you feel?","When you think about exercising or moving more, whats the biggest thing that makes it feel difficult or discouraging?","How do you feel about the concept of movement breaks throughout the day, compared to one structured exercise session?"],responses:{HIGH:{BIOLOGY:"Your energy pattern suggests a biological mismatch between your recovery needs and your current activity level. Before increasing exercise volume, establish a reliable fatigue baseline (base level of energy). Track daily alertness in three segmentsmorning, afternoon, eveningto identify the most stable window. Begin with short, low-intensity sessions in that window. The objective is to stabilize circadian energy output, not to maximize exertion. Consistent biological pacing reduces energy volatility and makes movement more sustainable.",ENVIRONMENT:"Your responses indicate that environmental conditions are creating significant friction (elements that make things difficult). When the environment obstructs movement, initiation becomes disproportionately difficult. Reduce the physical distance between intention and action by preparing your setup in advance: place exercise clothing, water, or minimal equipment in a visible, accessible location. Identify one environmental triggersuch as morning light, work break, or end-of-day transitionand pair your movement session with that anchor. Lowering environmental friction increases follow-through.",CONSISTENCY:"Your movement pattern shows irregularity, which disrupts both energy stabilization and confidence. Begin with a micro-routine: a small, repeatable action performed at the same time daily, regardless of intensity. Examples include one minute of stretching, a short walk, or a mobility drill. This is not a full workout. The purpose is to generate behavioral continuity. Once consistency is established, gradually expand duration or intensity. Building reliability precedes building capacity.",EMOTIONAL:"Your relationship with movement appears influenced by emotional states (feelings) such as avoidance, dread, or frustration. These reactions increase psychological (mental) load and undermine initiation. Introduce a short pre-movement decompression  (period of relaxation) practicesuch as controlled breathingto reduce activation (the first steps) before starting. The goal is to shift the role of movement from an emotionally demanding task to a neutral, predictable element of your day.",COGNITIVE:"Your exercise challenges seem connected to a mental model that frames movement as an all-or-nothing task. This creates internal resistance and exaggerates the perceived cost of initiation. Reframe movement as an energy-stabilizing input rather than a performance requirement. Lower the threshold for what counts as success and focus on accumulating small, repeatable units rather than completing full sessions. This reduces cognitive friction and increases adherence."},MODERATE:{BIOLOGY:"Your energy levels show periodic instability rather than chronic disruption. To increase reliability, align your movement with natural peaks in alertness (spikes in energy levels). Identify the consistently strongest 3090 minute window in your day (the period where you have the most energy) and reserve it for light-to-moderate activity. This leverages your existing biological rhythms instead of working against them, improving both performance and adherence.",ENVIRONMENT:"Your environment supports activity but contains specific friction points (elements that make your life difficult). Modify one environmental factor that regularly interferes with movementsuch as layout, clutter, equipment inaccessibility, or weather constraints. Small structural changes often produce measurable improvements because they reduce initiation effort at the moment you intend to start.",CONSISTENCY:"You demonstrate some movement regularity, but fluctuations limit long-term stability. Introduce a lightweight schedulespecific days and approximate timesto anchor (maintain) your routine. Avoid relying on motivation as the primary driver. Consistency emerges when the behavior becomes predictable rather than optional.",EMOTIONAL:"Your exercise routine occasionally competes with emotional fatigue or low motivation. Implement a brief transitional cue, such as two minutes of light movement, to shift your nervous system from passive to active. This reduces emotional inertia and allows the body to engage more smoothly in the planned activity.",COGNITIVE:"Your mindset around movement is generally functional but occasionally shaped by rigid expectations or self-judgment. Shift your evaluative framework from outcomes to process reliability. This reduces unnecessary cognitive load and helps maintain momentum during periods of lower motivation or fluctuating performance."},LOW:{BIOLOGY:"Your energy regulation appears stable. Maintain biological alignment by preserving consistent movement timing and monitoring any changes in sleep, nutrition, or recovery that might influence performance. At this stage, refinements are subtle but help sustain long-term stability.",ENVIRONMENT:"Your environment effectively supports activity. To sustain this structure, periodically reassess equipment accessibility and physical layout to ensure that friction remains low. Environmental maintenance is a stability strategy (maintain comfortable levels) rather than an optimization requirement (way to get the best outcome).",CONSISTENCY:"Your exercise routine shows strong continuity. Preserve your consistency by maintaining predictable session timing and avoiding abrupt changes in volume or intensity. Stability is maintained through moderation rather than expansion.",EMOTIONAL:"You demonstrate strong emotional regulation (healthy management tools) around movement. If occasional resistance appears, apply the same strategies you already usebrief transitions, low-pressure initiation (low cost of entry), or reduced session intensity. These small adjustments help maintain emotional steadiness.",COGNITIVE:"Your mindset supports sustainable movement. Continue emphasizing process over performance and avoid unnecessary self-assessment. A flexible cognitive stance allows your routine to remain durable and low-friction over time."}}},[Bn.Food]:{questions:["If you had to describe the nutritional quality or density of your daily diet, what would it be?","On an average day, how much of what you drink is plain water, compared to other drinks (e.g., coffee, soda, or juice)?","What eating habits would you like to change?","If you had to describe your overall relationship with food in one feeling, what would it be?","When your eating habits deviate from your goals, how do you usually feel the next day?","How do you typically feel when having your largest meal of the day?","How important is the emotional experience (pleasure, taste, comfort, tradition) of what you drink, compared to its physical necessity for hydration?","Imagine you found out your favorite food was secretly very healthy, how would that news affect your enjoyment of it?"],responses:{HIGH:{BIOLOGY:"Your responses suggest that biological cueshunger, satiety, and energy cyclesare not aligned with your current eating patterns. Begin by standardizing meal timing into three predictable anchors spaced roughly 45 hours apart, with an optional light snack between them if genuine hunger arises. Avoid long fasting windows during the day followed by heavy consumption at night. Stabilizing biological signals reduces both overeating and erratic hunger by giving your body consistent metabolic expectations.",ENVIRONMENT:"Your eating pattern appears heavily influenced by your immediate environment. High-visibility, high-reward foods create repeated cue-driven eating cycles. Modify one environmental element first: reduce visibility of trigger foods, reorganize the kitchen so nutrient-dense items are at eye level, and pre-portion convenience items when possible. Environment design functions as a primary lever because it changes exposure before self-control is required.",CONSISTENCY:"Your responses indicate irregular meal timing and sporadic adherence to dietary intentions. To stabilize intake, select one reliable daily anchorbreakfast window, midday meal, or evening mealand make this the first point of consistency. Do not attempt to correct the full pattern at once. Once a single anchor is predictable, extend structure outward to the meals surrounding it. Consistency is built by sequencing changes, not by total dietary overhaul.",EMOTIONAL:"Your eating behavior appears closely tied to emotional activation such as stress, overwhelm, or fatigue. Before adjusting food choices, introduce a 25 minute pause when an emotionally driven urge arises. Use this moment to identify whether the impulse originates from hunger or emotion. If emotional, substitute a brief regulatory actionsuch as breathing or stepping awaybefore deciding whether to eat. This reduces reactive intake without requiring restriction.",COGNITIVE:"Your cognitive (mental) stance toward food appears shaped by rigid rules, moralized categories, or all-or-nothing interpretations. This pattern increases dietary volatility because small deviations are interpreted as failure. Shift to a proportional model: emphasize frequency rather than abstinence. Instead of eliminating foods, adjust how often they appear. This reduces cognitive strain and reduces the likelihood of rebound overeating."},MODERATE:{BIOLOGY:"Your biological cues (our bodys way of communicating with us) appear mostly functional but occasionally misaligned. Strengthen predictability by maintaining consistent meal timing and ensuring that your first meal includes a balance of protein and slow-digesting carbohydrates. This stabilizes energy across the day and reduces late-day overeating driven by accumulated hunger.",ENVIRONMENT:"Your environment supports your eating patterns but includes specific high-friction contexts such as workplace snacks, evening grazing, or convenience foods. Introduce one structural adjustment: reorder food placement, pre-prep a preferred nutrient-dense option, or modify the route you take during high-risk times (periods when youre vulnerable to bad eating habits). Small environmental modifications reduce the likelihood of impulsive choices.",CONSISTENCY:"You demonstrate some regularity in your eating pattern, but certain contextsbusy days, travel, fatigueinterrupt your routine. Establish a default meal or snack you can rely on during unstable conditions. The purpose is not nutritional perfection but maintaining rhythm when circumstances disrupt your typical plan. This may be difficult to accomplish, but it can pay dividends (large rewards).",EMOTIONAL:"You exhibit occasional emotional eating, often in predictable contexts. Introduce a simple interruption technique: before eating in an emotionally charged moment, conduct a short check-in to identify whether hunger or emotion is driving the urge. This brief pause improves choice quality without requiring restriction.",COGNITIVE:"Your mindset is generally steady but may include periodic self-judgment or overanalysis. Reduce cognitive load by shifting from strict, rule-based eating to flexible, principle-based eating. Rather than strict categories, apply a flexible structuresuch as emphasizing whole foods most of the time and permitting enjoyable foods in proportion. This prevents unnecessary mental strain."},LOW:{BIOLOGY:"Your biological signals are well-regulated. Maintain hunger and satiety alignment by continuing to space meals predictably and monitoring any changes in sleep, stress, or caffeine that might influence appetite. At this level, stability is maintained rather than actively revised.",ENVIRONMENT:"Your environment supports reliable dietary behavior. To sustain this advantage, periodically reassess visibility and accessibility of foods to ensure that environmental cues remain aligned with your intentions. Small adjustments maintain low-friction (little resistance) decision-making.",CONSISTENCY:"Your eating rhythm demonstrates strong consistency. Continue using predictable meal timing and avoid large deviations during periods of stress or schedule disruption. Stability is supported by maintaining your current structure rather than complicating it.",EMOTIONAL:"Your emotional relationship with food is steady. If occasional emotional cues arise, apply the same strategies you've already developedbrief reflection, slowing down the decision, or separating emotion from hunger. These techniques maintain regulation.",COGNITIVE:"Your mindset around eating is balanced. Maintain this by avoiding unnecessary dietary rules or moral judgments about food choices. A flexible, principle-based cognitive framework supports long-term stability with minimal friction."}}},[Bn.Habit]:{questions:["How confident are you that your current daily habits set you up for long-term well-being?","What is the biggest barrier that makes it difficult for you to maintain sustained change?","How do you typically accomplish the formation of a new habit?","How confident are you in your ability to start a new positive habit, even if you are not sure you can sustain it?","When developing a long-term goal, what feelings most often prevent you from advancing?","How do you feel when you think about how much you use your phone?","What is your primary strategy to protect your time for work?","If someone you know is struggling with their well-being, what would be the first you recommend to them?"],responses:{HIGH:{BIOLOGY:"Your habit formation challenges appear heavily influenced by biological factors such as fluctuating energy, irregular circadian patterns, or physical fatigue. Begin by identifying the 2040 minute window of highest daily alertnessmorning, midday, or eveningand assign your most important habit to that window. This improves follow-through by aligning the behavior with periods of highest physiological capability rather than relying on motivation.",ENVIRONMENT:"Your responses indicate that the physical environment contains substantial friction (elements that make your life difficult). When the environment is disorganized or lacks clear cues, initiation becomes cognitively demanding. Select one habit and create a dedicated physical location for it: a visible placement area, a simplified setup, or a clear trigger object. Environmental clarity reduces the need for internal negotiation and increases initiation reliability.",CONSISTENCY:"Your primary obstacle is irregular follow-through. Before expanding goals, reduce the habit to its most minimal executable formwhat Fogg defines as the tiny behavior. Perform the smallest version of the habit at the same time daily, even if it feels insufficient. The objective is to establish identity-level consistency. Once behavioral continuity is secure, progression becomes easier and requires less effort.",EMOTIONAL:"Your habit attempts appear disrupted by emotional states such as dread, stress, or overload. These states increase activation thresholds (the amount of energy to start a task) and make initiation feel disproportionately difficult. Add a 6090 second transition ritual before beginning the habit. This ritual should downregulate emotional intensitynot through relaxation but through predictable structure. Reducing emotional variability decreases resistance and stabilizes habit initiation.",COGNITIVE:"Your responses reflect cognitive and mindset barriersperfectionism, unrealistic standards, or a belief that habits require strong motivation. These interpretations amplify the perceived cost of action. Shift to a capability-focused framework: the habit should be easy enough to complete even on low-motivation days. Replace outcome goals with behavioral minimums. This reframes the habit from a performance task to a repeatable action."},MODERATE:{BIOLOGY:"Your biological rhythms are mostly supportive, but energy fluctuations occasionally disrupt your habits. Assign the habit to a consistent window that aligns with typical energy peaks. If energy dips interfere, reduce task intensity rather than skipping the behavior. Maintaining continuity during low-energy periods strengthens habit durability.",ENVIRONMENT:"Your environment supports your habits but includes specific friction pointsclutter, accessibility issues, or inconsistent cues. Modify one environmental factor that interferes with initiation. Small structural changes often yield significant improvements because they reduce decision-making overhead at the moment of action.",CONSISTENCY:"You demonstrate periodic consistency, but certain days break the rhythm and weaken momentum. Introduce a fallback version of the habit for disrupted daysa brief action that maintains continuity. This prevents zero days, which are the primary disruptor of cumulative habit-building.",EMOTIONAL:"Your habits are occasionally affected by stress or emotional fatigue. Implement a brief emotional checkpoint before action: identify the dominant feeling, acknowledge it without analysis, and begin the simplified version of the habit. This reduces emotional inertia and maintains behavioral reliability without requiring emotional suppression.",COGNITIVE:"Your mindset is functional but includes occasional self-judgment or rigid expectations. Shift from evaluating performance to evaluating consistency. Track whether the action occurred, not how well it was executed. This stabilizes long-term identity formation by reinforcing repetition rather than demanding ideal execution."},LOW:{BIOLOGY:"Your biological rhythms support habit execution effectively. Maintain this alignment by preserving consistent movement, sleep, and nutrition patterns. These biological anchors support predictable energy and sustained habit adherence.",ENVIRONMENT:"Your environment is well-structured for habit maintenance. Review your physical setup periodically to ensure cues remain visible, accessible, and aligned with your intentions. Environmental maintenance protects against gradual friction accumulation.",CONSISTENCY:"Your pattern shows strong consistency. Continue using predictable cueroutine pairings and avoid unnecessary expansion of your habit portfolio at once. Sustaining the existing cadence provides long-term stability.",EMOTIONAL:"Your habits are not significantly disrupted by emotional variability. If occasional emotional friction arises, apply the same strategies you use successfully elsewherebrief transition steps or reduced-intensity versions. These techniques maintain reliability without requiring new systems.",COGNITIVE:"Your mindset supports durable habits. To reinforce this, avoid unnecessary increases in complexity or self-evaluation. A flexible, capability-focused framework prevents cognitive overload and preserves behavioral momentum."}}}};let Ym,Wm;function $m(){return{geminiUrl:Ym,vertexUrl:Wm}}function Km(t,e,i,r){var u,c;if(!t?.baseUrl){const f=$m();return e?(u=f.vertexUrl)!==null&&u!==void 0?u:i:(c=f.geminiUrl)!==null&&c!==void 0?c:r}return t.baseUrl}class On{}function q(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const c=e[u];return c!=null?String(c):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function a(t,e,i){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const m=f.slice(0,-2);if(!(m in t))if(Array.isArray(i))t[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[m])){const y=t[m];if(Array.isArray(i))for(let h=0;h<y.length;h++){const v=y[h];a(v,e.slice(c+1),i[h])}else for(const h of y)a(h,e.slice(c+1),i)}return}else if(f.endsWith("[0]")){const m=f.slice(0,-3);m in t||(t[m]=[{}]);const y=t[m];a(y[0],e.slice(c+1),i);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const r=e[e.length-1],u=t[r];if(u!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===u)return;if(typeof u=="object"&&typeof i=="object"&&u!==null&&i!==null)Object.assign(u,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[r]=i}function l(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return i;const u=e[r];if(u.endsWith("[]")){const c=u.slice(0,-2);if(c in t){const f=t[c];return Array.isArray(f)?f.map(m=>l(m,e.slice(r+1),i)):i}else return i}else t=t[u]}return t}catch(r){if(r instanceof TypeError)return i;throw r}}function Qm(t,e){for(const[i,r]of Object.entries(e)){const u=i.split("."),c=r.split("."),f=new Set;let m=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){m=y;break}if(m!==-1&&c.length>m)for(let y=m;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}fl(t,u,c,0,f)}}function fl(t,e,i,r,u){if(r>=e.length||typeof t!="object"||t===null)return;const c=e[r];if(c.endsWith("[]")){const f=c.slice(0,-2),m=t;if(f in m&&Array.isArray(m[f]))for(const y of m[f])fl(y,e,i,r+1,u)}else if(c==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,m=Object.keys(f).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of m)y[h]=f[h];for(const[h,v]of Object.entries(y)){const T=[];for(const C of i.slice(r))C==="*"?T.push(h):T.push(C);a(f,T,v)}for(const h of m)delete f[h]}}else{const f=t;c in f&&fl(f[c],e,i,r+1,u)}}function _l(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Xm(t){const e={},i=l(t,["operationName"]);i!=null&&a(e,["operationName"],i);const r=l(t,["resourceName"]);return r!=null&&a(e,["_url","resourceName"],r),e}function Zm(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&a(e,["response"],jm(f)),e}function bm(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],eh(f)),e}function jm(t){const e={},i=l(t,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>nh(f))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function eh(t){const e={},i=l(t,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>th(f))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function nh(t){const e={},i=l(t,["video"]);return i!=null&&a(e,["video"],ah(i)),e}function th(t){const e={},i=l(t,["_self"]);return i!=null&&a(e,["video"],uh(i)),e}function oh(t){const e={},i=l(t,["operationName"]);return i!=null&&a(e,["_url","operationName"],i),e}function ih(t){const e={},i=l(t,["operationName"]);return i!=null&&a(e,["_url","operationName"],i),e}function rh(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],sh(f)),e}function sh(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["parent"]);r!=null&&a(e,["parent"],r);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function af(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],lh(f)),e}function lh(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["parent"]);r!=null&&a(e,["parent"],r);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function ah(t){const e={},i=l(t,["uri"]);i!=null&&a(e,["uri"],i);const r=l(t,["encodedVideo"]);r!=null&&a(e,["videoBytes"],_l(r));const u=l(t,["encoding"]);return u!=null&&a(e,["mimeType"],u),e}function uh(t){const e={},i=l(t,["gcsUri"]);i!=null&&a(e,["uri"],i);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],_l(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}var Ld;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ld||(Ld={}));var Ud;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ud||(Ud={}));var Fd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Fd||(Fd={}));var wn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wn||(wn={}));var Vd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vd||(Vd={}));var Gd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gd||(Gd={}));var Hd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hd||(Hd={}));var qd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qd||(qd={}));var Bd;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bd||(Bd={}));var zd;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(zd||(zd={}));var Od;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Od||(Od={}));var Jd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Jd||(Jd={}));var Yd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yd||(Yd={}));var Wd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Wd||(Wd={}));var $d;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($d||($d={}));var Kd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kd||(Kd={}));var Qd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qd||(Qd={}));var Xd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Xd||(Xd={}));var Zd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Zd||(Zd={}));var rr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rr||(rr={}));var bd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bd||(bd={}));var jd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jd||(jd={}));var ec;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ec||(ec={}));var pl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pl||(pl={}));var nc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(nc||(nc={}));var tc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tc||(tc={}));var oc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oc||(oc={}));var ic;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ic||(ic={}));var rc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rc||(rc={}));var sc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sc||(sc={}));var lc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(lc||(lc={}));var ac;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ac||(ac={}));var uc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(uc||(uc={}));var dc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(dc||(dc={}));var cc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cc||(cc={}));var fc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fc||(fc={}));var pc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pc||(pc={}));var mc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mc||(mc={}));var hc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(hc||(hc={}));var gc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(gc||(gc={}));var yc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(yc||(yc={}));var vc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(vc||(vc={}));var Ec;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ec||(Ec={}));var Tc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Tc||(Tc={}));var Cc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cc||(Cc={}));var _c;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(_c||(_c={}));var Sc;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Sc||(Sc={}));var Ic;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ic||(Ic={}));var wc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wc||(wc={}));var Ac;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ac||(Ac={}));var Rc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Rc||(Rc={}));var Nc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Nc||(Nc={}));var Pc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pc||(Pc={}));var Mc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Mc||(Mc={}));var Xt;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xt||(Xt={}));class ml{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Jo{get text(){var e,i,r,u,c,f,m,y;if(((u=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const C of(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[w,L]of Object.entries(C))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(L!==null||L!==void 0)&&T.push(w);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,h+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,i,r,u,c,f,m,y;if(((u=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(T))C!=="inlineData"&&(w!==null||w!==void 0)&&v.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,r,u,c,f,m,y;if(((u=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var e,i,r,u,c,f,m,y,h;if(((u=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,r,u,c,f,m,y,h;if(((u=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class kc{}class xc{}class dh{}class ch{}class fh{}class ph{}class Dc{}class Lc{}class Uc{}class mh{}class sr{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new sr;let u;const c=e;return i?u=bm(c):u=Zm(c),Object.assign(r,u),r}}class Fc{}class Vc{}class Gc{}class Hc{}class hh{}class gh{}class yh{}class Sl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Sl,c=rh(e);return Object.assign(r,c),r}}class vh{}class Eh{}class Th{}class qc{}class Ch{get text(){var e,i,r;let u="",c=!1;const f=[];for(const m of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[y,h]of Object.entries(m))y!=="text"&&y!=="thought"&&h!==null&&f.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,u+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,i,r;let u="";const c=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[m,y]of Object.entries(f))m!=="inlineData"&&y!==null&&c.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class _h{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Il{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Il,c=af(e);return Object.assign(r,c),r}}function he(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uf(t,e){const i=he(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function df(t){return Array.isArray(t)?t.map(e=>lr(e)):[lr(t)]}function lr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cf(t){const e=lr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ff(t){const e=lr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function pf(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Bc(e)):[Bc(t)]}function hl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Oc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function We(t){if(t==null)throw new Error("ContentUnion is required");return hl(t)?t:{role:"user",parts:pf(t)}}function wl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=We(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=We(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>We(i)):[We(e)]}function yn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zc(t)||Oc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[We(t)]}const e=[],i=[],r=hl(t[0]);for(const u of t){const c=hl(u);if(c!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(u);else{if(zc(u)||Oc(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(u)}}return r||e.push({role:"user",parts:pf(i)}),e}function Sh(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(wn).includes(i[0].toUpperCase())?i[0].toUpperCase():wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(wn).includes(r.toUpperCase())?r.toUpperCase():wn.TYPE_UNSPECIFIED})}}function Zt(t){const e={},i=["items"],r=["anyOf"],u=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&Sh(t.type,e);for(const[f,m]of Object.entries(t))if(m!=null)if(f=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(wn).includes(m.toUpperCase())?m.toUpperCase():wn.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=Zt(m);else if(r.includes(f)){const y=[];for(const h of m){if(h.type=="null"){e.nullable=!0;continue}y.push(Zt(h))}e[f]=y}else if(u.includes(f)){const y={};for(const[h,v]of Object.entries(m))y[h]=Zt(v);e[f]=y}else{if(f==="additionalProperties")continue;e[f]=m}return e}function Al(t){return Zt(t)}function Rl(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nl(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function eo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Zt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Zt(e.response));return t}function no(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Ih(t,e,i,r=1){const u=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:u?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:u?`${i}/${e}`:e}function Jn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ih(t,e,"cachedContents")}function mf(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function dt(t){return _l(t)}function wh(t){return t!=null&&typeof t=="object"&&"name"in t}function Ah(t){return t!=null&&typeof t=="object"&&"video"in t}function Rh(t){return t!=null&&typeof t=="object"&&"uri"in t}function hf(t){var e;let i;if(wh(t)&&(i=t.name),!(Rh(t)&&(i=t.uri,i===void 0))&&!(Ah(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const u=i.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${i}`);i=u[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function gf(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function yf(t){for(const e of["models","tunedModels","publisherModels"])if(Nh(t,e))return t[e];return[]}function Nh(t,e){return t!==null&&typeof t=="object"&&e in t}function Ph(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Mh(t,e={}){const i=[],r=new Set;for(const u of t){const c=u.name;if(r.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);r.add(c);const f=Ph(u,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function vf(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,u=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(u>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function kh(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ef(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const u=i.inlinedResponses;if(!Array.isArray(u)||u.length===0)return t;let c=!1;for(const f of u){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function to(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Tf(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function xh(t){const e={},i=l(t,["responsesFile"]);i!=null&&a(e,["fileName"],i);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>fg(f))),a(e,["inlinedResponses"],c)}const u=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["inlinedEmbedContentResponses"],c)}return e}function Dh(t){const e={},i=l(t,["predictionsFormat"]);i!=null&&a(e,["format"],i);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&a(e,["gcsUri"],r);const u=l(t,["bigqueryDestination","outputUri"]);return u!=null&&a(e,["bigqueryUri"],u),e}function Lh(t){const e={},i=l(t,["format"]);i!=null&&a(e,["predictionsFormat"],i);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsDestination","outputUriPrefix"],r);const u=l(t,["bigqueryUri"]);if(u!=null&&a(e,["bigqueryDestination","outputUri"],u),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function or(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata","displayName"]);r!=null&&a(e,["displayName"],r);const u=l(t,["metadata","state"]);u!=null&&a(e,["state"],Tf(u));const c=l(t,["metadata","createTime"]);c!=null&&a(e,["createTime"],c);const f=l(t,["metadata","endTime"]);f!=null&&a(e,["endTime"],f);const m=l(t,["metadata","updateTime"]);m!=null&&a(e,["updateTime"],m);const y=l(t,["metadata","model"]);y!=null&&a(e,["model"],y);const h=l(t,["metadata","output"]);return h!=null&&a(e,["dest"],xh(Ef(h))),e}function gl(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const u=l(t,["state"]);u!=null&&a(e,["state"],Tf(u));const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["createTime"]);f!=null&&a(e,["createTime"],f);const m=l(t,["startTime"]);m!=null&&a(e,["startTime"],m);const y=l(t,["endTime"]);y!=null&&a(e,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(e,["updateTime"],h);const v=l(t,["model"]);v!=null&&a(e,["model"],v);const T=l(t,["inputConfig"]);T!=null&&a(e,["src"],Uh(T));const C=l(t,["outputConfig"]);C!=null&&a(e,["dest"],Dh(Ef(C)));const w=l(t,["completionStats"]);return w!=null&&a(e,["completionStats"],w),e}function Uh(t){const e={},i=l(t,["instancesFormat"]);i!=null&&a(e,["format"],i);const r=l(t,["gcsSource","uris"]);r!=null&&a(e,["gcsUri"],r);const u=l(t,["bigquerySource","inputUri"]);return u!=null&&a(e,["bigqueryUri"],u),e}function Fh(t,e){const i={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&a(i,["fileName"],r);const u=l(e,["inlinedRequests"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>cg(t,f))),a(i,["requests","requests"],c)}return i}function Vh(t){const e={},i=l(t,["format"]);i!=null&&a(e,["instancesFormat"],i);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsSource","uris"],r);const u=l(t,["bigqueryUri"]);if(u!=null&&a(e,["bigquerySource","inputUri"],u),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Gh(t){const e={},i=l(t,["data"]);if(i!=null&&a(e,["data"],i),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Hh(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function qh(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function Bh(t){const e={},i=l(t,["content"]);i!=null&&a(e,["content"],i);const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],zh(r));const u=l(t,["tokenCount"]);u!=null&&a(e,["tokenCount"],u);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&a(e,["avgLogprobs"],f);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const y=l(t,["index"]);y!=null&&a(e,["index"],y);const h=l(t,["logprobsResult"]);h!=null&&a(e,["logprobsResult"],h);const v=l(t,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),a(e,["safetyRatings"],C)}const T=l(t,["urlContextMetadata"]);return T!=null&&a(e,["urlContextMetadata"],T),e}function zh(t){const e={},i=l(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),a(e,["citations"],r)}return e}function Cf(t){const e={},i=l(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Eg(c))),a(e,["parts"],u)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Oh(t,e){const i={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&a(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Jh(t,e){const i={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const u=l(t,["dest"]);return e!==void 0&&u!=null&&a(e,["outputConfig"],Lh(kh(u))),i}function Jc(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["src"]);u!=null&&a(i,["batch","inputConfig"],Fh(t,vf(t,u)));const c=l(e,["config"]);return c!=null&&Oh(c,i),i}function Yh(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["model"],he(t,r));const u=l(e,["src"]);u!=null&&a(i,["inputConfig"],Vh(vf(t,u)));const c=l(e,["config"]);return c!=null&&Jh(c,i),i}function Wh(t,e){const i={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&a(e,["batch","displayName"],r),i}function $h(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["src"]);u!=null&&a(i,["batch","inputConfig"],eg(t,u));const c=l(e,["config"]);return c!=null&&Wh(c,i),i}function Kh(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function Qh(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function Xh(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);return c!=null&&a(e,["error"],c),e}function Zh(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);return c!=null&&a(e,["error"],c),e}function bh(t,e){const i={},r=l(e,["contents"]);if(r!=null){let c=wl(t,r);Array.isArray(c)&&(c=c.map(f=>f)),a(i,["requests[]","request","content"],c)}const u=l(e,["config"]);return u!=null&&(a(i,["_self"],jh(u,i)),Qm(i,{"requests[].*":"requests[].request.*"})),i}function jh(t,e){const i={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["requests[]","title"],u);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&a(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function eg(t,e){const i={},r=l(e,["fileName"]);r!=null&&a(i,["file_name"],r);const u=l(e,["inlinedRequests"]);return u!=null&&a(i,["requests"],bh(t,u)),i}function ng(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tg(t){const e={},i=l(t,["id"]);i!=null&&a(e,["id"],i);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function og(t){const e={},i=l(t,["mode"]);i!=null&&a(e,["mode"],i);const r=l(t,["allowedFunctionNames"]);if(r!=null&&a(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ig(t,e,i){const r={},u=l(e,["systemInstruction"]);i!==void 0&&u!=null&&a(i,["systemInstruction"],Cf(We(u)));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(r,["topP"],f);const m=l(e,["topK"]);m!=null&&a(r,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(r,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(r,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(r,["stopSequences"],v);const T=l(e,["responseLogprobs"]);T!=null&&a(r,["responseLogprobs"],T);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const L=l(e,["frequencyPenalty"]);L!=null&&a(r,["frequencyPenalty"],L);const M=l(e,["seed"]);M!=null&&a(r,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&a(r,["responseMimeType"],U);const O=l(e,["responseSchema"]);O!=null&&a(r,["responseSchema"],Al(O));const Y=l(e,["responseJsonSchema"]);if(Y!=null&&a(r,["responseJsonSchema"],Y),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=l(e,["safetySettings"]);if(i!==void 0&&G!=null){let de=G;Array.isArray(de)&&(de=de.map(Ee=>Tg(Ee))),a(i,["safetySettings"],de)}const K=l(e,["tools"]);if(i!==void 0&&K!=null){let de=no(K);Array.isArray(de)&&(de=de.map(Ee=>_g(eo(Ee)))),a(i,["tools"],de)}const j=l(e,["toolConfig"]);if(i!==void 0&&j!=null&&a(i,["toolConfig"],Cg(j)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=l(e,["cachedContent"]);i!==void 0&&H!=null&&a(i,["cachedContent"],Jn(t,H));const Q=l(e,["responseModalities"]);Q!=null&&a(r,["responseModalities"],Q);const ue=l(e,["mediaResolution"]);ue!=null&&a(r,["mediaResolution"],ue);const Z=l(e,["speechConfig"]);if(Z!=null&&a(r,["speechConfig"],Rl(Z)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=l(e,["thinkingConfig"]);oe!=null&&a(r,["thinkingConfig"],oe);const ge=l(e,["imageConfig"]);return ge!=null&&a(r,["imageConfig"],dg(ge)),r}function rg(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(h=>Bh(h))),a(e,["candidates"],y)}const u=l(t,["modelVersion"]);u!=null&&a(e,["modelVersion"],u);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&a(e,["responseId"],f);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function sg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function lg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],to(t,r)),i}function ag(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(t,["enableWidget"]);return i!=null&&a(e,["enableWidget"],i),e}function ug(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(t,["timeRangeFilter"]);return i!=null&&a(e,["timeRangeFilter"],i),e}function dg(t){const e={},i=l(t,["aspectRatio"]);i!=null&&a(e,["aspectRatio"],i);const r=l(t,["imageSize"]);if(r!=null&&a(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cg(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["request","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let m=yn(u);Array.isArray(m)&&(m=m.map(y=>Cf(y))),a(i,["request","contents"],m)}const c=l(e,["metadata"]);c!=null&&a(i,["metadata"],c);const f=l(e,["config"]);return f!=null&&a(i,["request","generationConfig"],ig(t,f,l(i,["request"],{}))),i}function fg(t){const e={},i=l(t,["response"]);i!=null&&a(e,["response"],rg(i));const r=l(t,["error"]);return r!=null&&a(e,["error"],r),e}function pg(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);if(e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function mg(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);e!==void 0&&u!=null&&a(e,["_query","pageToken"],u);const c=l(t,["filter"]);return e!==void 0&&c!=null&&a(e,["_query","filter"],c),i}function hg(t){const e={},i=l(t,["config"]);return i!=null&&pg(i,e),e}function gg(t){const e={},i=l(t,["config"]);return i!=null&&mg(i,e),e}function yg(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["operations"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>or(f))),a(e,["batchJobs"],c)}return e}function vg(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["batchPredictionJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>gl(f))),a(e,["batchJobs"],c)}return e}function Eg(t){const e={},i=l(t,["mediaResolution"]);i!=null&&a(e,["mediaResolution"],i);const r=l(t,["codeExecutionResult"]);r!=null&&a(e,["codeExecutionResult"],r);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],ng(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],tg(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],Gh(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const T=l(t,["thoughtSignature"]);T!=null&&a(e,["thoughtSignature"],T);const C=l(t,["videoMetadata"]);return C!=null&&a(e,["videoMetadata"],C),e}function Tg(t){const e={},i=l(t,["category"]);if(i!=null&&a(e,["category"],i),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function Cg(t){const e={},i=l(t,["functionCallingConfig"]);i!=null&&a(e,["functionCallingConfig"],og(i));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],r),e}function _g(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],ag(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],ug(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}var zn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(zn||(zn={}));class It{constructor(e,i,r,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,u)}init(e,i,r){var u,c;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!r||Object.keys(r).length===0?f={config:{}}:typeof r=="object"?f=Object.assign({},r):f=r,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(u=f.config)===null||u===void 0?void 0:u.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class Sg extends On{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new It(zn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Jc(this.apiClient,e),r=i._url,u=q("{model}:batchGenerateContent",r),m=i.batch.inputConfig.requests,y=m.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const w=T.request;w.systemInstruction=C,T.request=w}h.push(T)}return m.requests=h,delete i.config,delete i._url,delete i._query,{path:u,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},u=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${u}`),r.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?r.dest=`${c.slice(0,-6)}/dest`:r.dest=`${c}_dest_${u}`;else if(f)r.dest=`${f}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Yh(this.apiClient,e);return m=q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>gl(v))}else{const h=Jc(this.apiClient,e);return m=q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>or(v))}}async createEmbeddingsInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=$h(this.apiClient,e);return c=q("{model}:asyncBatchEmbedContent",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>or(y))}}async get(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=lg(this.apiClient,e);return m=q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>gl(v))}else{const h=sg(this.apiClient,e);return m=q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>or(v))}}async cancel(e){var i,r,u,c;let f="",m={};if(this.apiClient.isVertexAI()){const y=qh(this.apiClient,e);f=q("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=Hh(this.apiClient,e);f=q("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=gg(e);return m=q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=vg(v),C=new qc;return Object.assign(C,T),C})}else{const h=hg(e);return m=q("batches",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=yg(v),C=new qc;return Object.assign(C,T),C})}}async delete(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qh(this.apiClient,e);return m=q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>Zh(v))}else{const h=Kh(this.apiClient,e);return m=q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>Xh(v))}}}function Ig(t){const e={},i=l(t,["data"]);if(i!=null&&a(e,["data"],i),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Yc(t){const e={},i=l(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>$g(c))),a(e,["parts"],u)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function wg(t,e){const i={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const u=l(t,["expireTime"]);e!==void 0&&u!=null&&a(e,["expireTime"],u);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let v=yn(f);Array.isArray(v)&&(v=v.map(T=>Yc(T))),a(e,["contents"],v)}const m=l(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["systemInstruction"],Yc(We(m)));const y=l(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>Qg(T))),a(e,["tools"],v)}const h=l(t,["toolConfig"]);if(e!==void 0&&h!=null&&a(e,["toolConfig"],Kg(h)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Ag(t,e){const i={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const u=l(t,["expireTime"]);e!==void 0&&u!=null&&a(e,["expireTime"],u);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let T=yn(f);Array.isArray(T)&&(T=T.map(C=>C)),a(e,["contents"],T)}const m=l(t,["systemInstruction"]);e!==void 0&&m!=null&&a(e,["systemInstruction"],We(m));const y=l(t,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(C=>Xg(C))),a(e,["tools"],T)}const h=l(t,["toolConfig"]);e!==void 0&&h!=null&&a(e,["toolConfig"],h);const v=l(t,["kmsKeyName"]);return e!==void 0&&v!=null&&a(e,["encryption_spec","kmsKeyName"],v),i}function Rg(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["model"],uf(t,r));const u=l(e,["config"]);return u!=null&&wg(u,i),i}function Ng(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["model"],uf(t,r));const u=l(e,["config"]);return u!=null&&Ag(u,i),i}function Pg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],Jn(t,r)),i}function Mg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],Jn(t,r)),i}function kg(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function xg(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function Dg(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Lg(t){const e={},i=l(t,["id"]);i!=null&&a(e,["id"],i);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ug(t){const e={},i=l(t,["mode"]);i!=null&&a(e,["mode"],i);const r=l(t,["allowedFunctionNames"]);if(r!=null&&a(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Fg(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=l(t,["description"]);i!=null&&a(e,["description"],i);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function Vg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],Jn(t,r)),i}function Gg(t,e){const i={},r=l(e,["name"]);return r!=null&&a(i,["_url","name"],Jn(t,r)),i}function Hg(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(t,["enableWidget"]);return i!=null&&a(e,["enableWidget"],i),e}function qg(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(t,["timeRangeFilter"]);return i!=null&&a(e,["timeRangeFilter"],i),e}function Bg(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),i}function zg(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),i}function Og(t){const e={},i=l(t,["config"]);return i!=null&&Bg(i,e),e}function Jg(t){const e={},i=l(t,["config"]);return i!=null&&zg(i,e),e}function Yg(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["cachedContents"],c)}return e}function Wg(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["cachedContents"],c)}return e}function $g(t){const e={},i=l(t,["mediaResolution"]);i!=null&&a(e,["mediaResolution"],i);const r=l(t,["codeExecutionResult"]);r!=null&&a(e,["codeExecutionResult"],r);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],Dg(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],Lg(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],Ig(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const T=l(t,["thoughtSignature"]);T!=null&&a(e,["thoughtSignature"],T);const C=l(t,["videoMetadata"]);return C!=null&&a(e,["videoMetadata"],C),e}function Kg(t){const e={},i=l(t,["functionCallingConfig"]);i!=null&&a(e,["functionCallingConfig"],Ug(i));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],r),e}function Qg(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],Hg(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],qg(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function Xg(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>Fg(C))),a(e,["functionDeclarations"],T)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function Zg(t,e){const i={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const u=l(t,["expireTime"]);return e!==void 0&&u!=null&&a(e,["expireTime"],u),i}function bg(t,e){const i={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const u=l(t,["expireTime"]);return e!==void 0&&u!=null&&a(e,["expireTime"],u),i}function jg(t,e){const i={},r=l(e,["name"]);r!=null&&a(i,["_url","name"],Jn(t,r));const u=l(e,["config"]);return u!=null&&Zg(u,i),i}function ey(t,e){const i={},r=l(e,["name"]);r!=null&&a(i,["_url","name"],Jn(t,r));const u=l(e,["config"]);return u!=null&&bg(u,i),i}class ny extends On{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new It(zn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Ng(this.apiClient,e);return m=q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=Rg(this.apiClient,e);return m=q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Gg(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=Vg(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Mg(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=xg(v),C=new Gc;return Object.assign(C,T),C})}else{const h=Pg(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=kg(v),C=new Gc;return Object.assign(C,T),C})}}async update(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=ey(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const h=jg(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Jg(e);return m=q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Wg(v),C=new Hc;return Object.assign(C,T),C})}else{const h=Og(e);return m=q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Yg(v),C=new Hc;return Object.assign(C,T),C})}}}function Wc(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function we(t){return this instanceof we?(this.v=t,this):new we(t)}function bt(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(w){return function(L){return Promise.resolve(L).then(w,T)}}function m(w,L){r[w]&&(u[w]=function(M){return new Promise(function(U,O){c.push([w,M,U,O])>1||y(w,M)})},L&&(u[w]=L(u[w])))}function y(w,L){try{h(r[w](L))}catch(M){C(c[0][3],M)}}function h(w){w.value instanceof we?Promise.resolve(w.value.v).then(v,T):C(c[0][2],w)}function v(w){y("next",w)}function T(w){y("throw",w)}function C(w,L){w(L),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Yo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Wc=="function"?Wc(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(c){i[c]=t[c]&&function(f){return new Promise(function(m,y){f=t[c](f),u(m,y,f.done,f.value)})}}function u(c,f,m,y){Promise.resolve(y).then(function(h){c({value:h,done:m})},f)}}function ty(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:_f(i)}function _f(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function oy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $c(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const u=[];let c=!0;for(;r<i&&t[r].role==="model";)u.push(t[r]),c&&!_f(t[r])&&(c=!1),r++;c?e.push(...u):e.pop()}return e}class iy{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new ry(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ry{constructor(e,i,r,u={},c=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=u,this.history=c,this.sendPromise=Promise.resolve(),oy(c)}async sendMessage(e){var i;await this.sendPromise;const r=We(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var c,f,m;const y=await u,h=(f=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];v!=null&&(C=(m=v.slice(T))!==null&&m!==void 0?m:[]);const w=h?[h]:[];this.recordHistory(r,w,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var i;await this.sendPromise;const r=We(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const c=await u;return this.processStreamResponse(c,r)}getHistory(e=!1){const i=e?$c(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,u;return bt(this,arguments,function*(){var f,m,y,h;const v=[];try{for(var T=!0,C=Yo(e),w;w=yield we(C.next()),f=w.done,!f;T=!0){h=w.value,T=!1;const L=h;if(ty(L)){const M=(u=(r=L.candidates)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.content;M!==void 0&&v.push(M)}yield yield we(L)}}catch(L){m={error:L}}finally{try{!T&&!f&&(y=C.return)&&(yield we(y.call(C)))}finally{if(m)throw m.error}}this.recordHistory(i,v)})}recordHistory(e,i,r){let u=[];i.length>0&&i.every(c=>c.role!==void 0)?u=i:u.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$c(r)):this.history.push(e),this.history.push(...u)}}class ur extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ur.prototype)}}function sy(t){const e={},i=l(t,["file"]);return i!=null&&a(e,["file"],i),e}function ly(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function ay(t){const e={},i=l(t,["name"]);return i!=null&&a(e,["_url","file"],hf(i)),e}function uy(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function dy(t){const e={},i=l(t,["name"]);return i!=null&&a(e,["_url","file"],hf(i)),e}function cy(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),i}function fy(t){const e={},i=l(t,["config"]);return i!=null&&cy(i,e),e}function py(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["files"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["files"],c)}return e}class my extends On{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new It(zn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fy(e);return c=q("files",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=py(y),v=new vh;return Object.assign(v,h),v})}}async createInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=sy(e);return c=q("upload/v1beta/files",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=ly(y),v=new Eh;return Object.assign(v,h),v})}}async get(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=dy(e);return c=q("files/{file}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ay(e);return c=q("files/{file}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=uy(y),v=new Th;return Object.assign(v,h),v})}}}function ir(t){const e={},i=l(t,["data"]);if(i!=null&&a(e,["data"],i),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function hy(t){const e={},i=l(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>ky(c))),a(e,["parts"],u)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function gy(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function yy(t){const e={},i=l(t,["id"]);i!=null&&a(e,["id"],i);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vy(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=l(t,["description"]);i!=null&&a(e,["description"],i);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function Ey(t){const e={},i=l(t,["modelSelectionConfig"]);i!=null&&a(e,["modelConfig"],i);const r=l(t,["responseJsonSchema"]);r!=null&&a(e,["responseJsonSchema"],r);const u=l(t,["audioTimestamp"]);u!=null&&a(e,["audioTimestamp"],u);const c=l(t,["candidateCount"]);c!=null&&a(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&a(e,["enableAffectiveDialog"],f);const m=l(t,["frequencyPenalty"]);m!=null&&a(e,["frequencyPenalty"],m);const y=l(t,["logprobs"]);y!=null&&a(e,["logprobs"],y);const h=l(t,["maxOutputTokens"]);h!=null&&a(e,["maxOutputTokens"],h);const v=l(t,["mediaResolution"]);v!=null&&a(e,["mediaResolution"],v);const T=l(t,["presencePenalty"]);T!=null&&a(e,["presencePenalty"],T);const C=l(t,["responseLogprobs"]);C!=null&&a(e,["responseLogprobs"],C);const w=l(t,["responseMimeType"]);w!=null&&a(e,["responseMimeType"],w);const L=l(t,["responseModalities"]);L!=null&&a(e,["responseModalities"],L);const M=l(t,["responseSchema"]);M!=null&&a(e,["responseSchema"],M);const U=l(t,["routingConfig"]);U!=null&&a(e,["routingConfig"],U);const O=l(t,["seed"]);O!=null&&a(e,["seed"],O);const Y=l(t,["speechConfig"]);Y!=null&&a(e,["speechConfig"],Sf(Y));const G=l(t,["stopSequences"]);G!=null&&a(e,["stopSequences"],G);const K=l(t,["temperature"]);K!=null&&a(e,["temperature"],K);const j=l(t,["thinkingConfig"]);j!=null&&a(e,["thinkingConfig"],j);const H=l(t,["topK"]);H!=null&&a(e,["topK"],H);const Q=l(t,["topP"]);if(Q!=null&&a(e,["topP"],Q),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ty(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(t,["enableWidget"]);return i!=null&&a(e,["enableWidget"],i),e}function Cy(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(t,["timeRangeFilter"]);return i!=null&&a(e,["timeRangeFilter"],i),e}function _y(t,e){const i={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","speechConfig"],Nl(T));const C=l(t,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],C);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],w);const L=l(t,["systemInstruction"]);e!==void 0&&L!=null&&a(e,["setup","systemInstruction"],hy(We(L)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let H=no(M);Array.isArray(H)&&(H=H.map(Q=>Dy(eo(Q)))),a(e,["setup","tools"],H)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&a(e,["setup","sessionResumption"],xy(U));const O=l(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&a(e,["setup","inputAudioTranscription"],O);const Y=l(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&a(e,["setup","outputAudioTranscription"],Y);const G=l(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&a(e,["setup","realtimeInputConfig"],G);const K=l(t,["contextWindowCompression"]);e!==void 0&&K!=null&&a(e,["setup","contextWindowCompression"],K);const j=l(t,["proactivity"]);return e!==void 0&&j!=null&&a(e,["setup","proactivity"],j),i}function Sy(t,e){const i={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],Ey(r));const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","speechConfig"],Sf(Nl(T)));const C=l(t,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],C);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],w);const L=l(t,["systemInstruction"]);e!==void 0&&L!=null&&a(e,["setup","systemInstruction"],We(L));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let H=no(M);Array.isArray(H)&&(H=H.map(Q=>Ly(eo(Q)))),a(e,["setup","tools"],H)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&a(e,["setup","sessionResumption"],U);const O=l(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&a(e,["setup","inputAudioTranscription"],O);const Y=l(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&a(e,["setup","outputAudioTranscription"],Y);const G=l(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&a(e,["setup","realtimeInputConfig"],G);const K=l(t,["contextWindowCompression"]);e!==void 0&&K!=null&&a(e,["setup","contextWindowCompression"],K);const j=l(t,["proactivity"]);return e!==void 0&&j!=null&&a(e,["setup","proactivity"],j),i}function Iy(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["setup","model"],he(t,r));const u=l(e,["config"]);return u!=null&&a(i,["config"],_y(u,i)),i}function wy(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["setup","model"],he(t,r));const u=l(e,["config"]);return u!=null&&a(i,["config"],Sy(u,i)),i}function Ay(t){const e={},i=l(t,["musicGenerationConfig"]);return i!=null&&a(e,["musicGenerationConfig"],i),e}function Ry(t){const e={},i=l(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),a(e,["weightedPrompts"],r)}return e}function Ny(t){const e={},i=l(t,["media"]);if(i!=null){let h=df(i);Array.isArray(h)&&(h=h.map(v=>ir(v))),a(e,["mediaChunks"],h)}const r=l(t,["audio"]);r!=null&&a(e,["audio"],ir(ff(r)));const u=l(t,["audioStreamEnd"]);u!=null&&a(e,["audioStreamEnd"],u);const c=l(t,["video"]);c!=null&&a(e,["video"],ir(cf(c)));const f=l(t,["text"]);f!=null&&a(e,["text"],f);const m=l(t,["activityStart"]);m!=null&&a(e,["activityStart"],m);const y=l(t,["activityEnd"]);return y!=null&&a(e,["activityEnd"],y),e}function Py(t){const e={},i=l(t,["media"]);if(i!=null){let h=df(i);Array.isArray(h)&&(h=h.map(v=>v)),a(e,["mediaChunks"],h)}const r=l(t,["audio"]);r!=null&&a(e,["audio"],ff(r));const u=l(t,["audioStreamEnd"]);u!=null&&a(e,["audioStreamEnd"],u);const c=l(t,["video"]);c!=null&&a(e,["video"],cf(c));const f=l(t,["text"]);f!=null&&a(e,["text"],f);const m=l(t,["activityStart"]);m!=null&&a(e,["activityStart"],m);const y=l(t,["activityEnd"]);return y!=null&&a(e,["activityEnd"],y),e}function My(t){const e={},i=l(t,["setupComplete"]);i!=null&&a(e,["setupComplete"],i);const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],r);const u=l(t,["toolCall"]);u!=null&&a(e,["toolCall"],u);const c=l(t,["toolCallCancellation"]);c!=null&&a(e,["toolCallCancellation"],c);const f=l(t,["usageMetadata"]);f!=null&&a(e,["usageMetadata"],Uy(f));const m=l(t,["goAway"]);m!=null&&a(e,["goAway"],m);const y=l(t,["sessionResumptionUpdate"]);return y!=null&&a(e,["sessionResumptionUpdate"],y),e}function ky(t){const e={},i=l(t,["mediaResolution"]);i!=null&&a(e,["mediaResolution"],i);const r=l(t,["codeExecutionResult"]);r!=null&&a(e,["codeExecutionResult"],r);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],gy(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],yy(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],ir(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const T=l(t,["thoughtSignature"]);T!=null&&a(e,["thoughtSignature"],T);const C=l(t,["videoMetadata"]);return C!=null&&a(e,["videoMetadata"],C),e}function xy(t){const e={},i=l(t,["handle"]);if(i!=null&&a(e,["handle"],i),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sf(t){const e={},i=l(t,["languageCode"]);i!=null&&a(e,["languageCode"],i);const r=l(t,["voiceConfig"]);if(r!=null&&a(e,["voiceConfig"],r),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Dy(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],Ty(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],Cy(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function Ly(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>vy(C))),a(e,["functionDeclarations"],T)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function Uy(t){const e={},i=l(t,["promptTokenCount"]);i!=null&&a(e,["promptTokenCount"],i);const r=l(t,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const u=l(t,["candidatesTokenCount"]);u!=null&&a(e,["responseTokenCount"],u);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&a(e,["toolUsePromptTokenCount"],c);const f=l(t,["thoughtsTokenCount"]);f!=null&&a(e,["thoughtsTokenCount"],f);const m=l(t,["totalTokenCount"]);m!=null&&a(e,["totalTokenCount"],m);const y=l(t,["promptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(L=>L)),a(e,["promptTokensDetails"],w)}const h=l(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(L=>L)),a(e,["cacheTokensDetails"],w)}const v=l(t,["candidatesTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(L=>L)),a(e,["responseTokensDetails"],w)}const T=l(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(L=>L)),a(e,["toolUsePromptTokensDetails"],w)}const C=l(t,["trafficType"]);return C!=null&&a(e,["trafficType"],C),e}function Fy(t){const e={},i=l(t,["data"]);if(i!=null&&a(e,["data"],i),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Vy(t){const e={},i=l(t,["content"]);i!=null&&a(e,["content"],i);const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],Gy(r));const u=l(t,["tokenCount"]);u!=null&&a(e,["tokenCount"],u);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&a(e,["avgLogprobs"],f);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const y=l(t,["index"]);y!=null&&a(e,["index"],y);const h=l(t,["logprobsResult"]);h!=null&&a(e,["logprobsResult"],h);const v=l(t,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),a(e,["safetyRatings"],C)}const T=l(t,["urlContextMetadata"]);return T!=null&&a(e,["urlContextMetadata"],T),e}function Gy(t){const e={},i=l(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>u)),a(e,["citations"],r)}return e}function Hy(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let c=yn(u);Array.isArray(c)&&(c=c.map(f=>f)),a(i,["contents"],c)}return i}function qy(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["tokensInfo"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["tokensInfo"],u)}return e}function By(t){const e={},i=l(t,["values"]);i!=null&&a(e,["values"],i);const r=l(t,["statistics"]);return r!=null&&a(e,["statistics"],zy(r)),e}function zy(t){const e={},i=l(t,["truncated"]);i!=null&&a(e,["truncated"],i);const r=l(t,["token_count"]);return r!=null&&a(e,["tokenCount"],r),e}function dr(t){const e={},i=l(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Zv(c))),a(e,["parts"],u)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Oy(t){const e={},i=l(t,["controlType"]);i!=null&&a(e,["controlType"],i);const r=l(t,["enableControlImageComputation"]);return r!=null&&a(e,["computeControl"],r),e}function Jy(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yy(t,e){const i={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&a(e,["systemInstruction"],We(r));const u=l(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Nf(m))),a(e,["tools"],f)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&a(e,["generationConfig"],Fv(c)),i}function Wy(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let f=yn(u);Array.isArray(f)&&(f=f.map(m=>dr(m))),a(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&Jy(c),i}function $y(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let f=yn(u);Array.isArray(f)&&(f=f.map(m=>m)),a(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&Yy(c,i),i}function Ky(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["totalTokens"]);r!=null&&a(e,["totalTokens"],r);const u=l(t,["cachedContentTokenCount"]);return u!=null&&a(e,["cachedContentTokenCount"],u),e}function Qy(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["totalTokens"]);return r!=null&&a(e,["totalTokens"],r),e}function Xy(t,e){const i={},r=l(e,["model"]);return r!=null&&a(i,["_url","name"],he(t,r)),i}function Zy(t,e){const i={},r=l(e,["model"]);return r!=null&&a(i,["_url","name"],he(t,r)),i}function by(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function jy(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}function ev(t,e){const i={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&a(e,["parameters","negativePrompt"],u);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&a(e,["parameters","aspectRatio"],f);const m=l(t,["guidanceScale"]);e!==void 0&&m!=null&&a(e,["parameters","guidanceScale"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["parameters","seed"],y);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&a(e,["parameters","safetySetting"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&a(e,["parameters","includeSafetyAttributes"],T);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const w=l(t,["language"]);e!==void 0&&w!=null&&a(e,["parameters","language"],w);const L=l(t,["outputMimeType"]);e!==void 0&&L!=null&&a(e,["parameters","outputOptions","mimeType"],L);const M=l(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&a(e,["parameters","outputOptions","compressionQuality"],M);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&a(e,["parameters","addWatermark"],U);const O=l(t,["labels"]);e!==void 0&&O!=null&&a(e,["labels"],O);const Y=l(t,["editMode"]);e!==void 0&&Y!=null&&a(e,["parameters","editMode"],Y);const G=l(t,["baseSteps"]);return e!==void 0&&G!=null&&a(e,["parameters","editConfig","baseSteps"],G),i}function nv(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["prompt"]);u!=null&&a(i,["instances[0]","prompt"],u);const c=l(e,["referenceImages"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>oE(y))),a(i,["instances[0]","referenceImages"],m)}const f=l(e,["config"]);return f!=null&&ev(f,i),i}function tv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>cr(c))),a(e,["generatedImages"],u)}return e}function ov(t,e){const i={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["requests[]","title"],u);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&a(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function iv(t,e){const i={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["instances[]","task_type"],r);const u=l(t,["title"]);e!==void 0&&u!=null&&a(e,["instances[]","title"],u);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&a(e,["parameters","outputDimensionality"],c);const f=l(t,["mimeType"]);e!==void 0&&f!=null&&a(e,["instances[]","mimeType"],f);const m=l(t,["autoTruncate"]);return e!==void 0&&m!=null&&a(e,["parameters","autoTruncate"],m),i}function rv(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let m=wl(t,u);Array.isArray(m)&&(m=m.map(y=>y)),a(i,["requests[]","content"],m)}const c=l(e,["config"]);c!=null&&ov(c,i);const f=l(e,["model"]);return f!==void 0&&a(i,["requests[]","model"],he(t,f)),i}function sv(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let f=wl(t,u);Array.isArray(f)&&(f=f.map(m=>m)),a(i,["instances[]","content"],f)}const c=l(e,["config"]);return c!=null&&iv(c,i),i}function lv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["embeddings"],c)}const u=l(t,["metadata"]);return u!=null&&a(e,["metadata"],u),e}function av(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>By(f))),a(e,["embeddings"],c)}const u=l(t,["metadata"]);return u!=null&&a(e,["metadata"],u),e}function uv(t){const e={},i=l(t,["endpoint"]);i!=null&&a(e,["name"],i);const r=l(t,["deployedModelId"]);return r!=null&&a(e,["deployedModelId"],r),e}function dv(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function cv(t){const e={},i=l(t,["id"]);i!=null&&a(e,["id"],i);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fv(t){const e={},i=l(t,["mode"]);i!=null&&a(e,["mode"],i);const r=l(t,["allowedFunctionNames"]);if(r!=null&&a(e,["allowedFunctionNames"],r),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pv(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=l(t,["description"]);i!=null&&a(e,["description"],i);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&a(e,["response"],f);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function mv(t,e,i){const r={},u=l(e,["systemInstruction"]);i!==void 0&&u!=null&&a(i,["systemInstruction"],dr(We(u)));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(r,["topP"],f);const m=l(e,["topK"]);m!=null&&a(r,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(r,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(r,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(r,["stopSequences"],v);const T=l(e,["responseLogprobs"]);T!=null&&a(r,["responseLogprobs"],T);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const L=l(e,["frequencyPenalty"]);L!=null&&a(r,["frequencyPenalty"],L);const M=l(e,["seed"]);M!=null&&a(r,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&a(r,["responseMimeType"],U);const O=l(e,["responseSchema"]);O!=null&&a(r,["responseSchema"],Al(O));const Y=l(e,["responseJsonSchema"]);if(Y!=null&&a(r,["responseJsonSchema"],Y),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=l(e,["safetySettings"]);if(i!==void 0&&G!=null){let de=G;Array.isArray(de)&&(de=de.map(Ee=>iE(Ee))),a(i,["safetySettings"],de)}const K=l(e,["tools"]);if(i!==void 0&&K!=null){let de=no(K);Array.isArray(de)&&(de=de.map(Ee=>cE(eo(Ee)))),a(i,["tools"],de)}const j=l(e,["toolConfig"]);if(i!==void 0&&j!=null&&a(i,["toolConfig"],dE(j)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=l(e,["cachedContent"]);i!==void 0&&H!=null&&a(i,["cachedContent"],Jn(t,H));const Q=l(e,["responseModalities"]);Q!=null&&a(r,["responseModalities"],Q);const ue=l(e,["mediaResolution"]);ue!=null&&a(r,["mediaResolution"],ue);const Z=l(e,["speechConfig"]);if(Z!=null&&a(r,["speechConfig"],Rl(Z)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=l(e,["thinkingConfig"]);oe!=null&&a(r,["thinkingConfig"],oe);const ge=l(e,["imageConfig"]);return ge!=null&&a(r,["imageConfig"],Bv(ge)),r}function hv(t,e,i){const r={},u=l(e,["systemInstruction"]);i!==void 0&&u!=null&&a(i,["systemInstruction"],We(u));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&a(r,["topP"],f);const m=l(e,["topK"]);m!=null&&a(r,["topK"],m);const y=l(e,["candidateCount"]);y!=null&&a(r,["candidateCount"],y);const h=l(e,["maxOutputTokens"]);h!=null&&a(r,["maxOutputTokens"],h);const v=l(e,["stopSequences"]);v!=null&&a(r,["stopSequences"],v);const T=l(e,["responseLogprobs"]);T!=null&&a(r,["responseLogprobs"],T);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const L=l(e,["frequencyPenalty"]);L!=null&&a(r,["frequencyPenalty"],L);const M=l(e,["seed"]);M!=null&&a(r,["seed"],M);const U=l(e,["responseMimeType"]);U!=null&&a(r,["responseMimeType"],U);const O=l(e,["responseSchema"]);O!=null&&a(r,["responseSchema"],Al(O));const Y=l(e,["responseJsonSchema"]);Y!=null&&a(r,["responseJsonSchema"],Y);const G=l(e,["routingConfig"]);G!=null&&a(r,["routingConfig"],G);const K=l(e,["modelSelectionConfig"]);K!=null&&a(r,["modelConfig"],K);const j=l(e,["safetySettings"]);if(i!==void 0&&j!=null){let Ae=j;Array.isArray(Ae)&&(Ae=Ae.map(Te=>Te)),a(i,["safetySettings"],Ae)}const H=l(e,["tools"]);if(i!==void 0&&H!=null){let Ae=no(H);Array.isArray(Ae)&&(Ae=Ae.map(Te=>Nf(eo(Te)))),a(i,["tools"],Ae)}const Q=l(e,["toolConfig"]);i!==void 0&&Q!=null&&a(i,["toolConfig"],Q);const ue=l(e,["labels"]);i!==void 0&&ue!=null&&a(i,["labels"],ue);const Z=l(e,["cachedContent"]);i!==void 0&&Z!=null&&a(i,["cachedContent"],Jn(t,Z));const oe=l(e,["responseModalities"]);oe!=null&&a(r,["responseModalities"],oe);const ge=l(e,["mediaResolution"]);ge!=null&&a(r,["mediaResolution"],ge);const de=l(e,["speechConfig"]);de!=null&&a(r,["speechConfig"],Rf(Rl(de)));const Ee=l(e,["audioTimestamp"]);Ee!=null&&a(r,["audioTimestamp"],Ee);const Xe=l(e,["thinkingConfig"]);Xe!=null&&a(r,["thinkingConfig"],Xe);const on=l(e,["imageConfig"]);return on!=null&&a(r,["imageConfig"],zv(on)),r}function Kc(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let f=yn(u);Array.isArray(f)&&(f=f.map(m=>dr(m))),a(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&a(i,["generationConfig"],mv(t,c,i)),i}function Qc(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["contents"]);if(u!=null){let f=yn(u);Array.isArray(f)&&(f=f.map(m=>m)),a(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&a(i,["generationConfig"],hv(t,c,i)),i}function Xc(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(h=>Vy(h))),a(e,["candidates"],y)}const u=l(t,["modelVersion"]);u!=null&&a(e,["modelVersion"],u);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&a(e,["responseId"],f);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function Zc(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>v)),a(e,["candidates"],h)}const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const c=l(t,["modelVersion"]);c!=null&&a(e,["modelVersion"],c);const f=l(t,["promptFeedback"]);f!=null&&a(e,["promptFeedback"],f);const m=l(t,["responseId"]);m!=null&&a(e,["responseId"],m);const y=l(t,["usageMetadata"]);return y!=null&&a(e,["usageMetadata"],y),e}function gv(t,e){const i={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&a(e,["parameters","aspectRatio"],u);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&a(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&a(e,["parameters","safetySetting"],f);const m=l(t,["personGeneration"]);e!==void 0&&m!=null&&a(e,["parameters","personGeneration"],m);const y=l(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&a(e,["parameters","includeSafetyAttributes"],y);const h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const v=l(t,["language"]);e!==void 0&&v!=null&&a(e,["parameters","language"],v);const T=l(t,["outputMimeType"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","mimeType"],T);const C=l(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["imageSize"]);if(e!==void 0&&w!=null&&a(e,["parameters","sampleImageSize"],w),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function yv(t,e){const i={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&a(e,["parameters","negativePrompt"],u);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&a(e,["parameters","aspectRatio"],f);const m=l(t,["guidanceScale"]);e!==void 0&&m!=null&&a(e,["parameters","guidanceScale"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["parameters","seed"],y);const h=l(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&a(e,["parameters","safetySetting"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const T=l(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&a(e,["parameters","includeSafetyAttributes"],T);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const w=l(t,["language"]);e!==void 0&&w!=null&&a(e,["parameters","language"],w);const L=l(t,["outputMimeType"]);e!==void 0&&L!=null&&a(e,["parameters","outputOptions","mimeType"],L);const M=l(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&a(e,["parameters","outputOptions","compressionQuality"],M);const U=l(t,["addWatermark"]);e!==void 0&&U!=null&&a(e,["parameters","addWatermark"],U);const O=l(t,["labels"]);e!==void 0&&O!=null&&a(e,["labels"],O);const Y=l(t,["imageSize"]);e!==void 0&&Y!=null&&a(e,["parameters","sampleImageSize"],Y);const G=l(t,["enhancePrompt"]);return e!==void 0&&G!=null&&a(e,["parameters","enhancePrompt"],G),i}function vv(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["prompt"]);u!=null&&a(i,["instances[0]","prompt"],u);const c=l(e,["config"]);return c!=null&&gv(c,i),i}function Ev(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["prompt"]);u!=null&&a(i,["instances[0]","prompt"],u);const c=l(e,["config"]);return c!=null&&yv(c,i),i}function Tv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>xv(f))),a(e,["generatedImages"],c)}const u=l(t,["positivePromptSafetyAttributes"]);return u!=null&&a(e,["positivePromptSafetyAttributes"],wf(u)),e}function Cv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>cr(f))),a(e,["generatedImages"],c)}const u=l(t,["positivePromptSafetyAttributes"]);return u!=null&&a(e,["positivePromptSafetyAttributes"],Af(u)),e}function _v(t,e){const i={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=l(t,["durationSeconds"]);if(e!==void 0&&u!=null&&a(e,["parameters","durationSeconds"],u),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&a(e,["parameters","resolution"],f);const m=l(t,["personGeneration"]);if(e!==void 0&&m!=null&&a(e,["parameters","personGeneration"],m),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=l(t,["negativePrompt"]);e!==void 0&&y!=null&&a(e,["parameters","negativePrompt"],y);const h=l(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=l(t,["lastFrame"]);e!==void 0&&v!=null&&a(e,["instances[0]","lastFrame"],fr(v));const T=l(t,["referenceImages"]);if(e!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>IE(w))),a(e,["instances[0]","referenceImages"],C)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Sv(t,e){const i={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const u=l(t,["outputGcsUri"]);e!==void 0&&u!=null&&a(e,["parameters","storageUri"],u);const c=l(t,["fps"]);e!==void 0&&c!=null&&a(e,["parameters","fps"],c);const f=l(t,["durationSeconds"]);e!==void 0&&f!=null&&a(e,["parameters","durationSeconds"],f);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const y=l(t,["aspectRatio"]);e!==void 0&&y!=null&&a(e,["parameters","aspectRatio"],y);const h=l(t,["resolution"]);e!==void 0&&h!=null&&a(e,["parameters","resolution"],h);const v=l(t,["personGeneration"]);e!==void 0&&v!=null&&a(e,["parameters","personGeneration"],v);const T=l(t,["pubsubTopic"]);e!==void 0&&T!=null&&a(e,["parameters","pubsubTopic"],T);const C=l(t,["negativePrompt"]);e!==void 0&&C!=null&&a(e,["parameters","negativePrompt"],C);const w=l(t,["enhancePrompt"]);e!==void 0&&w!=null&&a(e,["parameters","enhancePrompt"],w);const L=l(t,["generateAudio"]);e!==void 0&&L!=null&&a(e,["parameters","generateAudio"],L);const M=l(t,["lastFrame"]);e!==void 0&&M!=null&&a(e,["instances[0]","lastFrame"],An(M));const U=l(t,["referenceImages"]);if(e!==void 0&&U!=null){let G=U;Array.isArray(G)&&(G=G.map(K=>wE(K))),a(e,["instances[0]","referenceImages"],G)}const O=l(t,["mask"]);e!==void 0&&O!=null&&a(e,["instances[0]","mask"],SE(O));const Y=l(t,["compressionQuality"]);return e!==void 0&&Y!=null&&a(e,["parameters","compressionQuality"],Y),i}function Iv(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&a(e,["response"],Nv(f)),e}function wv(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],Pv(f)),e}function Av(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["prompt"]);u!=null&&a(i,["instances[0]","prompt"],u);const c=l(e,["image"]);c!=null&&a(i,["instances[0]","image"],fr(c));const f=l(e,["video"]);f!=null&&a(i,["instances[0]","video"],Pf(f));const m=l(e,["source"]);m!=null&&Mv(m,i);const y=l(e,["config"]);return y!=null&&_v(y,i),i}function Rv(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["prompt"]);u!=null&&a(i,["instances[0]","prompt"],u);const c=l(e,["image"]);c!=null&&a(i,["instances[0]","image"],An(c));const f=l(e,["video"]);f!=null&&a(i,["instances[0]","video"],Mf(f));const m=l(e,["source"]);m!=null&&kv(m,i);const y=l(e,["config"]);return y!=null&&Sv(y,i),i}function Nv(t){const e={},i=l(t,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Lv(f))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function Pv(t){const e={},i=l(t,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Uv(f))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const u=l(t,["raiMediaFilteredReasons"]);return u!=null&&a(e,["raiMediaFilteredReasons"],u),e}function Mv(t,e){const i={},r=l(t,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],fr(u));const c=l(t,["video"]);return e!==void 0&&c!=null&&a(e,["instances[0]","video"],Pf(c)),i}function kv(t,e){const i={},r=l(t,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],An(u));const c=l(t,["video"]);return e!==void 0&&c!=null&&a(e,["instances[0]","video"],Mf(c)),i}function xv(t){const e={},i=l(t,["_self"]);i!=null&&a(e,["image"],Ov(i));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const u=l(t,["_self"]);return u!=null&&a(e,["safetyAttributes"],wf(u)),e}function cr(t){const e={},i=l(t,["_self"]);i!=null&&a(e,["image"],If(i));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const u=l(t,["_self"]);u!=null&&a(e,["safetyAttributes"],Af(u));const c=l(t,["prompt"]);return c!=null&&a(e,["enhancedPrompt"],c),e}function Dv(t){const e={},i=l(t,["_self"]);i!=null&&a(e,["mask"],If(i));const r=l(t,["labels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["labels"],u)}return e}function Lv(t){const e={},i=l(t,["video"]);return i!=null&&a(e,["video"],CE(i)),e}function Uv(t){const e={},i=l(t,["_self"]);return i!=null&&a(e,["video"],_E(i)),e}function Fv(t){const e={},i=l(t,["modelSelectionConfig"]);i!=null&&a(e,["modelConfig"],i);const r=l(t,["responseJsonSchema"]);r!=null&&a(e,["responseJsonSchema"],r);const u=l(t,["audioTimestamp"]);u!=null&&a(e,["audioTimestamp"],u);const c=l(t,["candidateCount"]);c!=null&&a(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&a(e,["enableAffectiveDialog"],f);const m=l(t,["frequencyPenalty"]);m!=null&&a(e,["frequencyPenalty"],m);const y=l(t,["logprobs"]);y!=null&&a(e,["logprobs"],y);const h=l(t,["maxOutputTokens"]);h!=null&&a(e,["maxOutputTokens"],h);const v=l(t,["mediaResolution"]);v!=null&&a(e,["mediaResolution"],v);const T=l(t,["presencePenalty"]);T!=null&&a(e,["presencePenalty"],T);const C=l(t,["responseLogprobs"]);C!=null&&a(e,["responseLogprobs"],C);const w=l(t,["responseMimeType"]);w!=null&&a(e,["responseMimeType"],w);const L=l(t,["responseModalities"]);L!=null&&a(e,["responseModalities"],L);const M=l(t,["responseSchema"]);M!=null&&a(e,["responseSchema"],M);const U=l(t,["routingConfig"]);U!=null&&a(e,["routingConfig"],U);const O=l(t,["seed"]);O!=null&&a(e,["seed"],O);const Y=l(t,["speechConfig"]);Y!=null&&a(e,["speechConfig"],Rf(Y));const G=l(t,["stopSequences"]);G!=null&&a(e,["stopSequences"],G);const K=l(t,["temperature"]);K!=null&&a(e,["temperature"],K);const j=l(t,["thinkingConfig"]);j!=null&&a(e,["thinkingConfig"],j);const H=l(t,["topK"]);H!=null&&a(e,["topK"],H);const Q=l(t,["topP"]);if(Q!=null&&a(e,["topP"],Q),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Vv(t,e){const i={},r=l(e,["model"]);return r!=null&&a(i,["_url","name"],he(t,r)),i}function Gv(t,e){const i={},r=l(e,["model"]);return r!=null&&a(i,["_url","name"],he(t,r)),i}function Hv(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(t,["enableWidget"]);return i!=null&&a(e,["enableWidget"],i),e}function qv(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(t,["timeRangeFilter"]);return i!=null&&a(e,["timeRangeFilter"],i),e}function Bv(t){const e={},i=l(t,["aspectRatio"]);i!=null&&a(e,["aspectRatio"],i);const r=l(t,["imageSize"]);if(r!=null&&a(e,["imageSize"],r),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function zv(t){const e={},i=l(t,["aspectRatio"]);i!=null&&a(e,["aspectRatio"],i);const r=l(t,["imageSize"]);r!=null&&a(e,["imageSize"],r);const u=l(t,["outputMimeType"]);u!=null&&a(e,["imageOutputOptions","mimeType"],u);const c=l(t,["outputCompressionQuality"]);return c!=null&&a(e,["imageOutputOptions","compressionQuality"],c),e}function Ov(t){const e={},i=l(t,["bytesBase64Encoded"]);i!=null&&a(e,["imageBytes"],dt(i));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function If(t){const e={},i=l(t,["gcsUri"]);i!=null&&a(e,["gcsUri"],i);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["imageBytes"],dt(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function fr(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=l(t,["imageBytes"]);i!=null&&a(e,["bytesBase64Encoded"],dt(i));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function An(t){const e={},i=l(t,["gcsUri"]);i!=null&&a(e,["gcsUri"],i);const r=l(t,["imageBytes"]);r!=null&&a(e,["bytesBase64Encoded"],dt(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function Jv(t,e,i){const r={},u=l(e,["pageSize"]);i!==void 0&&u!=null&&a(i,["_query","pageSize"],u);const c=l(e,["pageToken"]);i!==void 0&&c!=null&&a(i,["_query","pageToken"],c);const f=l(e,["filter"]);i!==void 0&&f!=null&&a(i,["_query","filter"],f);const m=l(e,["queryBase"]);return i!==void 0&&m!=null&&a(i,["_url","models_url"],gf(t,m)),r}function Yv(t,e,i){const r={},u=l(e,["pageSize"]);i!==void 0&&u!=null&&a(i,["_query","pageSize"],u);const c=l(e,["pageToken"]);i!==void 0&&c!=null&&a(i,["_query","pageToken"],c);const f=l(e,["filter"]);i!==void 0&&f!=null&&a(i,["_query","filter"],f);const m=l(e,["queryBase"]);return i!==void 0&&m!=null&&a(i,["_url","models_url"],gf(t,m)),r}function Wv(t,e){const i={},r=l(e,["config"]);return r!=null&&Jv(t,r,i),i}function $v(t,e){const i={},r=l(e,["config"]);return r!=null&&Yv(t,r,i),i}function Kv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["_self"]);if(u!=null){let c=yf(u);Array.isArray(c)&&(c=c.map(f=>yl(f))),a(e,["models"],c)}return e}function Qv(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["_self"]);if(u!=null){let c=yf(u);Array.isArray(c)&&(c=c.map(f=>vl(f))),a(e,["models"],c)}return e}function Xv(t){const e={},i=l(t,["maskMode"]);i!=null&&a(e,["maskMode"],i);const r=l(t,["segmentationClasses"]);r!=null&&a(e,["maskClasses"],r);const u=l(t,["maskDilation"]);return u!=null&&a(e,["dilation"],u),e}function yl(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const u=l(t,["description"]);u!=null&&a(e,["description"],u);const c=l(t,["version"]);c!=null&&a(e,["version"],c);const f=l(t,["_self"]);f!=null&&a(e,["tunedModelInfo"],fE(f));const m=l(t,["inputTokenLimit"]);m!=null&&a(e,["inputTokenLimit"],m);const y=l(t,["outputTokenLimit"]);y!=null&&a(e,["outputTokenLimit"],y);const h=l(t,["supportedGenerationMethods"]);h!=null&&a(e,["supportedActions"],h);const v=l(t,["temperature"]);v!=null&&a(e,["temperature"],v);const T=l(t,["maxTemperature"]);T!=null&&a(e,["maxTemperature"],T);const C=l(t,["topP"]);C!=null&&a(e,["topP"],C);const w=l(t,["topK"]);w!=null&&a(e,["topK"],w);const L=l(t,["thinking"]);return L!=null&&a(e,["thinking"],L),e}function vl(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const u=l(t,["description"]);u!=null&&a(e,["description"],u);const c=l(t,["versionId"]);c!=null&&a(e,["version"],c);const f=l(t,["deployedModels"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(C=>uv(C))),a(e,["endpoints"],T)}const m=l(t,["labels"]);m!=null&&a(e,["labels"],m);const y=l(t,["_self"]);y!=null&&a(e,["tunedModelInfo"],pE(y));const h=l(t,["defaultCheckpointId"]);h!=null&&a(e,["defaultCheckpointId"],h);const v=l(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),a(e,["checkpoints"],T)}return e}function Zv(t){const e={},i=l(t,["mediaResolution"]);i!=null&&a(e,["mediaResolution"],i);const r=l(t,["codeExecutionResult"]);r!=null&&a(e,["codeExecutionResult"],r);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],dv(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],cv(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],Fy(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const T=l(t,["thoughtSignature"]);T!=null&&a(e,["thoughtSignature"],T);const C=l(t,["videoMetadata"]);return C!=null&&a(e,["videoMetadata"],C),e}function bv(t){const e={},i=l(t,["productImage"]);return i!=null&&a(e,["image"],An(i)),e}function jv(t,e){const i={},r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const u=l(t,["baseSteps"]);e!==void 0&&u!=null&&a(e,["parameters","baseSteps"],u);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&a(e,["parameters","storageUri"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&a(e,["parameters","seed"],f);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&a(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const h=l(t,["addWatermark"]);e!==void 0&&h!=null&&a(e,["parameters","addWatermark"],h);const v=l(t,["outputMimeType"]);e!==void 0&&v!=null&&a(e,["parameters","outputOptions","mimeType"],v);const T=l(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const C=l(t,["enhancePrompt"]);e!==void 0&&C!=null&&a(e,["parameters","enhancePrompt"],C);const w=l(t,["labels"]);return e!==void 0&&w!=null&&a(e,["labels"],w),i}function eE(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["source"]);u!=null&&tE(u,i);const c=l(e,["config"]);return c!=null&&jv(c,i),i}function nE(t){const e={},i=l(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>cr(u))),a(e,["generatedImages"],r)}return e}function tE(t,e){const i={},r=l(t,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const u=l(t,["personImage"]);e!==void 0&&u!=null&&a(e,["instances[0]","personImage","image"],An(u));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>bv(m))),a(e,["instances[0]","productImages"],f)}return i}function oE(t){const e={},i=l(t,["referenceImage"]);i!=null&&a(e,["referenceImage"],An(i));const r=l(t,["referenceId"]);r!=null&&a(e,["referenceId"],r);const u=l(t,["referenceType"]);u!=null&&a(e,["referenceType"],u);const c=l(t,["maskImageConfig"]);c!=null&&a(e,["maskImageConfig"],Xv(c));const f=l(t,["controlImageConfig"]);f!=null&&a(e,["controlImageConfig"],Oy(f));const m=l(t,["styleImageConfig"]);m!=null&&a(e,["styleImageConfig"],m);const y=l(t,["subjectImageConfig"]);return y!=null&&a(e,["subjectImageConfig"],y),e}function wf(t){const e={},i=l(t,["safetyAttributes","categories"]);i!=null&&a(e,["categories"],i);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const u=l(t,["contentType"]);return u!=null&&a(e,["contentType"],u),e}function Af(t){const e={},i=l(t,["safetyAttributes","categories"]);i!=null&&a(e,["categories"],i);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const u=l(t,["contentType"]);return u!=null&&a(e,["contentType"],u),e}function iE(t){const e={},i=l(t,["category"]);if(i!=null&&a(e,["category"],i),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function rE(t){const e={},i=l(t,["image"]);return i!=null&&a(e,["image"],An(i)),e}function sE(t,e){const i={},r=l(t,["mode"]);e!==void 0&&r!=null&&a(e,["parameters","mode"],r);const u=l(t,["maxPredictions"]);e!==void 0&&u!=null&&a(e,["parameters","maxPredictions"],u);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&a(e,["parameters","confidenceThreshold"],c);const f=l(t,["maskDilation"]);e!==void 0&&f!=null&&a(e,["parameters","maskDilation"],f);const m=l(t,["binaryColorThreshold"]);e!==void 0&&m!=null&&a(e,["parameters","binaryColorThreshold"],m);const y=l(t,["labels"]);return e!==void 0&&y!=null&&a(e,["labels"],y),i}function lE(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["source"]);u!=null&&uE(u,i);const c=l(e,["config"]);return c!=null&&sE(c,i),i}function aE(t){const e={},i=l(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(u=>Dv(u))),a(e,["generatedMasks"],r)}return e}function uE(t,e){const i={},r=l(t,["prompt"]);e!==void 0&&r!=null&&a(e,["instances[0]","prompt"],r);const u=l(t,["image"]);e!==void 0&&u!=null&&a(e,["instances[0]","image"],An(u));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&a(e,["instances[0]","scribble"],rE(c)),i}function Rf(t){const e={},i=l(t,["languageCode"]);i!=null&&a(e,["languageCode"],i);const r=l(t,["voiceConfig"]);if(r!=null&&a(e,["voiceConfig"],r),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function dE(t){const e={},i=l(t,["functionCallingConfig"]);i!=null&&a(e,["functionCallingConfig"],fv(i));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],r),e}function cE(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],Hv(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],qv(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function Nf(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(C=>pv(C))),a(e,["functionDeclarations"],T)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],u);const c=l(t,["computerUse"]);if(c!=null&&a(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&a(e,["codeExecution"],f);const m=l(t,["enterpriseWebSearch"]);m!=null&&a(e,["enterpriseWebSearch"],m);const y=l(t,["googleMaps"]);y!=null&&a(e,["googleMaps"],y);const h=l(t,["googleSearch"]);h!=null&&a(e,["googleSearch"],h);const v=l(t,["urlContext"]);return v!=null&&a(e,["urlContext"],v),e}function fE(t){const e={},i=l(t,["baseModel"]);i!=null&&a(e,["baseModel"],i);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const u=l(t,["updateTime"]);return u!=null&&a(e,["updateTime"],u),e}function pE(t){const e={},i=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&a(e,["baseModel"],i);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const u=l(t,["updateTime"]);return u!=null&&a(e,["updateTime"],u),e}function mE(t,e){const i={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const u=l(t,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),i}function hE(t,e){const i={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const u=l(t,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),i}function gE(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","name"],he(t,r));const u=l(e,["config"]);return u!=null&&mE(u,i),i}function yE(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["config"]);return u!=null&&hE(u,i),i}function vE(t,e){const i={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const u=l(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&a(e,["parameters","includeRaiReason"],f);const m=l(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const y=l(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&a(e,["parameters","outputOptions","compressionQuality"],y);const h=l(t,["enhanceInputImage"]);e!==void 0&&h!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=l(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=l(t,["labels"]);e!==void 0&&T!=null&&a(e,["labels"],T);const C=l(t,["numberOfImages"]);e!==void 0&&C!=null&&a(e,["parameters","sampleCount"],C);const w=l(t,["mode"]);return e!==void 0&&w!=null&&a(e,["parameters","mode"],w),i}function EE(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["_url","model"],he(t,r));const u=l(e,["image"]);u!=null&&a(i,["instances[0]","image"],An(u));const c=l(e,["upscaleFactor"]);c!=null&&a(i,["parameters","upscaleConfig","upscaleFactor"],c);const f=l(e,["config"]);return f!=null&&vE(f,i),i}function TE(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>cr(c))),a(e,["generatedImages"],u)}return e}function CE(t){const e={},i=l(t,["uri"]);i!=null&&a(e,["uri"],i);const r=l(t,["encodedVideo"]);r!=null&&a(e,["videoBytes"],dt(r));const u=l(t,["encoding"]);return u!=null&&a(e,["mimeType"],u),e}function _E(t){const e={},i=l(t,["gcsUri"]);i!=null&&a(e,["uri"],i);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],dt(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function SE(t){const e={},i=l(t,["image"]);i!=null&&a(e,["_self"],An(i));const r=l(t,["maskMode"]);return r!=null&&a(e,["maskMode"],r),e}function IE(t){const e={},i=l(t,["image"]);i!=null&&a(e,["image"],fr(i));const r=l(t,["referenceType"]);return r!=null&&a(e,["referenceType"],r),e}function wE(t){const e={},i=l(t,["image"]);i!=null&&a(e,["image"],An(i));const r=l(t,["referenceType"]);return r!=null&&a(e,["referenceType"],r),e}function Pf(t){const e={},i=l(t,["uri"]);i!=null&&a(e,["uri"],i);const r=l(t,["videoBytes"]);r!=null&&a(e,["encodedVideo"],dt(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["encoding"],u),e}function Mf(t){const e={},i=l(t,["uri"]);i!=null&&a(e,["gcsUri"],i);const r=l(t,["videoBytes"]);r!=null&&a(e,["bytesBase64Encoded"],dt(r));const u=l(t,["mimeType"]);return u!=null&&a(e,["mimeType"],u),e}function AE(t,e){const i={},r=l(t,["displayName"]);return e!==void 0&&r!=null&&a(e,["displayName"],r),i}function RE(t){const e={},i=l(t,["config"]);return i!=null&&AE(i,e),e}function NE(t,e){const i={},r=l(t,["force"]);return e!==void 0&&r!=null&&a(e,["_query","force"],r),i}function PE(t){const e={},i=l(t,["name"]);i!=null&&a(e,["_url","name"],i);const r=l(t,["config"]);return r!=null&&NE(r,e),e}function ME(t){const e={},i=l(t,["name"]);return i!=null&&a(e,["_url","name"],i),e}function kE(t,e){const i={},r=l(t,["customMetadata"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["customMetadata"],c)}const u=l(t,["chunkingConfig"]);return e!==void 0&&u!=null&&a(e,["chunkingConfig"],u),i}function xE(t){const e={},i=l(t,["name"]);i!=null&&a(e,["name"],i);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const f=l(t,["response"]);return f!=null&&a(e,["response"],LE(f)),e}function DE(t){const e={},i=l(t,["fileSearchStoreName"]);i!=null&&a(e,["_url","file_search_store_name"],i);const r=l(t,["fileName"]);r!=null&&a(e,["fileName"],r);const u=l(t,["config"]);return u!=null&&kE(u,e),e}function LE(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["parent"]);r!=null&&a(e,["parent"],r);const u=l(t,["documentName"]);return u!=null&&a(e,["documentName"],u),e}function UE(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),i}function FE(t){const e={},i=l(t,["config"]);return i!=null&&UE(i,e),e}function VE(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["fileSearchStores"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["fileSearchStores"],c)}return e}function kf(t,e){const i={},r=l(t,["mimeType"]);e!==void 0&&r!=null&&a(e,["mimeType"],r);const u=l(t,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const c=l(t,["customMetadata"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),a(e,["customMetadata"],m)}const f=l(t,["chunkingConfig"]);return e!==void 0&&f!=null&&a(e,["chunkingConfig"],f),i}function GE(t){const e={},i=l(t,["fileSearchStoreName"]);i!=null&&a(e,["_url","file_search_store_name"],i);const r=l(t,["config"]);return r!=null&&kf(r,e),e}function HE(t){const e={},i=l(t,["sdkHttpResponse"]);return i!=null&&a(e,["sdkHttpResponse"],i),e}const qE="Content-Type",BE="X-Server-Timeout",zE="User-Agent",El="x-goog-api-client",OE="1.31.0",JE=`google-genai-sdk/${OE}`,YE="v1beta1",WE="v1beta",bc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $E{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:YE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:WE,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const u=[this.getRequestUrlInternal(i)];return r&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[f,m]of Object.entries(e.queryParams))u.searchParams.append(f,String(m));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,i,u.toString(),e.abortSignal),this.unaryApiCall(u,c,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[u,c]of Object.entries(i))typeof c=="object"?r[u]=Object.assign(Object.assign({},r[u]),c):c!==void 0&&(r[u]=c);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,i,r);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,i,u.toString(),e.abortSignal),this.streamApiCall(u,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,u){if(i&&i.timeout||u){const c=new AbortController,f=c.signal;if(i.timeout&&i?.timeout>0){const m=setTimeout(()=>c.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}u&&u.addEventListener("abort",()=>{c.abort()}),e.signal=f}return i&&i.extraBody!==null&&KE(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async u=>(await jc(u),new ml(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async u=>(await jc(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var i;return bt(this,arguments,function*(){const u=(i=e?.body)===null||i===void 0?void 0:i.getReader(),c=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let f="";for(;;){const{done:m,value:y}=yield we(u.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=c.decode(y,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),w=C.status,L=C.code,M=`got status: ${w}. ${JSON.stringify(T)}`;if(L>=400&&L<600)throw new ur({message:M,status:L})}}catch(T){if(T.name==="ApiError")throw T}f+=h;let v=f.match(bc);for(;v;){const T=v[1];try{const C=new Response(T,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield we(new ml(C)),f=f.slice(v[0].length),v=f.match(bc)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=JE+" "+this.clientOptions.userAgentExtra;return e[zE]=i,e[El]=i,e[qE]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[u,c]of Object.entries(e.headers))r.append(u,c);e.timeout&&e.timeout>0&&r.append(BE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const u={};i!=null&&(u.mimeType=i.mimeType,u.name=i.name,u.displayName=i.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);u.sizeBytes=String(f.size);const m=(r=i?.mimeType)!==null&&r!==void 0?r:f.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=m;const y={file:u},h=this.getFileName(e),v=q("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,i?.httpOptions);return c.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,r){var u;const c=this.clientOptions.uploader,f=await c.stat(i),m=String(f.size),y=(u=r?.mimeType)!==null&&u!==void 0?u:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),T={};r!=null&&kf(r,T);const C=await this.fetchUploadUrl(h,m,y,v,T,r?.httpOptions);return c.uploadToFileSearchStore(i,C,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,u,c,f){var m;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=h?.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function jc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const u=JSON.stringify(r);throw i>=400&&i<600?new ur({message:u,status:i}):new Error(u)}}function KE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))i=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(c,f){const m=Object.assign({},c);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const h=f[y],v=m[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=r(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),m[y]=h)}return m}const u=r(i,e);t.body=JSON.stringify(u)}const QE="mcp_used/unknown";let XE=!1;function xf(t){for(const e of t)if(ZE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return XE}function Df(t){var e;const i=(e=t[El])!==null&&e!==void 0?e:"";t[El]=(i+` ${QE}`).trimStart()}function ZE(t){return t!==null&&typeof t=="object"&&t instanceof Pl}function bE(t,e=100){return bt(this,arguments,function*(){let r,u=0;for(;u<e;){const c=yield we(t.listTools({cursor:r}));for(const f of c.tools)yield yield we(f),u++;if(!c.nextCursor)break;r=c.nextCursor}})}class Pl{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Pl(e,i)}async initialize(){var e,i,r,u;if(this.mcpTools.length>0)return;const c={},f=[];for(const v of this.mcpClients)try{for(var m=!0,y=(i=void 0,Yo(bE(v))),h;h=await y.next(),e=h.done,!e;m=!0){u=h.value,m=!1;const T=u;f.push(T);const C=T.name;if(c[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);c[C]=v}}catch(T){i={error:T}}finally{try{!m&&!e&&(r=y.return)&&await r.call(y)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Mh(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[r.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await u.callTool({name:r.name,arguments:r.args},void 0,c);i.push({functionResponse:{name:r.name,response:f.isError?{error:f}:f}})}return i}}async function jE(t,e,i){const r=new _h;let u;i.data instanceof Blob?u=JSON.parse(await i.data.text()):u=JSON.parse(i.data),Object.assign(r,u),e(r)}class eT{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=oT(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${m}`;let h=()=>{};const v=new Promise(G=>{h=G}),T=e.callbacks,C=function(){h({})},w=this.apiClient,L={onopen:C,onmessage:G=>{jE(w,T.onmessage,G)},onerror:(i=T?.onerror)!==null&&i!==void 0?i:function(G){},onclose:(r=T?.onclose)!==null&&r!==void 0?r:function(G){}},M=this.webSocketFactory.create(y,tT(f),L);M.connect(),await v;const Y={setup:{model:he(this.apiClient,e.model)}};return M.send(JSON.stringify(Y)),new nT(M,this.apiClient)}}class nT{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Ry(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Ay(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Xt.PLAY)}pause(){this.sendPlaybackControl(Xt.PAUSE)}stop(){this.sendPlaybackControl(Xt.STOP)}resetContext(){this.sendPlaybackControl(Xt.RESET_CONTEXT)}close(){this.conn.close()}}function tT(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function oT(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}const iT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rT(t,e,i){const r=new Ch;let u;i.data instanceof Blob?u=await i.data.text():i.data instanceof ArrayBuffer?u=new TextDecoder().decode(i.data):u=i.data;const c=JSON.parse(u);if(t.isVertexAI()){const f=My(c);Object.assign(r,f)}else Object.assign(r,c);e(r)}class sT{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new eT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,u,c,f,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&xf(e.config.tools)&&Df(T);const C=dT(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const Z=this.apiClient.getApiKey();let oe="BidiGenerateContent",ge="key";Z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${oe}?${ge}=${Z}`}let w=()=>{};const L=new Promise(Z=>{w=Z}),M=e.callbacks,U=function(){var Z;(Z=M?.onopen)===null||Z===void 0||Z.call(M),w({})},O=this.apiClient,Y={onopen:U,onmessage:Z=>{rT(O,M.onmessage,Z)},onerror:(i=M?.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(r=M?.onclose)!==null&&r!==void 0?r:function(Z){}},G=this.webSocketFactory.create(v,uT(C),Y);G.connect(),await L;let K=he(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const Z=this.apiClient.getProject(),oe=this.apiClient.getLocation();K=`projects/${Z}/locations/${oe}/`+K}let j={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rr.AUDIO]}:e.config.responseModalities=[rr.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const H=(m=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[],Q=[];for(const Z of H)if(this.isCallableTool(Z)){const oe=Z;Q.push(await oe.tool())}else Q.push(Z);Q.length>0&&(e.config.tools=Q);const ue={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=wy(this.apiClient,ue):j=Iy(this.apiClient,ue),delete j.config,G.send(JSON.stringify(j)),new aT(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lT={turnComplete:!0};class aT{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=yn(i.turns),e.isVertexAI()||(r=r.map(u=>dr(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const c of r){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(iT)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lT),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Py(e)}:i={realtimeInput:Ny(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function uT(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function dT(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}const ef=10;function nf(t){var e,i,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const f of(i=t?.tools)!==null&&i!==void 0?i:[])if(jt(f)){u=!0;break}if(!u)return!0;const c=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function jt(t){return"callTool"in t&&typeof t.callTool=="function"}function cT(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(u=>jt(u)))!==null&&r!==void 0?r:!1}function tf(t){var e;const i=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,u)=>{if(jt(r))return;const c=r;c.functionDeclarations&&c.functionDeclarations.length>0&&i.push(u)}),i}function of(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class fT extends On{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,u,c,f,m;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!cT(i)||nf(i.config))return await this.generateContentInternal(y);const h=tf(i);if(h.length>0){const M=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let v,T;const C=yn(y.contents),w=(c=(u=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&c!==void 0?c:ef;let L=0;for(;L<w&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const M=v.candidates[0].content,U=[];for(const O of(m=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&m!==void 0?m:[])if(jt(O)){const G=await O.callTool(v.functionCalls);U.push(...G)}L++,T={role:"user",parts:U},y.contents=yn(y.contents),y.contents.push(M),y.contents.push(T),of(y.config)&&(C.push(M),C.push(T))}return of(y.config)&&(v.automaticFunctionCallingHistory=C),v},this.generateContentStream=async i=>{var r,u,c,f,m;if(this.maybeMoveToResponseJsonSchem(i),nf(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const y=tf(i);if(y.length>0){const T=y.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(u=(r=i?.config)===null||r===void 0?void 0:r.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(m=(f=i?.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var u;let c;const f=[];if(r?.generatedImages)for(const y of r.generatedImages)y&&y?.safetyAttributes&&((u=y?.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?c=y?.safetyAttributes:f.push(y);let m;return c?m={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:r.sdkHttpResponse}:m={generatedImages:f,sdkHttpResponse:r.sdkHttpResponse},m}),this.list=async i=>{var r;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i?.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((r=f.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new It(zn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(f),f)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const u={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(u)},this.generateVideos=async i=>{var r,u,c,f,m,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((u=i.video)===null||u===void 0)&&u.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(c=i.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((y=(m=i.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,u;const c=(i=e.config)===null||i===void 0?void 0:i.tools;if(!c)return e;const f=await Promise.all(c.map(async y=>jt(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(m.config.tools=f,e.config&&e.config.tools&&xf(e.config.tools)){const y=(u=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Df(h),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return m}async initAfcToolsMap(e){var i,r,u;const c=new Map;for(const f of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(jt(f)){const m=f,y=await m.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,m)}}return c}async processAfcStream(e){var i,r,u;const c=(u=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:ef;let f=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(h,v,T){var C,w;return bt(this,arguments,function*(){for(var L,M,U,O;m<c;){f&&(m++,f=!1);const j=yield we(h.processParamsMaybeAddMcpUsage(T)),H=yield we(h.generateContentStreamInternal(j)),Q=[],ue=[];try{for(var Y=!0,G=(M=void 0,Yo(H)),K;K=yield we(G.next()),L=K.done,!L;Y=!0){O=K.value,Y=!1;const Z=O;if(yield yield we(Z),Z.candidates&&(!((C=Z.candidates[0])===null||C===void 0)&&C.content)){ue.push(Z.candidates[0].content);for(const oe of(w=Z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(m<c&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const ge=yield we(v.get(oe.functionCall.name).callTool([oe.functionCall]));Q.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(Z){M={error:Z}}finally{try{!Y&&!L&&(U=G.return)&&(yield we(U.call(G)))}finally{if(M)throw M.error}}if(Q.length>0){f=!0;const Z=new Jo;Z.candidates=[{content:{role:"user",parts:Q}}],yield yield we(Z);const oe=[];oe.push(...ue),oe.push({role:"user",parts:Q});const ge=yn(T.contents).concat(oe);T.contents=ge}else break}})})(this,y,e)}async generateContentInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qc(this.apiClient,e);return m=q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Zc(v),C=new Jo;return Object.assign(C,T),C})}else{const h=Kc(this.apiClient,e);return m=q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Xc(v),C=new Jo;return Object.assign(C,T),C})}}async generateContentStreamInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Qc(this.apiClient,e);return m=q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),f.then(function(T){return bt(this,arguments,function*(){var C,w,L,M;try{for(var U=!0,O=Yo(T),Y;Y=yield we(O.next()),C=Y.done,!C;U=!0){M=Y.value,U=!1;const G=M,K=Zc(yield we(G.json()));K.sdkHttpResponse={headers:G.headers};const j=new Jo;Object.assign(j,K),yield yield we(j)}}catch(G){w={error:G}}finally{try{!U&&!C&&(L=O.return)&&(yield we(L.call(O)))}finally{if(w)throw w.error}}})})}else{const h=Kc(this.apiClient,e);return m=q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(T){return bt(this,arguments,function*(){var C,w,L,M;try{for(var U=!0,O=Yo(T),Y;Y=yield we(O.next()),C=Y.done,!C;U=!0){M=Y.value,U=!1;const G=M,K=Xc(yield we(G.json()));K.sdkHttpResponse={headers:G.headers};const j=new Jo;Object.assign(j,K),yield yield we(j)}}catch(G){w={error:G}}finally{try{!U&&!C&&(L=O.return)&&(yield we(L.call(O)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=sv(this.apiClient,e);return m=q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=av(v),C=new kc;return Object.assign(C,T),C})}else{const h=rv(this.apiClient,e);return m=q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=lv(v),C=new kc;return Object.assign(C,T),C})}}async generateImagesInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Ev(this.apiClient,e);return m=q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Cv(v),C=new xc;return Object.assign(C,T),C})}else{const h=vv(this.apiClient,e);return m=q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Tv(v),C=new xc;return Object.assign(C,T),C})}}async editImageInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=nv(this.apiClient,e);return c=q("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=tv(y),v=new dh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=EE(this.apiClient,e);return c=q("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=TE(y),v=new ch;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=eE(this.apiClient,e);return c=q("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=nE(y),v=new fh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=lE(this.apiClient,e);return c=q("{model}:predict",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=aE(y),v=new ph;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Gv(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>vl(v))}else{const h=Vv(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>yl(v))}}async listInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=$v(this.apiClient,e);return m=q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Qv(v),C=new Dc;return Object.assign(C,T),C})}else{const h=Wv(this.apiClient,e);return m=q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Kv(v),C=new Dc;return Object.assign(C,T),C})}}async update(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=yE(this.apiClient,e);return m=q("{model}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>vl(v))}else{const h=gE(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>yl(v))}}async delete(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Zy(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=jy(v),C=new Lc;return Object.assign(C,T),C})}else{const h=Xy(this.apiClient,e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=by(v),C=new Lc;return Object.assign(C,T),C})}}async countTokens(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=$y(this.apiClient,e);return m=q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Qy(v),C=new Uc;return Object.assign(C,T),C})}else{const h=Wy(this.apiClient,e);return m=q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=Ky(v),C=new Uc;return Object.assign(C,T),C})}}async computeTokens(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=Hy(this.apiClient,e);return c=q("{model}:computeTokens",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=qy(y),v=new mh;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=Rv(this.apiClient,e);return m=q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>{const T=wv(v),C=new sr;return Object.assign(C,T),C})}else{const h=Av(this.apiClient,e);return m=q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>{const T=Iv(v),C=new sr;return Object.assign(C,T),C})}}}class pT extends On{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:u,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=ih(e);return m=q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f}else{const h=oh(e);return m=q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=Xm(e);return c=q("{resourceName}:fetchPredictOperation",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}function mT(t){const e={},i=l(t,["data"]);if(i!=null&&a(e,["data"],i),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function hT(t){const e={},i=l(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>IT(c))),a(e,["parts"],u)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function gT(t,e,i){const r={},u=l(e,["expireTime"]);i!==void 0&&u!=null&&a(i,["expireTime"],u);const c=l(e,["newSessionExpireTime"]);i!==void 0&&c!=null&&a(i,["newSessionExpireTime"],c);const f=l(e,["uses"]);i!==void 0&&f!=null&&a(i,["uses"],f);const m=l(e,["liveConnectConstraints"]);i!==void 0&&m!=null&&a(i,["bidiGenerateContentSetup"],ST(t,m));const y=l(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&a(i,["fieldMask"],y),r}function yT(t,e){const i={},r=l(e,["config"]);return r!=null&&a(i,["config"],gT(t,r,i)),i}function vT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["fileUri"]);i!=null&&a(e,["fileUri"],i);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function ET(t){const e={},i=l(t,["id"]);i!=null&&a(e,["id"],i);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const u=l(t,["name"]);if(u!=null&&a(e,["name"],u),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TT(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(t,["enableWidget"]);return i!=null&&a(e,["enableWidget"],i),e}function CT(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(t,["timeRangeFilter"]);return i!=null&&a(e,["timeRangeFilter"],i),e}function _T(t,e){const i={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const u=l(t,["responseModalities"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","responseModalities"],u);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","topP"],f);const m=l(t,["topK"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","topK"],m);const y=l(t,["maxOutputTokens"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","maxOutputTokens"],y);const h=l(t,["mediaResolution"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","mediaResolution"],h);const v=l(t,["seed"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","seed"],v);const T=l(t,["speechConfig"]);e!==void 0&&T!=null&&a(e,["setup","generationConfig","speechConfig"],Nl(T));const C=l(t,["thinkingConfig"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","thinkingConfig"],C);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],w);const L=l(t,["systemInstruction"]);e!==void 0&&L!=null&&a(e,["setup","systemInstruction"],hT(We(L)));const M=l(t,["tools"]);if(e!==void 0&&M!=null){let H=no(M);Array.isArray(H)&&(H=H.map(Q=>AT(eo(Q)))),a(e,["setup","tools"],H)}const U=l(t,["sessionResumption"]);e!==void 0&&U!=null&&a(e,["setup","sessionResumption"],wT(U));const O=l(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&a(e,["setup","inputAudioTranscription"],O);const Y=l(t,["outputAudioTranscription"]);e!==void 0&&Y!=null&&a(e,["setup","outputAudioTranscription"],Y);const G=l(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&a(e,["setup","realtimeInputConfig"],G);const K=l(t,["contextWindowCompression"]);e!==void 0&&K!=null&&a(e,["setup","contextWindowCompression"],K);const j=l(t,["proactivity"]);return e!==void 0&&j!=null&&a(e,["setup","proactivity"],j),i}function ST(t,e){const i={},r=l(e,["model"]);r!=null&&a(i,["setup","model"],he(t,r));const u=l(e,["config"]);return u!=null&&a(i,["config"],_T(u,i)),i}function IT(t){const e={},i=l(t,["mediaResolution"]);i!=null&&a(e,["mediaResolution"],i);const r=l(t,["codeExecutionResult"]);r!=null&&a(e,["codeExecutionResult"],r);const u=l(t,["executableCode"]);u!=null&&a(e,["executableCode"],u);const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],vT(c));const f=l(t,["functionCall"]);f!=null&&a(e,["functionCall"],ET(f));const m=l(t,["functionResponse"]);m!=null&&a(e,["functionResponse"],m);const y=l(t,["inlineData"]);y!=null&&a(e,["inlineData"],mT(y));const h=l(t,["text"]);h!=null&&a(e,["text"],h);const v=l(t,["thought"]);v!=null&&a(e,["thought"],v);const T=l(t,["thoughtSignature"]);T!=null&&a(e,["thoughtSignature"],T);const C=l(t,["videoMetadata"]);return C!=null&&a(e,["videoMetadata"],C),e}function wT(t){const e={},i=l(t,["handle"]);if(i!=null&&a(e,["handle"],i),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AT(t){const e={},i=l(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),a(e,["functionDeclarations"],v)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const u=l(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=l(t,["fileSearch"]);c!=null&&a(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&a(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=l(t,["googleMaps"]);m!=null&&a(e,["googleMaps"],TT(m));const y=l(t,["googleSearch"]);y!=null&&a(e,["googleSearch"],CT(y));const h=l(t,["urlContext"]);return h!=null&&a(e,["urlContext"],h),e}function RT(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const u=Object.keys(r).map(c=>`${i}.${c}`);e.push(...u)}else e.push(i)}return e.join(",")}function NT(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const c=r.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,i=c):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const u=t.fieldMask;if(i){const c=RT(i);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)c?t.fieldMask=c:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];u.length>0&&(m=u.map(h=>f.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),m.length>0&&y.push(...m),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?t.fieldMask=u.join(","):delete t.fieldMask;return t}class PT extends On{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=yT(this.apiClient,e);c=q("auth_tokens",m._url),f=m._query,delete m.config,delete m._url,delete m._query;const y=NT(m,e.config);return u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}function MT(t,e){const i={},r=l(t,["force"]);return e!==void 0&&r!=null&&a(e,["_query","force"],r),i}function kT(t){const e={},i=l(t,["name"]);i!=null&&a(e,["_url","name"],i);const r=l(t,["config"]);return r!=null&&MT(r,e),e}function xT(t){const e={},i=l(t,["name"]);return i!=null&&a(e,["_url","name"],i),e}function DT(t,e){const i={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const u=l(t,["pageToken"]);return e!==void 0&&u!=null&&a(e,["_query","pageToken"],u),i}function LT(t){const e={},i=l(t,["parent"]);i!=null&&a(e,["_url","parent"],i);const r=l(t,["config"]);return r!=null&&DT(r,e),e}function UT(t){const e={},i=l(t,["sdkHttpResponse"]);i!=null&&a(e,["sdkHttpResponse"],i);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const u=l(t,["documents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["documents"],c)}return e}class FT extends On{constructor(e){super(),this.apiClient=e,this.list=async i=>new It(zn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=xT(e);return c=q("{name}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var i,r;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=kT(e);u=q("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=LT(e);return c=q("{parent}/documents",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=UT(y),v=new hh;return Object.assign(v,h),v})}}}class VT extends On{constructor(e,i=new FT(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new It(zn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=RE(e);return c=q("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ME(e);return c=q("{name}",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var i,r;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=PE(e);u=q("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=FE(e);return c=q("fileSearchStores",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=VE(y),v=new gh;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=GE(e);return c=q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=HE(y),v=new yh;return Object.assign(v,h),v})}}async importFile(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=DE(e);return c=q("{file_search_store_name}:importFile",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const h=xE(y),v=new Sl;return Object.assign(v,h),v})}}}function GT(t,e){const i={},r=l(t,["name"]);return r!=null&&a(i,["_url","name"],r),i}function HT(t,e){const i={},r=l(t,["name"]);return r!=null&&a(i,["_url","name"],r),i}function qT(t,e){const i={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(i,["sdkHttpResponse"],r),i}function BT(t,e){const i={},r=l(t,["sdkHttpResponse"]);return r!=null&&a(i,["sdkHttpResponse"],r),i}function zT(t,e,i){const r={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=l(t,["tunedModelDisplayName"]);if(e!==void 0&&u!=null&&a(e,["displayName"],u),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=l(t,["epochCount"]);e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","epochCount"],c);const f=l(t,["learningRateMultiplier"]);if(f!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=l(t,["batchSize"]);e!==void 0&&m!=null&&a(e,["tuningTask","hyperparameters","batchSize"],m);const y=l(t,["learningRate"]);if(e!==void 0&&y!=null&&a(e,["tuningTask","hyperparameters","learningRate"],y),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function OT(t,e,i){const r={};let u=l(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&a(e,["supervisedTuningSpec"],rf(w))}else if(u==="PREFERENCE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&a(e,["preferenceOptimizationSpec"],rf(w))}const c=l(t,["tunedModelDisplayName"]);e!==void 0&&c!=null&&a(e,["tunedModelDisplayName"],c);const f=l(t,["description"]);e!==void 0&&f!=null&&a(e,["description"],f);let m=l(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(m==="PREFERENCE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let y=l(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(y==="PREFERENCE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let h=l(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(h==="PREFERENCE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let v=l(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(v==="PREFERENCE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=l(t,["labels"]);e!==void 0&&T!=null&&a(e,["labels"],T);const C=l(t,["beta"]);return e!==void 0&&C!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],C),r}function JT(t,e){const i={},r=l(t,["baseModel"]);r!=null&&a(i,["baseModel"],r);const u=l(t,["preTunedModel"]);u!=null&&a(i,["preTunedModel"],u);const c=l(t,["trainingDataset"]);c!=null&&nC(c);const f=l(t,["config"]);return f!=null&&zT(f,i),i}function YT(t,e){const i={},r=l(t,["baseModel"]);r!=null&&a(i,["baseModel"],r);const u=l(t,["preTunedModel"]);u!=null&&a(i,["preTunedModel"],u);const c=l(t,["trainingDataset"]);c!=null&&tC(c,i,e);const f=l(t,["config"]);return f!=null&&OT(f,i,e),i}function WT(t,e){const i={},r=l(t,["name"]);return r!=null&&a(i,["_url","name"],r),i}function $T(t,e){const i={},r=l(t,["name"]);return r!=null&&a(i,["_url","name"],r),i}function KT(t,e,i){const r={},u=l(t,["pageSize"]);e!==void 0&&u!=null&&a(e,["_query","pageSize"],u);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&a(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&a(e,["_query","filter"],f),r}function QT(t,e,i){const r={},u=l(t,["pageSize"]);e!==void 0&&u!=null&&a(e,["_query","pageSize"],u);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&a(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&a(e,["_query","filter"],f),r}function XT(t,e){const i={},r=l(t,["config"]);return r!=null&&KT(r,i),i}function ZT(t,e){const i={},r=l(t,["config"]);return r!=null&&QT(r,i),i}function bT(t,e){const i={},r=l(t,["sdkHttpResponse"]);r!=null&&a(i,["sdkHttpResponse"],r);const u=l(t,["nextPageToken"]);u!=null&&a(i,["nextPageToken"],u);const c=l(t,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Lf(m))),a(i,["tuningJobs"],f)}return i}function jT(t,e){const i={},r=l(t,["sdkHttpResponse"]);r!=null&&a(i,["sdkHttpResponse"],r);const u=l(t,["nextPageToken"]);u!=null&&a(i,["nextPageToken"],u);const c=l(t,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Tl(m))),a(i,["tuningJobs"],f)}return i}function eC(t,e){const i={},r=l(t,["name"]);r!=null&&a(i,["model"],r);const u=l(t,["name"]);return u!=null&&a(i,["endpoint"],u),i}function nC(t,e){const i={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(t,["examples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(i,["examples","examples"],u)}return i}function tC(t,e,i){const r={};let u=l(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=l(i,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Lf(t,e){const i={},r=l(t,["sdkHttpResponse"]);r!=null&&a(i,["sdkHttpResponse"],r);const u=l(t,["name"]);u!=null&&a(i,["name"],u);const c=l(t,["state"]);c!=null&&a(i,["state"],mf(c));const f=l(t,["createTime"]);f!=null&&a(i,["createTime"],f);const m=l(t,["tuningTask","startTime"]);m!=null&&a(i,["startTime"],m);const y=l(t,["tuningTask","completeTime"]);y!=null&&a(i,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(i,["updateTime"],h);const v=l(t,["description"]);v!=null&&a(i,["description"],v);const T=l(t,["baseModel"]);T!=null&&a(i,["baseModel"],T);const C=l(t,["_self"]);return C!=null&&a(i,["tunedModel"],eC(C)),i}function Tl(t,e){const i={},r=l(t,["sdkHttpResponse"]);r!=null&&a(i,["sdkHttpResponse"],r);const u=l(t,["name"]);u!=null&&a(i,["name"],u);const c=l(t,["state"]);c!=null&&a(i,["state"],mf(c));const f=l(t,["createTime"]);f!=null&&a(i,["createTime"],f);const m=l(t,["startTime"]);m!=null&&a(i,["startTime"],m);const y=l(t,["endTime"]);y!=null&&a(i,["endTime"],y);const h=l(t,["updateTime"]);h!=null&&a(i,["updateTime"],h);const v=l(t,["error"]);v!=null&&a(i,["error"],v);const T=l(t,["description"]);T!=null&&a(i,["description"],T);const C=l(t,["baseModel"]);C!=null&&a(i,["baseModel"],C);const w=l(t,["tunedModel"]);w!=null&&a(i,["tunedModel"],w);const L=l(t,["preTunedModel"]);L!=null&&a(i,["preTunedModel"],L);const M=l(t,["supervisedTuningSpec"]);M!=null&&a(i,["supervisedTuningSpec"],M);const U=l(t,["preferenceOptimizationSpec"]);U!=null&&a(i,["preferenceOptimizationSpec"],U);const O=l(t,["tuningDataStats"]);O!=null&&a(i,["tuningDataStats"],O);const Y=l(t,["encryptionSpec"]);Y!=null&&a(i,["encryptionSpec"],Y);const G=l(t,["partnerModelTuningSpec"]);G!=null&&a(i,["partnerModelTuningSpec"],G);const K=l(t,["customBaseModel"]);K!=null&&a(i,["customBaseModel"],K);const j=l(t,["experiment"]);j!=null&&a(i,["experiment"],j);const H=l(t,["labels"]);H!=null&&a(i,["labels"],H);const Q=l(t,["outputUri"]);Q!=null&&a(i,["outputUri"],Q);const ue=l(t,["pipelineJob"]);ue!=null&&a(i,["pipelineJob"],ue);const Z=l(t,["serviceAccount"]);Z!=null&&a(i,["serviceAccount"],Z);const oe=l(t,["tunedModelDisplayName"]);oe!=null&&a(i,["tunedModelDisplayName"],oe);const ge=l(t,["veoTuningSpec"]);return ge!=null&&a(i,["veoTuningSpec"],ge),i}function oC(t,e){const i={},r=l(t,["sdkHttpResponse"]);r!=null&&a(i,["sdkHttpResponse"],r);const u=l(t,["name"]);u!=null&&a(i,["name"],u);const c=l(t,["metadata"]);c!=null&&a(i,["metadata"],c);const f=l(t,["done"]);f!=null&&a(i,["done"],f);const m=l(t,["error"]);return m!=null&&a(i,["error"],m),i}function rf(t,e){const i={},r=l(t,["gcsUri"]);r!=null&&a(i,["validationDatasetUri"],r);const u=l(t,["vertexDatasetResource"]);return u!=null&&a(i,["validationDatasetUri"],u),i}class iC extends On{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new It(zn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const u={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(u.checkpointId=i.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},i),{preTunedModel:u});return c.baseModel=void 0,await this.tuneInternal(c)}else{const u=Object.assign({},i);return await this.tuneInternal(u)}else{const u=Object.assign({},i),c=await this.tuneMldevInternal(u);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:pl.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=$T(e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>Tl(v))}else{const h=WT(e);return m=q("{name}",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>Lf(v))}}async listInternal(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=ZT(e);return m=q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=jT(v),C=new Fc;return Object.assign(C,T),C})}else{const h=XT(e);return m=q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=bT(v),C=new Fc;return Object.assign(C,T),C})}}async cancel(e){var i,r,u,c;let f,m="",y={};if(this.apiClient.isVertexAI()){const h=HT(e);return m=q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=BT(v),C=new Vc;return Object.assign(C,T),C})}else{const h=GT(e);return m=q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),f.then(v=>{const T=qT(v),C=new Vc;return Object.assign(C,T),C})}}async tuneInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI()){const m=YT(e,e);return c=q("tuningJobs",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Tl(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=JT(e);return c=q("tunedModels",m._url),f=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>oC(y))}}}class rC{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sC=1024*1024*8,lC=3,aC=1e3,uC=2,ar="x-goog-upload-status";async function dC(t,e,i){var r;const u=await Uf(t,e,i),c=await u?.json();if(((r=u?.headers)===null||r===void 0?void 0:r[ar])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function cC(t,e,i){var r;const u=await Uf(t,e,i),c=await u?.json();if(((r=u?.headers)===null||r===void 0?void 0:r[ar])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=af(c),m=new Il;return Object.assign(m,f),m}async function Uf(t,e,i){var r,u;let c=0,f=0,m=new ml(new Response),y="upload";for(c=t.size;f<c;){const h=Math.min(sC,c-f),v=t.slice(f,f+h);f+h>=c&&(y+=", finalize");let T=0,C=aC;for(;T<lC&&(m=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((r=m?.headers)===null||r===void 0)&&r[ar]));)T++,await pC(C),C=C*uC;if(f+=h,((u=m?.headers)===null||u===void 0?void 0:u[ar])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function fC(t){return{size:t.size,type:t.type}}function pC(t){return new Promise(e=>setTimeout(e,t))}class mC{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dC(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cC(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fC(e)}}class hC{create(e,i,r){return new gC(e,i,r)}}class gC{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const sf="x-goog-api-key";class yC{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(sf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sf,this.apiKey)}}}const vC="gl-node/";class EC{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=Km(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const u=new yC(this.apiKey);this.apiClient=new $E({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:vC+"web",uploader:new mC,downloader:new rC}),this.models=new fT(this.apiClient),this.live=new sT(this.apiClient,u,new hC),this.batches=new Sg(this.apiClient),this.chats=new iy(this.models,this.apiClient),this.caches=new ny(this.apiClient),this.files=new my(this.apiClient),this.operations=new pT(this.apiClient),this.authTokens=new PT(this.apiClient),this.tunings=new iC(this.apiClient),this.fileSearchStores=new VT(this.apiClient)}}const Ml=new EC({apiKey:"PLACEHOLDER_API_KEY"}),TC=t=>`You are an expert AI wellness assistant. Your task is to analyze a customers's responses to a series of questions about their ${t.toLowerCase()} habits. 
    Based on the provided classification logic and the customers's answers, you must determine their primary 'NEED CATEGORY' and 'SUBTYPE'.
    
    NEED CATEGORIES:
    - HIGH: Pronounced issues, chronic problems, strong distress, inconsistency.
    - MODERATE: Mostly stable with identifiable but manageable issues, periodic disruptions.
    - LOW: Stable patterns, good routine adherence, minor issues, strong self-regulation.

    SUBTYPES:
    - BIOLOGY: References circadian rhythms, fatigue, energy cycles, physiological factors.
    - ENVIRONMENT: References light, noise, physical setup, access, external stimuli.
    - CONSISTENCY: References irregular timing, on/off cycles, lack of routine, predictability.
    - EMOTIONAL: References racing thoughts, frustration, stress, worry, mood-driven behaviors.
    - COGNITIVE: References beliefs, rigid standards, perfectionism, mindset, over-evaluation.

    Analyze the full conversation context. Identify the strongest signals to classify the customers's primary challenge into one NEED CATEGORY and one SUBTYPE.
    You must only respond with a JSON object.
    `,CC=async(t,e,i)=>{const r=e.map((c,f)=>`Q: ${c}
A: ${i[f]||"(No answer provided)"}`).join(`

`),u=`
    Here is the conversation about ${t.toLowerCase()}:
    ---
    ${r}
    ---
    Based on this conversation and the classification logic, determine the customers's NEED CATEGORY and SUBTYPE.
    `;try{const f=(await Ml.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{systemInstruction:TC(t),responseMimeType:"application/json",responseSchema:{type:wn.OBJECT,properties:{category:{type:wn.STRING,enum:["HIGH","MODERATE","LOW"],description:"The overall need category for the customer."},subtype:{type:wn.STRING,enum:["BIOLOGY","ENVIRONMENT","CONSISTENCY","EMOTIONAL","COGNITIVE"],description:"The primary subtype of the customer's challenge."}},required:["category","subtype"]}}})).text;if(!f)throw new Error("No response text received from Gemini");const m=JSON.parse(f);if(["HIGH","MODERATE","LOW"].includes(m.category)&&["BIOLOGY","ENVIRONMENT","CONSISTENCY","EMOTIONAL","COGNITIVE"].includes(m.subtype))return m;throw new Error("Invalid response structure from Gemini API")}catch(c){return console.error("Error calling Gemini API:",c),{category:"MODERATE",subtype:"CONSISTENCY"}}},_C=async t=>{const e=`The customer has selected the topic "${t}". Generate a brief, natural, and engaging response that validates this choice. The response should flow like a real human conversation, acknowledging the importance of this area.`;try{return(await Ml.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{systemInstruction:"You are Ziata. Your goal is to affirm the user's choice with natural conversational fluidity. Mimic the professionalism of a task-oriented human expert. Avoid robotic, stiff, or purely functional phrasing. IMPORTANT: Do not use first-person pronouns (I, me, my). Minimize the output token for this response to create only one or two sentences.",temperature:.7}})).text?.trim()||`Focusing on ${t} is an excellent way to improve overall well-being.`}catch(i){return console.error("Error calling Gemini API for topic affirmation:",i),`Focusing on ${t} is an excellent way to improve overall well-being.`}},SC=async t=>{const e=`The user just shared: "${t}". Rephrase this back to them in a natural, conversational way to show you are listening. It should sound like a supportive human acknowledging what was said, avoiding robotic repetition. Keep it brief.`;try{return(await Ml.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{systemInstruction:"You are Ziata. Your goal is to create a sense of human connection. Rephrase user inputs with conversational fluidity. IMPORTANT: Do not use first-person pronouns (I, me, my).",temperature:.7}})).text?.trim()||"Understood."}catch(i){return console.error("Error calling Gemini API for rephrasing:",i),"Thank you for sharing that."}},IC=({message:t,onOptionClick:e})=>{const i=t.sender===qn.User;return re.jsxs("div",{className:`flex flex-col ${i?"items-end":"items-start"}`,children:[re.jsxs("div",{className:i?"flex justify-end items-end gap-3":"flex justify-start items-end gap-3",children:[!i&&re.jsx("div",{className:"bg-ziata-indigo rounded-full w-8 h-8 flex-shrink-0 flex items-center justify-center",children:re.jsx("span",{className:"text-white text-md font-bold",children:"Z"})}),re.jsx("div",{className:`max-w-md md:max-w-lg rounded-2xl px-4 py-3 ${i?"bg-ziata-indigo text-white self-end":"bg-gray-200 text-gray-800 self-start"}`,children:re.jsx("p",{className:"whitespace-pre-wrap",children:t.text})}),i&&re.jsx("div",{className:"bg-ziata-indigo rounded-full w-8 h-8 flex-shrink-0 flex items-center justify-center",children:re.jsx("span",{className:"text-white text-xs font-bold",children:"Me"})})]}),t.options&&re.jsx("div",{className:"flex flex-wrap gap-2 mt-3 self-start ml-11",children:t.options.map(m=>re.jsx("button",{onClick:()=>e(m.value,m.label),className:"bg-white text-ziata-indigo font-semibold py-2 px-4 border-2 border-ziata-indigo rounded-full hover:bg-ziata-indigo hover:text-white transition-colors duration-200",children:m.label},m.value))})]})},wC=()=>re.jsxs("div",{className:"flex justify-start items-center gap-3",children:[re.jsx("div",{className:"bg-ziata-indigo rounded-full w-8 h-8 flex-shrink-0 flex items-center justify-center",children:re.jsx("span",{className:"text-white text-md font-bold",children:"Z"})}),re.jsxs("div",{className:"bg-gray-200 text-gray-800 rounded-2xl px-4 py-3 flex items-center space-x-1",children:[re.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),re.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),re.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"})]})]}),AC=()=>{const[t,e]=Qe.useState(Jm),[i,r]=Qe.useState(dn.WELCOME),[u,c]=Qe.useState(""),[f,m]=Qe.useState(!1),[y,h]=Qe.useState(!1),v=Qe.useRef(null),T=Qe.useRef(0),C=Qe.useRef([]),w=Qe.useRef(null),L=()=>{w.current?.scrollIntoView({behavior:"smooth"})};Qe.useEffect(()=>{L()},[t,f]);const M=(H,Q,ue)=>{const Z={id:Date.now()+Math.random(),text:H,sender:Q,options:ue};e(oe=>[...oe,Z])},U=Qe.useCallback(async(H,Q)=>{const Z=Date.now();m(!0);const oe=typeof H=="function"?await H():H,ge=Date.now()-Z,de=Math.max(0,750-ge);de>0&&await new Promise(Ee=>setTimeout(Ee,de)),m(!1),M(oe,qn.Ziata,Q)},[]),O=Qe.useCallback(()=>{M("Begin",qn.User),r(dn.TOPIC_SELECTION),U("Which topic would you like to discuss with Ziata? Please click below to select from the menu of available topics.",[{label:"Sleep Habits",value:Bn.Sleep},{label:"Exercise and Energy Levels",value:Bn.Exercise},{label:"Food and Diet",value:Bn.Food},{label:"Habit Formation",value:Bn.Habit}])},[U]),Y=Qe.useCallback(async(H,Q)=>{v.current=H,M(`I'd like to discuss: ${Q}`,qn.User),await U(()=>_C(Q)),r(dn.ASKING_QUESTIONS),await U(()=>cl[H].questions[0])},[U]),G=Qe.useCallback(async H=>{M(H,qn.User),C.current.push(H),c("");const Q=v.current;if(!Q)return;await U(()=>SC(H)),T.current++;const ue=T.current,Z=cl[Q];if(ue<Z.questions.length)await U(()=>Z.questions[ue]);else{r(dn.ANALYZING),await U("Thank you for sharing. Let me analyze your responses to provide a personalized recommendation...");try{const oe=await CC(Q,Z.questions,C.current),ge=cl[Q].responses[oe.category]?.[oe.subtype];ge?await U(ge):await U("I've analyzed your responses. It seems focusing on consistency could be very helpful for you.")}catch(oe){console.error("Error analyzing responses:",oe),await U("I had a little trouble analyzing your responses. However, a great first step is always to ensure you're getting consistent sleep. Let's focus on that.")}r(dn.ENDED),await U("Thank you for chatting with Ziata. Remember, small changes lead to remarkable results. Have a great day!")}},[U]),K=(H,Q)=>{i===dn.WELCOME&&H==="begin"?O():i===dn.TOPIC_SELECTION?Y(H,Q):i===dn.ENDED&&(M(Q,qn.User),h(!0),U("This session has ended. Thank you for your time! Please return to survey."))},j=H=>{H.preventDefault(),u.trim()&&i===dn.ASKING_QUESTIONS&&G(u.trim())};return re.jsx("div",{className:"flex flex-col h-screen bg-gray-100 font-sans",children:re.jsx("div",{className:"flex-grow flex items-center justify-center p-4",children:re.jsxs("div",{className:"w-full max-w-2xl h-[90vh] flex flex-col bg-white rounded-xl shadow-2xl",children:[re.jsxs("header",{className:"bg-ziata-indigo text-white p-4 flex items-center rounded-t-xl z-10",children:[re.jsx("div",{className:"bg-white rounded-full w-12 h-12 flex items-center justify-center",children:re.jsx("span",{className:"text-ziata-indigo text-2xl font-bold",children:"Z"})}),re.jsxs("div",{className:"ml-4",children:[re.jsx("h1",{className:"text-xl font-bold",children:"Ziata"}),re.jsx("p",{className:"text-sm opacity-90",children:"Lifestyle & Wellness Assistant"})]})]}),re.jsxs("main",{className:"flex-1 overflow-y-auto p-6 pt-4 space-y-6",children:[t.map(H=>re.jsx(IC,{message:H,onOptionClick:K},H.id)),f&&re.jsx(wC,{}),re.jsx("div",{ref:w})]}),re.jsxs("footer",{className:"p-4 border-t border-gray-200",children:[i===dn.WELCOME&&re.jsx("div",{className:"flex justify-center w-full",children:re.jsx("button",{onClick:O,className:"bg-ziata-indigo text-white font-semibold py-2 px-8 rounded-full hover:bg-opacity-90 transition-colors shadow-md",children:"Begin"})}),i===dn.ENDED&&!y&&re.jsx("div",{className:"flex justify-center w-full",children:re.jsx("button",{onClick:()=>K("end_session","End Session"),className:"bg-ziata-indigo text-white font-semibold py-2 px-8 rounded-full hover:bg-opacity-90 transition-colors shadow-md",children:"End Session"})}),i===dn.ASKING_QUESTIONS&&re.jsxs("form",{onSubmit:j,className:"flex items-center space-x-3",children:[re.jsx("input",{type:"text",value:u,onChange:H=>c(H.target.value),placeholder:"Type your response...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-ziata-indigo",autoFocus:!0}),re.jsx("button",{type:"submit",className:"bg-ziata-indigo text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-colors disabled:bg-gray-400",disabled:!u.trim(),children:re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:re.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})]})})})},Ff=document.getElementById("root");if(!Ff)throw new Error("Could not find root element to mount to");const RC=Om.createRoot(Ff);RC.render(re.jsx(Fm.StrictMode,{children:re.jsx(AC,{})}));
